<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="15458px" preserveAspectRatio="none" style="width:3189px;height:15458px;background:#FFFFFF;" version="1.1" viewBox="0 0 3189 15458" width="3189px" zoomAndPan="magnify"><defs/><g><rect height="45.2188" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="372" x="1404.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="344" x="1418.75" y="29.5332">Remittance Transfer using Mojaloop FX APIs POC</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="362" x="1409.75" y="47.1426">Payer DFSP requests conversion with SEND amount</text><rect fill="#ADD8E6" height="15389.8672" style="stroke:#181818;stroke-width:0.5;" width="720.5" x="323.5" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="76" x="645.75" y="75.7139">Payer DFSP</text><rect fill="#FFFFE0" height="15389.8672" style="stroke:#181818;stroke-width:0.5;" width="119" x="1924" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113" x="1927" y="75.7139">Discovery Service</text><rect fill="#DDDDDD" height="15389.8672" style="stroke:#181818;stroke-width:0.5;" width="439.5" x="2045" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="74" x="2227.75" y="75.7139">FX provider</text><rect fill="#ADD8E6" height="15389.8672" style="stroke:#181818;stroke-width:0.5;" width="483.5" x="2486.5" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79" x="2688.75" y="75.7139">Payee DFSP</text><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="259.8047"/><rect fill="#FFFFFF" height="871.4141" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="1077.4609"/><rect fill="#FFFFFF" height="1076.3359" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="2039.9297"/><rect fill="#FFFFFF" height="10396.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="4965.7734"/><rect fill="#FFFFFF" height="3839.1719" style="stroke:#181818;stroke-width:1.0;" width="10" x="1000" y="8998.5234"/><rect fill="#FFFFFF" height="364.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1000" y="14988.8516"/><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="350.8594"/><rect fill="#FFFFFF" height="454.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="653.375"/><rect fill="#FFFFFF" height="492.0313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="1918.5234"/><rect fill="#FFFFFF" height="438.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="2771.5859"/><rect fill="#FFFFFF" height="107.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="4888.7188"/><rect fill="#FFFFFF" height="879.5781" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="6512.3594"/><rect fill="#FFFFFF" height="487.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="8541.7344"/><rect fill="#FFFFFF" height="620.8438" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="10198.2656"/><rect fill="#FFFFFF" height="774.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="11326.25"/><rect fill="#FFFFFF" height="528.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="12574.7734"/><rect fill="#FFFFFF" height="891.3047" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="14127.8984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1978.5" y="411.5625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1978.5" y="1979.2266"/><rect fill="#FFFFFF" height="1739.75" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084" y="3179.3203"/><rect fill="#FFFFFF" height="685.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084" y="10788.7578"/><rect fill="#FFFFFF" height="294.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084" y="11573.7656"/><rect fill="#FFFFFF" height="235.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084" y="14605.2266"/><rect fill="#FFFFFF" height="558.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="2525.5" y="472.2656"/><rect fill="#FFFFFF" height="1590.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="2525.5" y="7361.5859"/><rect fill="#FFFFFF" height="1203.5" style="stroke:#181818;stroke-width:1.0;" width="10" x="2525.5" y="13072.8594"/><rect height="537.9219" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1540.5" x="950" y="11533.0625"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="368.5" x2="368.5" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="677.5" x2="677.5" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1000" x2="1000" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1408.5" x2="1408.5" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1983.5" x2="1983.5" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2089" x2="2089" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2422.5" x2="2422.5" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2530.5" x2="2530.5" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2908" x2="2908" y1="150.3984" y2="15371.4766"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3159.5" x2="3159.5" y1="150.3984" y2="15371.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="5" y="147.3223">$senderName</text><ellipse cx="52" cy="81.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52,89.2891 L52,116.2891 M39,97.2891 L65,97.2891 M52,116.2891 L39,131.2891 M52,116.2891 L65,131.2891 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="5" y="15385.0098">$senderName</text><ellipse cx="52" cy="15396.5859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52,15404.5859 L52,15431.5859 M39,15412.5859 L65,15412.5859 M52,15431.5859 L39,15446.5859 M52,15431.5859 L65,15446.5859 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="327.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="334.5" y="139.3223">Payer CBS</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="327.5" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="334.5" y="15392.0098">Payer CBS</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="620.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="627.5" y="139.3223">Core Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="620.5" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="627.5" y="15392.0098">Core Connector</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="960" y="82.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="981.5" y="104.1035">Payer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="971.5" y="121.7129">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="967" y="139.3223">Connector</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="960" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="981.5" y="15392.0098">Payer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="971.5" y="15409.6191">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="967" y="15427.2285">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1351.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1358.5" y="139.3223">Mojaloop Switch</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1351.5" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1358.5" y="15392.0098">Mojaloop Switch</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="1940.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1947.5" y="139.3223">ALS Oracle</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="1940.5" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1947.5" y="15392.0098">ALS Oracle</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2049" y="100.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="2076" y="121.7129">FXP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2056" y="139.3223">Connector</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2049" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="2076" y="15392.0098">FXP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2056" y="15409.6191">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2365.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2372.5" y="139.3223">Backend FX API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2365.5" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2372.5" y="15392.0098">Backend FX API</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2490.5" y="82.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2510.5" y="104.1035">Payee</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2502" y="121.7129">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2497.5" y="139.3223">Connector</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2490.5" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2510.5" y="15392.0098">Payee</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2502" y="15409.6191">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2497.5" y="15427.2285">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2851" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2858" y="139.3223">Core Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2851" y="15370.4766"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2858" y="15392.0098">Core Connector</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="3141.5" y="147.3223">Yaro</text><ellipse cx="3159.5" cy="81.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M3159.5,89.2891 L3159.5,116.2891 M3146.5,97.2891 L3172.5,97.2891 M3159.5,116.2891 L3146.5,131.2891 M3159.5,116.2891 L3172.5,131.2891 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="3141.5" y="15385.0098">Yaro</text><ellipse cx="3159.5" cy="15396.5859" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M3159.5,15404.5859 L3159.5,15431.5859 M3146.5,15412.5859 L3172.5,15412.5859 M3159.5,15431.5859 L3146.5,15446.5859 M3159.5,15431.5859 L3172.5,15446.5859 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="259.8047"/><rect fill="#FFFFFF" height="871.4141" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="1077.4609"/><rect fill="#FFFFFF" height="1076.3359" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="2039.9297"/><rect fill="#FFFFFF" height="10396.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="995" y="4965.7734"/><rect fill="#FFFFFF" height="3839.1719" style="stroke:#181818;stroke-width:1.0;" width="10" x="1000" y="8998.5234"/><rect fill="#FFFFFF" height="364.625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1000" y="14988.8516"/><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="350.8594"/><rect fill="#FFFFFF" height="454.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="653.375"/><rect fill="#FFFFFF" height="492.0313" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="1918.5234"/><rect fill="#FFFFFF" height="438.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="2771.5859"/><rect fill="#FFFFFF" height="107.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="4888.7188"/><rect fill="#FFFFFF" height="879.5781" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="6512.3594"/><rect fill="#FFFFFF" height="487.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="8541.7344"/><rect fill="#FFFFFF" height="620.8438" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="10198.2656"/><rect fill="#FFFFFF" height="774.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="11326.25"/><rect fill="#FFFFFF" height="528.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="12574.7734"/><rect fill="#FFFFFF" height="891.3047" style="stroke:#181818;stroke-width:1.0;" width="10" x="1404" y="14127.8984"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1978.5" y="411.5625"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1978.5" y="1979.2266"/><rect fill="#FFFFFF" height="1739.75" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084" y="3179.3203"/><rect fill="#FFFFFF" height="685.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084" y="10788.7578"/><rect fill="#FFFFFF" height="294.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084" y="11573.7656"/><rect fill="#FFFFFF" height="235.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2084" y="14605.2266"/><rect fill="#FFFFFF" height="558.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="2525.5" y="472.2656"/><rect fill="#FFFFFF" height="1590.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="2525.5" y="7361.5859"/><rect fill="#FFFFFF" height="1203.5" style="stroke:#181818;stroke-width:1.0;" width="10" x="2525.5" y="13072.8594"/><polygon fill="#181818" points="357,195.1016,367,199.1016,357,203.1016,361,199.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="363" y1="199.1016" y2="199.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="186.0693">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="70" y="177.8936">I'd like to pay Yaro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="70" y="194.2451">300 BWP, please</text><polygon fill="#181818" points="666,225.4531,676,229.4531,666,233.4531,670,229.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="369" x2="672" y1="229.4531" y2="229.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="376" y="224.5967">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="387" y="224.5967">Initiate remittance transfer</text><polygon fill="#181818" points="983,255.8047,993,259.8047,983,263.8047,987,259.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="989" y1="259.8047" y2="259.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="685" y="254.9482">3</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="696" y="254.9482">GET /parties/MSISDN/2551234567890</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3182.5" x="0" y="288.9805"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="288.9805" y2="288.9805"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="291.9805" y2="291.9805"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="122" x="1530.25" y="277.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104" x="1536.25" y="295.2998">Discovery Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="350.8594" y2="346.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="350.8594" y2="354.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1005" x2="1403" y1="350.8594" y2="350.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1012" y="337.8271">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="1023" y="329.6514">I want to send to MSISDN 2551234567890</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="1023" y="346.0029">GET /parties/MSISDN/2551234567890</text><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1011" y1="381.2109" y2="377.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1011" y1="381.2109" y2="385.2109"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1000" x2="1403" y1="381.2109" y2="381.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1017" y="376.3545">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1028" y="376.3545">202 I'll get back to you</text><polygon fill="#181818" points="1966.5,407.5625,1976.5,411.5625,1966.5,415.5625,1970.5,411.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1972.5" y1="411.5625" y2="411.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1421" y="406.7061">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="1432" y="406.7061">Who owns MSISDN 2551234567890?</text><polygon fill="#181818" points="1425,437.9141,1415,441.9141,1425,445.9141,1421,441.9141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1419" x2="1982.5" y1="441.9141" y2="441.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1431" y="437.0576">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1442" y="437.0576">It's PayeeFSP</text><line style="stroke:#181818;stroke-width:1.0;" x1="2523.5" x2="2513.5" y1="472.2656" y2="468.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="2523.5" x2="2513.5" y1="472.2656" y2="476.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2524.5" y1="472.2656" y2="472.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1421" y="467.4092">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1432" y="467.4092">Do you own MSISDN 2551234567890?</text><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="502.6172" y2="498.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="502.6172" y2="506.6172"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414" x2="2524.5" y1="502.6172" y2="502.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1431" y="497.7607">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1442" y="497.7607">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2535.5" x2="2577.5" y1="532.9688" y2="532.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="2577.5" x2="2577.5" y1="532.9688" y2="545.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="2536.5" x2="2577.5" y1="545.9688" y2="545.9688"/><polygon fill="#181818" points="2546.5,541.9688,2536.5,545.9688,2546.5,549.9688,2542.5,545.9688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2542.5" y="528.1123">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="2560.5" y="528.1123">Check Sanction list status &amp; trigger a refresh of the status</text><polygon fill="#181818" points="2896.5,572.3203,2906.5,576.3203,2896.5,580.3203,2900.5,576.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2535.5" x2="2902.5" y1="576.3203" y2="576.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2542.5" y="571.4639">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="2560.5" y="571.4639">Check account and get currency type</text><polygon fill="#181818" points="2546.5,602.6719,2536.5,606.6719,2546.5,610.6719,2542.5,606.6719" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2540.5" x2="2907.5" y1="606.6719" y2="606.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2552.5" y="601.8154">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="2570.5" y="601.8154">Result</text><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="653.375" y2="649.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="653.375" y2="657.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2524.5" y1="653.375" y2="653.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1431" y="640.3428">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1449" y="632.167">Yes, it's Yaro. He can receive in TZS</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="1449" y="648.5186">PUT /parties/MSISDN/2551234567890</text><path d="M2218,666.375 L2218,1003.375 L2520,1003.375 L2520,676.375 L2510,666.375 L2218,666.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2510,666.375 L2510,676.375 L2520,676.375 L2510,666.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="2224" y="684.8701">PUT /parties</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2224" y="701.2217">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="2240" y="717.5732">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="2256" y="733.9248">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="2256" y="750.2764">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="2256" y="766.6279">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2240" y="782.9795">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="2240" y="799.3311">"merchantClassificationCode": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2240" y="815.6826">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2240" y="832.0342">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2256" y="848.3857">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2256" y="864.7373">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2256" y="881.0889">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2256" y="897.4404">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2256" y="913.792">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="2256" y="930.1436">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="2256" y="946.4951">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2240" y="962.8467">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="2240" y="979.1982">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2224" y="995.5498">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2528.5" x2="2518.5" y1="1030.7578" y2="1026.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="2528.5" x2="2518.5" y1="1030.7578" y2="1034.7578"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414" x2="2529.5" y1="1030.7578" y2="1030.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="1025.9014">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1439" y="1025.9014">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1016" y1="1077.4609" y2="1073.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1016" y1="1077.4609" y2="1081.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1005" x2="1403" y1="1077.4609" y2="1077.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1022" y="1064.4287">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1040" y="1056.2529">Yes, it's Yaro. He can receive in TZS</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="1040" y="1072.6045">PUT /parties/MSISDN/2551234567890</text><line style="stroke:#181818;stroke-width:1.0;" x1="1407" x2="1397" y1="1107.8125" y2="1103.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1407" x2="1397" y1="1107.8125" y2="1111.8125"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1005" x2="1408" y1="1107.8125" y2="1107.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1012" y="1102.9561">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1030" y="1102.9561">200 Gotcha</text><polygon fill="#181818" points="689,1150.5156,679,1154.5156,689,1158.5156,685,1154.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="683" x2="994" y1="1154.5156" y2="1154.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695" y="1141.4834">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="713" y="1133.3076">Here is the party information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="713" y="1149.6592">and supported currencies</text><path d="M683,1167.5156 L683,1585.5156 L1017,1585.5156 L1017,1177.5156 L1007,1167.5156 L683,1167.5156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1007,1167.5156 L1007,1177.5156 L1017,1177.5156 L1007,1167.5156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="1186.0107">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="705" y="1202.3623">"party": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="721" y="1218.7139">"body": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="737" y="1235.0654">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="753" y="1251.417">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="753" y="1267.7686">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="753" y="1284.1201">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="1300.4717">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="737" y="1316.8232">"merchantClassificationCode": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="737" y="1333.1748">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="737" y="1349.5264">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="753" y="1365.8779">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="753" y="1382.2295">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="753" y="1398.5811">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="753" y="1414.9326">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="1431.2842">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="753" y="1447.6357">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="753" y="1463.9873">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="1480.3389">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="741" y="1496.6904">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="1513.042">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="721" y="1529.3936">"headers": {}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="705" y="1545.7451">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="705" y="1562.0967">"currentState": "COMPLETED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="1578.4482">}</text><polygon fill="#181818" points="380,1609.6563,370,1613.6563,380,1617.6563,376,1613.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374" x2="677" y1="1613.6563" y2="1613.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="386" y="1608.7998">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="404" y="1608.7998">Here's are the receiver details</text><polygon fill="#181818" points="63,1656.3594,53,1660.3594,63,1664.3594,59,1660.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="368" y1="1660.3594" y2="1660.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69" y="1647.3271">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="87" y="1639.1514">Hi, $senderName: The number belongs to Yaro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="87" y="1655.5029">Let me know if you want to go ahead</text><polygon fill="#181818" points="357,1686.7109,367,1690.7109,357,1694.7109,361,1690.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="363" y1="1690.7109" y2="1690.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59" y="1685.8545">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="77" y="1685.8545">Yes please, go ahead</text><polygon fill="#181818" points="666,1717.0625,676,1721.0625,666,1725.0625,670,1721.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="369" x2="672" y1="1721.0625" y2="1721.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="376" y="1716.2061">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="394" y="1716.2061">Payer has accepted the party information</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3182.5" x="0" y="1750.2383"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="1750.2383" y2="1750.2383"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="1753.2383" y2="1753.2383"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="148" x="1517.25" y="1739.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="130" x="1523.25" y="1756.5576">Currency conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="720" y1="1812.1172" y2="1812.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="720" x2="720" y1="1812.1172" y2="1825.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="679" x2="720" y1="1825.1172" y2="1825.1172"/><polygon fill="#181818" points="689,1821.1172,679,1825.1172,689,1829.1172,685,1825.1172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="1799.085">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="703" y="1790.9092">Hmmm. I can only send in BWP.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="703" y="1807.2607">I need to get some currency conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="993" x2="983" y1="1871.8203" y2="1867.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="993" x2="983" y1="1871.8203" y2="1875.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="994" y1="1871.8203" y2="1871.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="1858.7881">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="703" y="1850.6123">What FXPs do you know about?</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="115" x="703" y="1866.9639">GET /services/FXP</text><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="1918.5234" y2="1914.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="1918.5234" y2="1922.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1005" x2="1403" y1="1918.5234" y2="1918.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1012" y="1905.4912">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1030" y="1897.3154">What FXPs do you know about?</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="115" x="1030" y="1913.667">GET /services/FXP</text><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1011" y1="1948.875" y2="1944.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1011" y1="1948.875" y2="1952.875"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1000" x2="1403" y1="1948.875" y2="1948.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1017" y="1944.0186">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1035" y="1944.0186">202 I'll get back to you</text><polygon fill="#181818" points="1966.5,1975.2266,1976.5,1979.2266,1966.5,1983.2266,1970.5,1979.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1972.5" y1="1979.2266" y2="1979.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="1974.3701">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1439" y="1974.3701">What FXPs do you know about?</text><polygon fill="#181818" points="1425,2005.5781,1415,2009.5781,1425,2013.5781,1421,2009.5781" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1419" x2="1982.5" y1="2009.5781" y2="2009.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1431" y="2004.7217">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1449" y="2004.7217">FDH FX</text><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1016" y1="2039.9297" y2="2035.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1016" y1="2039.9297" y2="2043.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1005" x2="1403" y1="2039.9297" y2="2039.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1022" y="2035.0732">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1040" y="2035.0732">Here are the available FXPs:FDH FX</text><path d="M1270,2052.9297 L1270,2160.9297 L1399,2160.9297 L1399,2062.9297 L1389,2052.9297 L1270,2052.9297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1389,2052.9297 L1389,2062.9297 L1399,2062.9297 L1389,2052.9297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1276" y="2071.4248">PUT /services/FXP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1276" y="2087.7764">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="1292" y="2104.1279">"providers": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="1308" y="2120.4795">"FDH_FX"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1292" y="2136.8311">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1276" y="2153.1826">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="2188.3906" y2="2184.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="2188.3906" y2="2192.3906"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1005" x2="1403" y1="2188.3906" y2="2188.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1012" y="2183.5342">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1030" y="2183.5342">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="679" x2="689" y1="2218.7422" y2="2214.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="679" x2="689" y1="2218.7422" y2="2222.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="994" y1="2218.7422" y2="2218.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695" y="2213.8857">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="713" y="2213.8857">Here are the available FXPs</text><path d="M683,2231.7422 L683,2322.7422 L794,2322.7422 L794,2241.7422 L784,2231.7422 L683,2231.7422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M784,2231.7422 L784,2241.7422 L794,2241.7422 L784,2231.7422 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="2250.2373">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="705" y="2266.5889">"providers": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="721" y="2282.9404">"FDH_FX"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="2299.292">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="2315.6436">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="720" y1="2350.8516" y2="2350.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="720" x2="720" y1="2350.8516" y2="2363.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="679" x2="720" y1="2363.8516" y2="2363.8516"/><polygon fill="#181818" points="689,2359.8516,679,2363.8516,689,2367.8516,685,2363.8516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="2345.9951">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="703" y="2345.9951">I'll ask FDH FX to perform my conversion</text><polygon fill="#181818" points="983,2406.5547,993,2410.5547,983,2414.5547,987,2410.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="989" y1="2410.5547" y2="2410.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="2397.5225">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="703" y="2389.3467">I want to get a quote from this FXP</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="100" x="703" y="2405.6982">POST /fxQuotes</text><path d="M683,2423.5547 L683,2727.5547 L1099,2727.5547 L1099,2433.5547 L1089,2423.5547 L683,2423.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1089,2423.5547 L1089,2433.5547 L1099,2433.5547 L1089,2423.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="2442.0498">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="705" y="2458.4014">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="705" y="2474.7529">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="705" y="2491.1045">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="721" y="2507.4561">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="721" y="2523.8076">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="721" y="2540.1592">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="2556.5107">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="721" y="2572.8623">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="737" y="2589.2139">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="737" y="2605.5654">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="2621.917">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="721" y="2638.2686">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="737" y="2654.6201">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="2670.9717">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="721" y="2687.3232">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="2703.6748">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="2720.0264">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="2771.5859" y2="2767.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="2771.5859" y2="2775.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1005" x2="1403" y1="2771.5859" y2="2771.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1012" y="2758.5537">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1030" y="2750.3779">Here is the initial version of the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="1030" y="2766.7295">Please quote me for the currency conversion.</text><path d="M1010,2784.5859 L1010,3088.5859 L1426,3088.5859 L1426,2794.5859 L1416,2784.5859 L1010,2784.5859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1416,2784.5859 L1416,2794.5859 L1426,2794.5859 L1416,2784.5859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1016" y="2803.0811">post /fxQuotes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1016" y="2819.4326">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="1032" y="2835.7842">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1032" y="2852.1357">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="1048" y="2868.4873">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1048" y="2884.8389">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1048" y="2901.1904">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1048" y="2917.542">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1048" y="2933.8936">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1064" y="2950.2451">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1064" y="2966.5967">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1048" y="2982.9482">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1048" y="2999.2998">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1064" y="3015.6514">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1048" y="3032.0029">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1048" y="3048.3545">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1032" y="3064.7061">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1016" y="3081.0576">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1011" y1="3116.2656" y2="3112.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1001" x2="1011" y1="3116.2656" y2="3120.2656"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1000" x2="1403" y1="3116.2656" y2="3116.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1017" y="3111.4092">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1035" y="3111.4092">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2082" x2="2072" y1="3179.3203" y2="3175.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="2082" x2="2072" y1="3179.3203" y2="3183.3203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2083" y1="3179.3203" y2="3179.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="3158.1123">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1439" y="3141.7607">Here is the initial version of the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="1439" y="3158.1123">Please quote me for the currency conversion.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94" x="1439" y="3174.4639">POST /fxQuote</text><line style="stroke:#181818;stroke-width:1.0;" x1="1410" x2="1420" y1="3209.6719" y2="3205.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1410" x2="1420" y1="3209.6719" y2="3213.6719"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1409" x2="2083" y1="3209.6719" y2="3209.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1426" y="3204.8154">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1444" y="3204.8154">202 I'll get back to you</text><polygon fill="#181818" points="2411,3236.0234,2421,3240.0234,2411,3244.0234,2415,3240.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2094" x2="2417" y1="3240.0234" y2="3240.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2101" y="3235.167">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="2119" y="3235.167">Lookup FX rate</text><path d="M2099,3253.0234 L2099,3557.0234 L2515,3557.0234 L2515,3263.0234 L2505,3253.0234 L2099,3253.0234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2505,3253.0234 L2505,3263.0234 L2515,3263.0234 L2505,3253.0234 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90" x="2105" y="3271.5186">post /fxQuotes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="3287.8701">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="2121" y="3304.2217">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="2121" y="3320.5732">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="2137" y="3336.9248">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2137" y="3353.2764">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="2137" y="3369.6279">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2137" y="3385.9795">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2137" y="3402.3311">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2153" y="3418.6826">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="2153" y="3435.0342">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2137" y="3451.3857">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="2137" y="3467.7373">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2153" y="3484.0889">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2137" y="3500.4404">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2137" y="3516.792">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2121" y="3533.1436">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="3549.4951">}</text><polygon fill="#181818" points="2105,3580.7031,2095,3584.7031,2105,3588.7031,2101,3584.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2099" x2="2422" y1="3584.7031" y2="3584.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2111" y="3579.8467">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2129" y="3579.8467">Return FX rate</text><path d="M2255,3597.7031 L2255,3639.7031 L2591,3639.7031 L2591,3607.7031 L2581,3597.7031 L2255,3597.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2581,3597.7031 L2581,3607.7031 L2591,3607.7031 L2581,3597.7031 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="2261" y="3616.1982">I will add a 33 BWP fee for undertaking the conversion.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302" x="2261" y="3632.5498">Now I'll set an expiry time, sign the quotation object,</text><path d="M2099,3650.4063 L2099,4150.4063 L2479,4150.4063 L2479,3660.4063 L2469,3650.4063 L2099,3650.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2469,3650.4063 L2469,3660.4063 L2479,3660.4063 L2469,3650.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="3668.9014">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="2121" y="3685.2529">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="2137" y="3701.6045">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2137" y="3717.9561">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="2137" y="3734.3076">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2137" y="3750.6592">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2137" y="3767.0107">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2153" y="3783.3623">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="2153" y="3799.7139">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2137" y="3816.0654">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="2137" y="3832.417">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2153" y="3848.7686">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2153" y="3865.1201">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2137" y="3881.4717">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2137" y="3897.8232">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="2137" y="3914.1748">"charges": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2153" y="3930.5264">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="2169" y="3946.8779">"chargeType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2169" y="3963.2295">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2185" y="3979.5811">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="2185" y="3995.9326">"amount": "33"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2169" y="4012.2842">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="2169" y="4028.6357">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2185" y="4044.9873">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="2185" y="4061.3389">"amount": "6000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2169" y="4077.6904">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2153" y="4094.042">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2137" y="4110.3936">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2121" y="4126.7451">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="4143.0967">}</text><path d="M1870,4160.9531 L1870,4317.9531 L2307,4317.9531 L2307,4170.9531 L2297,4160.9531 L1870,4160.9531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2297,4160.9531 L2297,4170.9531 L2307,4170.9531 L2297,4160.9531 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1876" y="4179.4482">Now I'll sign the quotation object,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="1876" y="4195.7998">create an ILP prepare packet and return it in the intermediary object.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1876" y="4212.1514"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="416" x="1876" y="4228.5029">NOTE: the ILP prepare packet contains the following items, all encoded:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="1876" y="4244.8545">- The amount being sent (i.e. in the source currency)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1876" y="4261.2061">- An expiry time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1876" y="4277.5576">- The condition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1876" y="4293.9092">- The name of the FXP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1876" y="4310.2607">- The content of the conversion terms</text><path d="M1644,4328.1172 L1644,4861.1172 L2079,4861.1172 L2079,4338.1172 L2069,4328.1172 L1644,4328.1172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2069,4328.1172 L2069,4338.1172 L2079,4338.1172 L2069,4328.1172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="329" x="1650" y="4346.6123">PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1650" y="4362.9639">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="1666" y="4379.3154">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1666" y="4395.667">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="1682" y="4412.0186">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1682" y="4428.3701">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1682" y="4444.7217">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1682" y="4461.0732">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1682" y="4477.4248">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1698" y="4493.7764">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1698" y="4510.1279">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1682" y="4526.4795">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1682" y="4542.8311">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1698" y="4559.1826">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1698" y="4575.5342">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1682" y="4591.8857">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1682" y="4608.2373">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1682" y="4624.5889">"charges": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1698" y="4640.9404">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1714" y="4657.292">"chargeType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1714" y="4673.6436">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1730" y="4689.9951">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1730" y="4706.3467">"amount": "33"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1714" y="4722.6982">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1714" y="4739.0498">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1730" y="4755.4014">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1730" y="4771.7529">"amount": "6000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1714" y="4788.1045">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1698" y="4804.4561">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1682" y="4820.8076">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1666" y="4837.1592">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1650" y="4853.5107">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="4888.7188" y2="4884.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="4888.7188" y2="4892.7188"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2083" y1="4888.7188" y2="4888.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1431" y="4883.8623">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="1449" y="4883.8623">Here's the signed conversion object</text><line style="stroke:#181818;stroke-width:1.0;" x1="2087" x2="2077" y1="4919.0703" y2="4915.0703"/><line style="stroke:#181818;stroke-width:1.0;" x1="2087" x2="2077" y1="4919.0703" y2="4923.0703"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414" x2="2088" y1="4919.0703" y2="4919.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="4914.2139">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1439" y="4914.2139">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1016" y1="4965.7734" y2="4961.7734"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1016" y1="4965.7734" y2="4969.7734"/><line style="stroke:#181818;stroke-width:1.0;" x1="1005" x2="1403" y1="4965.7734" y2="4965.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1022" y="4952.7412">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="1040" y="4944.5654">Here's the signed conversion object</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="329" x="1040" y="4960.917">PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9</text><line style="stroke:#181818;stroke-width:1.0;" x1="1407" x2="1397" y1="4996.125" y2="4992.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1407" x2="1397" y1="4996.125" y2="5000.125"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1005" x2="1408" y1="4996.125" y2="4996.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1012" y="4991.2686">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="1030" y="4991.2686">Gotcha</text><polygon fill="#181818" points="689,5022.4766,679,5026.4766,689,5030.4766,685,5026.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="683" x2="994" y1="5026.4766" y2="5026.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695" y="5021.6201">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="713" y="5021.6201">Here are the conversion terms</text><path d="M683,5039.4766 L683,5572.4766 L1118,5572.4766 L1118,5049.4766 L1108,5039.4766 L683,5039.4766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1108,5039.4766 L1108,5049.4766 L1118,5049.4766 L1108,5039.4766 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="5057.9717">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="705" y="5074.3232">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="705" y="5090.6748">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="705" y="5107.0264">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="721" y="5123.3779">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="721" y="5139.7295">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="721" y="5156.0811">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="5172.4326">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="721" y="5188.7842">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="737" y="5205.1357">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="737" y="5221.4873">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="5237.8389">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="721" y="5254.1904">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="737" y="5270.542">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="737" y="5286.8936">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="5303.2451">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="721" y="5319.5967">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="721" y="5335.9482">"charges": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="737" y="5352.2998">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="753" y="5368.6514">"chargeType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="753" y="5385.0029">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="769" y="5401.3545">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="769" y="5417.7061">"amount": "33"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="5434.0576">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="753" y="5450.4092">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="769" y="5466.7607">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="769" y="5483.1123">"amount": "6000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="753" y="5499.4639">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="737" y="5515.8154">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="721" y="5532.167">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="5548.5186">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="5564.8701">}</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3182.5" x="0" y="5598.9023"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="5598.9023" y2="5598.9023"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="5601.9023" y2="5601.9023"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="131" x="1525.75" y="5587.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113" x="1531.75" y="5605.2217">Agreement Phase</text><polygon fill="#181818" points="983,5656.7813,993,5660.7813,983,5664.7813,987,5660.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="989" y1="5660.7813" y2="5660.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="5647.749">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="703" y="5639.5732">I want to get a quote from the FSP</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="703" y="5655.9248">POST /quotes</text><path d="M683,5673.7813 L683,6467.7813 L1082,6467.7813 L1082,5683.7813 L1072,5673.7813 L683,5673.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1072,5673.7813 L1072,5683.7813 L1082,5683.7813 L1072,5673.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="5692.2764">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="705" y="5708.6279">"fspId": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="705" y="5724.9795">"quotesPostRequest": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="721" y="5741.3311">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="721" y="5757.6826">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="721" y="5774.0342">"payee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="737" y="5790.3857">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="753" y="5806.7373">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="753" y="5823.0889">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="753" y="5839.4404">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="5855.792">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="737" y="5872.1436">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="737" y="5888.4951">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="753" y="5904.8467">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="753" y="5921.1982">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="753" y="5937.5498">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="753" y="5953.9014">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="5970.2529">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="753" y="5986.6045">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="753" y="6002.9561">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="6019.3076">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="737" y="6035.6592">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="6052.0107">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="721" y="6068.3623">"payer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="737" y="6084.7139">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="753" y="6101.0654">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="753" y="6117.417">"partyIdentifier": "26787654321",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="753" y="6133.7686">"fspId": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="6150.1201">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="737" y="6166.4717">"name": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="737" y="6182.8232">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="753" y="6199.1748">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="753" y="6215.5264">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="753" y="6231.8779">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="753" y="6248.2295">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="6264.5811">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="753" y="6280.9326">"dateOfBirth": "1966-06-16"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="737" y="6297.2842">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="6313.6357">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="6329.9873">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="721" y="6346.3389">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="737" y="6362.6904">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="737" y="6379.042">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="6395.3936">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="721" y="6411.7451">"converter": "PAYER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="721" y="6428.0967">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="6444.4482">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="6460.7998">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="6512.3594" y2="6508.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="6512.3594" y2="6516.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1005" x2="1403" y1="6512.3594" y2="6512.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1012" y="6499.3271">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="1030" y="6491.1514">Please quote for a transfer which sends 48000 TZS.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="1030" y="6507.5029">POST /quotes</text><path d="M1010,6525.3594 L1010,7303.3594 L1409,7303.3594 L1409,6535.3594 L1399,6525.3594 L1010,6525.3594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1399,6525.3594 L1399,6535.3594 L1409,6535.3594 L1399,6525.3594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1016" y="6543.8545">POST /quotes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1016" y="6560.2061"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1032" y="6576.5576">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="1048" y="6592.9092">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="1048" y="6609.2607">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1048" y="6625.6123">"payee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1064" y="6641.9639">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1080" y="6658.3154">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1080" y="6674.667">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="1080" y="6691.0186">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1064" y="6707.3701">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1064" y="6723.7217">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1064" y="6740.0732">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1080" y="6756.4248">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1080" y="6772.7764">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="1080" y="6789.1279">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1080" y="6805.4795">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1080" y="6821.8311">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1080" y="6838.1826">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="1080" y="6854.5342">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1064" y="6870.8857">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1064" y="6887.2373">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1048" y="6903.5889">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1048" y="6919.9404">"payer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1064" y="6936.292">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1080" y="6952.6436">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1080" y="6968.9951">"partyIdentifier": "26787654321",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="1080" y="6985.3467">"fspId": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1064" y="7001.6982">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1064" y="7018.0498">"name": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1064" y="7034.4014">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1080" y="7050.7529">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="1080" y="7067.1045">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="1080" y="7083.4561">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1080" y="7099.8076">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1080" y="7116.1592">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="1080" y="7132.5107">"dateOfBirth": "1966-06-16"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1064" y="7148.8623">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1048" y="7165.2139">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1048" y="7181.5654">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1048" y="7197.917">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1064" y="7214.2686">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1064" y="7230.6201">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1048" y="7246.9717">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1048" y="7263.3232">"converter": "PAYER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1048" y="7279.6748">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1032" y="7296.0264">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1016" y1="7331.2344" y2="7327.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1006" x2="1016" y1="7331.2344" y2="7335.2344"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1005" x2="1403" y1="7331.2344" y2="7331.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1022" y="7326.3779">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1040" y="7326.3779">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2523.5" x2="2513.5" y1="7361.5859" y2="7357.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="2523.5" x2="2513.5" y1="7361.5859" y2="7365.5859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2524.5" y1="7361.5859" y2="7361.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="7356.7295">47</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="1439" y="7356.7295">POST /quotes</text><line style="stroke:#181818;stroke-width:1.0;" x1="1410" x2="1420" y1="7391.9375" y2="7387.9375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1410" x2="1420" y1="7391.9375" y2="7395.9375"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1409" x2="2524.5" y1="7391.9375" y2="7391.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1426" y="7387.0811">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1444" y="7387.0811">202 I'll get back to you</text><polygon fill="#181818" points="2896.5,7418.2891,2906.5,7422.2891,2896.5,7426.2891,2900.5,7422.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2535.5" x2="2902.5" y1="7422.2891" y2="7422.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2542.5" y="7417.4326">49</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="2560.5" y="7417.4326">POST /quoterequests</text><path d="M2540,7435.2891 L2540,8180.2891 L2923,8180.2891 L2923,7445.2891 L2913,7435.2891 L2540,7435.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2913,7435.2891 L2913,7445.2891 L2923,7445.2891 L2913,7435.2891 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2546" y="7453.7842">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="2562" y="7470.1357">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="2562" y="7486.4873">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="2562" y="7502.8389">"payee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="2578" y="7519.1904">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="2594" y="7535.542">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="2594" y="7551.8936">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="2594" y="7568.2451">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2578" y="7584.5967">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2578" y="7600.9482">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2578" y="7617.2998">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2594" y="7633.6514">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2594" y="7650.0029">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2594" y="7666.3545">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2594" y="7682.7061">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2594" y="7699.0576">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="2594" y="7715.4092">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="2594" y="7731.7607">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2578" y="7748.1123">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="2578" y="7764.4639">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2562" y="7780.8154">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="2562" y="7797.167">"payer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="2578" y="7813.5186">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="2594" y="7829.8701">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="2594" y="7846.2217">"partyIdentifier": "26787654321",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="2594" y="7862.5732">"fspId": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2578" y="7878.9248">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="2578" y="7895.2764">"name": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2578" y="7911.6279">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2594" y="7927.9795">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="2594" y="7944.3311">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="2594" y="7960.6826">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2594" y="7977.0342">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2594" y="7993.3857">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="2594" y="8009.7373">"dateOfBirth": "1966-06-16"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2578" y="8026.0889">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2562" y="8042.4404">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2562" y="8058.792">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="2562" y="8075.1436">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2578" y="8091.4951">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2578" y="8107.8467">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2562" y="8124.1982">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="2562" y="8140.5498">"converter": "PAYER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2562" y="8156.9014">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2546" y="8173.2529">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2908.5" x2="2950.5" y1="8224.8125" y2="8224.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="2950.5" x2="2950.5" y1="8224.8125" y2="8237.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="2909.5" x2="2950.5" y1="8237.8125" y2="8237.8125"/><polygon fill="#181818" points="2919.5,8233.8125,2909.5,8237.8125,2919.5,8241.8125,2915.5,8237.8125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2915.5" y="8211.7803">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="2933.5" y="8203.6045">OK, so I will charge 4000 TZS for this.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2933.5" y="8219.9561">Now I create terms of the transfer</text><polygon fill="#181818" points="2546.5,8264.1641,2536.5,8268.1641,2546.5,8272.1641,2542.5,8268.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2540.5" x2="2907.5" y1="8268.1641" y2="8268.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2552.5" y="8263.3076">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="2570.5" y="8263.3076">Here are the terms</text><path d="M2540,8281.1641 L2540,8470.1641 L2923,8470.1641 L2923,8291.1641 L2913,8281.1641 L2540,8281.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2913,8281.1641 L2913,8291.1641 L2923,8291.1641 L2913,8281.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2546" y="8299.6592">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="2562" y="8316.0107">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="2562" y="8332.3623">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="2562" y="8348.7139">"payeeFspFeeAmount": "4000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="2562" y="8365.0654">"payeeFspFeeAmountCurrency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2562" y="8381.417">"payeeReceiveAmount": "44000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="2562" y="8397.7686">"payeeReceiveAmountCurrency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="2562" y="8414.1201">"transferAmount": "48000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="2562" y="8430.4717">"transferAmountCurrency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2562" y="8446.8232">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2546" y="8463.1748">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2535.5" x2="2577.5" y1="8498.3828" y2="8498.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="2577.5" x2="2577.5" y1="8498.3828" y2="8511.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="2536.5" x2="2577.5" y1="8511.3828" y2="8511.3828"/><polygon fill="#181818" points="2546.5,8507.3828,2536.5,8511.3828,2546.5,8515.3828,2542.5,8511.3828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2542.5" y="8493.5264">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="2560.5" y="8493.5264">Now I will sign the transaction object</text><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="8541.7344" y2="8537.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="8541.7344" y2="8545.7344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2524.5" y1="8541.7344" y2="8541.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1431" y="8536.8779">53</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1449" y="8536.8779">Here's the signed quote</text><path d="M1958,8554.7344 L1958,8923.7344 L2520,8923.7344 L2520,8564.7344 L2510,8554.7344 L1958,8554.7344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2510,8554.7344 L2510,8564.7344 L2520,8564.7344 L2510,8554.7344 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="318" x="1964" y="8573.2295">put /quotes/382987a8-75ce-4037-b500-c475e08c1727</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1964" y="8589.5811"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1964" y="8605.9326">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1980" y="8622.2842">"transferAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1996" y="8638.6357">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1996" y="8654.9873">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1980" y="8671.3389">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="1980" y="8687.6904">"payeeReceiveAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1996" y="8704.042">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1996" y="8720.3936">"amount": "44000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1980" y="8736.7451">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1980" y="8753.0967">"payeeFspFee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1996" y="8769.4482">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1996" y="8785.7998">"amount": "4000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1980" y="8802.1514">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="1980" y="8818.5029">"expiration": "$payeeQuoteExpiration",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="1980" y="8834.8545">"ilpPacket": "</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="509" x="1996" y="8851.2061">&lt;This is encoded transaction object. It contains data from quote request and response.&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1980" y="8867.5576">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390" x="1980" y="8883.9092">"condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1964" y="8900.2607">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1964" y="8916.6123"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="2528.5" x2="2518.5" y1="8951.8203" y2="8947.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="2528.5" x2="2518.5" y1="8951.8203" y2="8955.8203"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414" x2="2529.5" y1="8951.8203" y2="8951.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="8946.9639">54</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1439" y="8946.9639">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1021" y1="8998.5234" y2="8994.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1021" y1="8998.5234" y2="9002.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1010" x2="1403" y1="8998.5234" y2="8998.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1027" y="8985.4912">55</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1045" y="8977.3154">Here's the signed quote</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="324" x="1045" y="8993.667">PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727</text><line style="stroke:#181818;stroke-width:1.0;" x1="1407" x2="1397" y1="9028.875" y2="9024.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1407" x2="1397" y1="9028.875" y2="9032.875"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1010" x2="1408" y1="9028.875" y2="9028.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1017" y="9024.0186">56</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1035" y="9024.0186">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1010" x2="1052" y1="9059.2266" y2="9059.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1052" x2="1052" y1="9059.2266" y2="9072.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1052" y1="9072.2266" y2="9072.2266"/><polygon fill="#181818" points="1021,9068.2266,1011,9072.2266,1021,9076.2266,1017,9072.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1017" y="9054.3701">57</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356" x="1035" y="9054.3701">OK, I can see that there are going to be 4000 TZS in charges.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3182.5" x="0" y="9101.4023"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="9101.4023" y2="9101.4023"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="9104.4023" y2="9104.4023"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="150" x="1516.25" y="9090.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="1522.25" y="9107.7217">Sender Confirmation</text><polygon fill="#181818" points="689,9159.2813,679,9163.2813,689,9167.2813,685,9163.2813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="683" x2="999" y1="9163.2813" y2="9163.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695" y="9150.249">58</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="713" y="9142.0732">Here's the quote for the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="713" y="9158.4248">It expires at 2021-08-25T14:17:09.663+01:00</text><path d="M683,9176.2813 L683,9594.2813 L1277,9594.2813 L1277,9186.2813 L1267,9176.2813 L683,9176.2813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1267,9176.2813 L1267,9186.2813 L1277,9186.2813 L1267,9176.2813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="9194.7764">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="61" x="705" y="9211.1279">"quotes": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="721" y="9227.4795">"body": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="737" y="9243.8311">"transferAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="753" y="9260.1826">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="753" y="9276.5342">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="9292.8857">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="737" y="9309.2373">"payeeReceiveAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="753" y="9325.5889">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="753" y="9341.9404">"amount": "44000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="9358.292">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="737" y="9374.6436">"payeeFspFee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="753" y="9390.9951">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="753" y="9407.3467">"amount": "4000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="9423.6982">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="737" y="9440.0498">"expiration": "$payeeQuoteExpiration",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="737" y="9456.4014">"ilpPacket": "</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="509" x="753" y="9472.7529">&lt;This is encoded transaction object. It contains data from quote request and response.&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="737" y="9489.1045">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390" x="737" y="9505.4561">"condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="9521.8076">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="721" y="9538.1592">"headers": {}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="705" y="9554.5107">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="705" y="9570.8623">"currentState": "COMPLETED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="9587.2139">}</text><polygon fill="#181818" points="380,9618.4219,370,9622.4219,380,9626.4219,376,9622.4219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374" x2="677" y1="9622.4219" y2="9622.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="386" y="9617.5654">59</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="404" y="9617.5654">Here's the quote</text><polygon fill="#181818" points="63,9714.1797,53,9718.1797,63,9722.1797,59,9718.1797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="368" y1="9718.1797" y2="9718.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69" y="9680.6201">60</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="87" y="9647.917">Hi, $senderName: I can do the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="87" y="9664.2686">It'll cost you 55 BWP(10000 TZS) in fees</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="87" y="9680.6201">and Yaro will receive</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="87" y="9696.9717">44000 TZS.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="87" y="9713.3232">Let me know if you want to go ahead</text><polygon fill="#181818" points="357,9744.5313,367,9748.5313,357,9752.5313,361,9748.5313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="363" y1="9748.5313" y2="9748.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59" y="9743.6748">61</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="77" y="9743.6748">Great! Yes please, go ahead</text><polygon fill="#181818" points="666,9774.8828,676,9778.8828,666,9782.8828,670,9778.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="369" x2="672" y1="9778.8828" y2="9778.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="376" y="9774.0264">62</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="394" y="9774.0264">Payer has accepted the terms please proceed</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3182.5" x="0" y="9808.0586"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="9808.0586" y2="9808.0586"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3182.5" y1="9811.0586" y2="9811.0586"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="113" x="1534.75" y="9796.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="95" x="1540.75" y="9814.3779">Transfer Phase</text><polygon fill="#181818" points="988,9865.9375,998,9869.9375,988,9873.9375,992,9869.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="994" y1="9869.9375" y2="9869.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="9856.9053">63</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="703" y="9848.7295">Proceed with the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="703" y="9865.0811">POST /fxTransfers</text><path d="M683,9882.9375 L683,10169.9375 L1115,10169.9375 L1115,9892.9375 L1105,9882.9375 L683,9882.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1105,9882.9375 L1105,9892.9375 L1115,9892.9375 L1105,9882.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="9901.4326">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="705" y="9917.7842">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="705" y="9934.1357">"commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="705" y="9950.4873">"determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="705" y="9966.8389">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="705" y="9983.1904">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="705" y="9999.542">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="705" y="10015.8936">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="721" y="10032.2451">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="721" y="10048.5967">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="705" y="10064.9482">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="705" y="10081.2998">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="721" y="10097.6514">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="721" y="10114.0029">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="705" y="10130.3545">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="705" y="10146.7061">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="10163.0576">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="10198.2656" y2="10194.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1402" x2="1392" y1="10198.2656" y2="10202.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1010" x2="1403" y1="10198.2656" y2="10198.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1017" y="10193.4092">64</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1035" y="10193.4092">Please confirm your part of the transfer</text><path d="M1015,10211.2656 L1015,10498.2656 L1447,10498.2656 L1447,10221.2656 L1437,10211.2656 L1015,10211.2656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1437,10211.2656 L1437,10221.2656 L1447,10221.2656 L1437,10211.2656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1021" y="10229.7607">POST /fxTransfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1021" y="10246.1123">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="1037" y="10262.4639">"commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="1037" y="10278.8154">"determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1037" y="10295.167">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1037" y="10311.5186">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1037" y="10327.8701">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1037" y="10344.2217">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1053" y="10360.5732">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1053" y="10376.9248">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1037" y="10393.2764">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1037" y="10409.6279">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1053" y="10425.9795">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1053" y="10442.3311">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1037" y="10458.6826">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="1037" y="10475.0342">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1021" y="10491.3857">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1021" y1="10526.5938" y2="10522.5938"/><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1021" y1="10526.5938" y2="10530.5938"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1010" x2="1403" y1="10526.5938" y2="10526.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1027" y="10521.7373">65</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1045" y="10521.7373">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="10556.9453" y2="10556.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="10556.9453" y2="10569.9453"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="10569.9453" y2="10569.9453"/><polygon fill="#181818" points="1425,10565.9453,1415,10569.9453,1425,10573.9453,1421,10569.9453" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="10552.0889">66</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="1439" y="10552.0889">OK, so this is an FX confirmation.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="10616.6484" y2="10616.6484"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="10616.6484" y2="10629.6484"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="10629.6484" y2="10629.6484"/><polygon fill="#181818" points="1425,10625.6484,1415,10629.6484,1425,10633.6484,1421,10629.6484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="10603.6162">67</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="1439" y="10595.4404">Is there any transfer with determiningTransactionId?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1439" y="10611.792">No, it does'nt.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="10660" y2="10660"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="10660" y2="10673"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="10673" y2="10673"/><polygon fill="#181818" points="1425,10669,1415,10673,1425,10677,1421,10673" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="10655.1436">68</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1439" y="10655.1436">Liquidity check and reserve on Payer DFSP's account</text><path d="M1272,10686 L1272,10745 L1545,10745 L1545,10696 L1535,10686 L1272,10686 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1535,10686 L1535,10696 L1545,10696 L1535,10686 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1278" y="10704.4951">Reservations:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1278" y="10720.8467"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="252" x="1278" y="10737.1982">PayerFSP has a reservation of 300 BWP</text><line style="stroke:#181818;stroke-width:1.0;" x1="2082" x2="2072" y1="10788.7578" y2="10784.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="2082" x2="2072" y1="10788.7578" y2="10792.7578"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2083" y1="10788.7578" y2="10788.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="10775.7256">69</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="1439" y="10767.5498">Please confirm the currency conversion part of the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1443" y="10783.9014">POST /fxTransfers</text><line style="stroke:#181818;stroke-width:1.0;" x1="1410" x2="1420" y1="10819.1094" y2="10815.1094"/><line style="stroke:#181818;stroke-width:1.0;" x1="1410" x2="1420" y1="10819.1094" y2="10823.1094"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1409" x2="2083" y1="10819.1094" y2="10819.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1426" y="10814.2529">70</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1444" y="10814.2529">202 I'll get back to you</text><polygon fill="#181818" points="2411,10845.4609,2421,10849.4609,2411,10853.4609,2415,10849.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2094" x2="2417" y1="10849.4609" y2="10849.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2101" y="10844.6045">71</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="2119" y="10844.6045">Reserve funds for FX conversion</text><path d="M2099,10862.4609 L2099,11166.4609 L2531,11166.4609 L2531,10872.4609 L2521,10862.4609 L2099,10862.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2521,10862.4609 L2521,10872.4609 L2531,10872.4609 L2521,10862.4609 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="2105" y="10880.9561">POST /fxTransfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="10897.3076">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2121" y="10913.6592">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="2121" y="10930.0107">"commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="2121" y="10946.3623">"determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2121" y="10962.7139">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="2121" y="10979.0654">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2121" y="10995.417">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2121" y="11011.7686">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2137" y="11028.1201">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="2137" y="11044.4717">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2121" y="11060.8232">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="2121" y="11077.1748">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2137" y="11093.5264">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2137" y="11109.8779">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2121" y="11126.2295">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="2121" y="11142.5811">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="11158.9326">}</text><polygon fill="#181818" points="2105,11190.1406,2095,11194.1406,2105,11198.1406,2101,11194.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2099" x2="2422" y1="11194.1406" y2="11194.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2111" y="11189.2842">72</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="2129" y="11189.2842">Success</text><path d="M2099,11207.1406 L2099,11298.1406 L2470,11298.1406 L2470,11217.1406 L2460,11207.1406 L2099,11207.1406 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2460,11207.1406 L2460,11217.1406 L2470,11217.1406 L2460,11207.1406 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="11225.6357">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2113" y="11241.9873">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="2113" y="11258.3389">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2113" y="11274.6904">"conversionState": "RESERVED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="11291.042">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="11326.25" y2="11322.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="11326.25" y2="11330.25"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2083" y1="11326.25" y2="11326.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1431" y="11321.3936">73</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1449" y="11321.3936">Confirmed. Here's the fulfilment</text><path d="M1539,11339.25 L1539,11447.25 L2079,11447.25 L2079,11349.25 L2069,11339.25 L1539,11339.25 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2069,11339.25 L2069,11349.25 L2079,11349.25 L2069,11339.25 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="1545" y="11357.7451">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1545" y="11374.0967">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="511" x="1553" y="11390.4482">"fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1553" y="11406.7998">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="1553" y="11423.1514">"conversionState": "RESERVED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1545" y="11439.5029">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2087" x2="2077" y1="11474.7109" y2="11470.7109"/><line style="stroke:#181818;stroke-width:1.0;" x1="2087" x2="2077" y1="11474.7109" y2="11478.7109"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414" x2="2088" y1="11474.7109" y2="11474.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="11469.8545">74</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1439" y="11469.8545">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="11505.0625" y2="11505.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="11505.0625" y2="11518.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="11518.0625" y2="11518.0625"/><polygon fill="#181818" points="1425,11514.0625,1415,11518.0625,1425,11522.0625,1421,11518.0625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="11500.2061">75</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="1439" y="11500.2061">Check fulfilment matches and cancel if not.</text><path d="M950,11533.0625 L1011,11533.0625 L1011,11541.4141 L1001,11551.4141 L950,11551.4141 L950,11533.0625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="537.9219" style="stroke:#000000;stroke-width:1.5;" width="1540.5" x="950" y="11533.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="965" y="11547.5576">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="1026" y="11546.4814">[Conversion failed]</text><polygon fill="#181818" points="2072,11569.7656,2082,11573.7656,2072,11577.7656,2076,11573.7656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2078" y1="11573.7656" y2="11573.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="11568.9092">76</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1439" y="11568.9092">Sorry. Conversion failed</text><path d="M1893,11586.7656 L1893,11677.7656 L2284,11677.7656 L2284,11596.7656 L2274,11586.7656 L1893,11586.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2274,11586.7656 L2274,11596.7656 L2284,11596.7656 L2274,11586.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="370" x="1899" y="11605.2607">PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1899" y="11621.6123">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1907" y="11637.9639">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="1907" y="11654.3154">"conversionState": "ABORTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1899" y="11670.667">}</text><polygon fill="#181818" points="1425,11701.875,1415,11705.875,1425,11709.875,1421,11705.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1419" x2="2083" y1="11705.875" y2="11705.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1431" y="11701.0186">77</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1449" y="11701.0186">Acknowledged</text><polygon fill="#181818" points="2411,11732.2266,2421,11736.2266,2411,11740.2266,2415,11736.2266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2094" x2="2417" y1="11736.2266" y2="11736.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2101" y="11731.3701">78</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="2119" y="11731.3701">Remove any reservations or obligations</text><path d="M2099,11749.2266 L2099,11840.2266 L2472,11840.2266 L2472,11759.2266 L2462,11749.2266 L2099,11749.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2462,11749.2266 L2462,11759.2266 L2472,11759.2266 L2462,11749.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="2105" y="11767.7217">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="11784.0732">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="2113" y="11800.4248">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="2113" y="11816.7764">"conversionState": "ABORTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2105" y="11833.1279">}</text><polygon fill="#181818" points="2100,11864.3359,2090,11868.3359,2100,11872.3359,2096,11868.3359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2094" x2="2422" y1="11868.3359" y2="11868.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2106" y="11863.4795">79</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="2124" y="11863.4795">Ok</text><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1021" y1="11898.6875" y2="11894.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1021" y1="11898.6875" y2="11902.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1010" x2="1403" y1="11898.6875" y2="11898.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1027" y="11893.8311">80</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1045" y="11893.8311">Sorry. Conversion failed</text><path d="M1205,11911.6875 L1205,12002.6875 L1613,12002.6875 L1613,11921.6875 L1603,11911.6875 L1205,11911.6875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1603,11911.6875 L1603,11921.6875 L1613,11921.6875 L1603,11911.6875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="387" x="1211" y="11930.1826">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc/error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1211" y="11946.5342">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1227" y="11962.8857">"errorCode": "9999"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1227" y="11979.2373">, "errorDescription": "Whatever the error was"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1211" y="11995.5889">}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="950" x2="2490.5" y1="12009.4453" y2="12009.4453"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136" x="955" y="12020.8643">[Conversion succeeded]</text><polygon fill="#181818" points="1021,12058.9844,1011,12062.9844,1021,12066.9844,1017,12062.9844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1015" x2="1403" y1="12062.9844" y2="12062.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1027" y="12049.9521">81</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="1045" y="12041.7764">Conversion succeeded subject to transfer success</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="1045" y="12058.1279">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><polygon fill="#181818" points="1397,12096.3359,1407,12100.3359,1397,12104.3359,1401,12100.3359" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1010" x2="1403" y1="12100.3359" y2="12100.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1017" y="12095.4795">82</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1035" y="12095.4795">200 Gotcha</text><polygon fill="#181818" points="689,12126.6875,679,12130.6875,689,12134.6875,685,12130.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="683" x2="999" y1="12130.6875" y2="12130.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695" y="12125.8311">83</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="264" x="713" y="12125.8311">Confirmed. You can proceed with the transfer.</text><path d="M683,12143.6875 L683,12251.6875 L1231,12251.6875 L1231,12153.6875 L1221,12143.6875 L683,12143.6875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1221,12143.6875 L1221,12153.6875 L1231,12153.6875 L1221,12143.6875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="689" y="12162.1826">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="12178.5342">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="511" x="705" y="12194.8857">"fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="705" y="12211.2373">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="705" y="12227.5889">"conversionState": "RESERVED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="12243.9404">}</text><polygon fill="#181818" points="988,12275.1484,998,12279.1484,988,12283.1484,992,12279.1484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="678" x2="994" y1="12279.1484" y2="12279.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="12274.292">84</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="703" y="12274.292">Please do the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="144" x="834" y="12274.292">POST /simpleTransfers</text><path d="M683,12292.1484 L683,12547.1484 L1130,12547.1484 L1130,12302.1484 L1120,12292.1484 L683,12292.1484 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1120,12292.1484 L1120,12302.1484 L1130,12302.1484 L1120,12292.1484 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="12310.6436">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="705" y="12326.9951">"fspId": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="705" y="12343.3467">"transfersPostRequest": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="721" y="12359.6982">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="721" y="12376.0498">"payeeFsp": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="721" y="12392.4014">"payerFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="721" y="12408.7529">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="737" y="12425.1045">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="737" y="12441.4561">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="12457.8076">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="721" y="12474.1592">"ilpPacket": "&lt;Encoded transaction object&gt;",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="721" y="12490.5107">"condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="721" y="12506.8623">"expiration": "2016-05-24T08:38:08.699-04:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="12523.2139">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="12539.5654">}</text><polygon fill="#181818" points="1392,12570.7734,1402,12574.7734,1392,12578.7734,1396,12574.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1010" x2="1398" y1="12574.7734" y2="12574.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1017" y="12569.917">85</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1035" y="12569.917">Please do the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1166" y="12569.917">POST /transfers</text><path d="M784,12587.7734 L784,12809.7734 L1215,12809.7734 L1215,12597.7734 L1205,12587.7734 L784,12587.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1205,12587.7734 L1205,12597.7734 L1215,12597.7734 L1205,12587.7734 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="790" y="12606.2686">POST /transfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="790" y="12622.6201">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="806" y="12638.9717">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="806" y="12655.3232">"payeeFsp": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="806" y="12671.6748">"payerFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="806" y="12688.0264">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="822" y="12704.3779">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="822" y="12720.7295">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="806" y="12737.0811">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="806" y="12753.4326">"ilpPacket": "&lt;Encoded transaction object&gt;",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="806" y="12769.7842">"condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="806" y="12786.1357">"expiration": "2016-05-24T08:38:08.699-04:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="790" y="12802.4873">}</text><polygon fill="#181818" points="1016,12833.6953,1006,12837.6953,1016,12841.6953,1012,12837.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1010" x2="1403" y1="12837.6953" y2="12837.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1022" y="12832.8389">86</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1040" y="12832.8389">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="12868.0469" y2="12868.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="12868.0469" y2="12881.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="12881.0469" y2="12881.0469"/><polygon fill="#181818" points="1425,12877.0469,1415,12881.0469,1425,12885.0469,1421,12881.0469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="12863.1904">87</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="1439" y="12863.1904">Is there a dependent transfer? Yes</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="12927.75" y2="12927.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="12927.75" y2="12940.75"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="12940.75" y2="12940.75"/><polygon fill="#181818" points="1425,12936.75,1415,12940.75,1425,12944.75,1421,12940.75" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="12914.7178">88</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="1439" y="12906.542">Perform liquidity check and reserve funds</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1439" y="12922.8936">against creditor party to dependent transfer</text><path d="M1275,12953.75 L1275,13028.75 L1542,13028.75 L1542,12963.75 L1532,12953.75 L1275,12953.75 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1532,12953.75 L1532,12963.75 L1542,12963.75 L1532,12953.75 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1281" y="12972.2451">Reservations:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1281" y="12988.5967"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="1281" y="13004.9482">PayerFSP has a reservation of 300 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="246" x="1281" y="13021.2998">FDH_FX has a reservation of 48000 TZS</text><polygon fill="#181818" points="2513.5,13068.8594,2523.5,13072.8594,2513.5,13076.8594,2517.5,13072.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2519.5" y1="13072.8594" y2="13072.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="13059.8271">89</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1439" y="13051.6514">Please do the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1439" y="13068.0029">POST /transfers</text><polygon fill="#181818" points="1420,13099.2109,1410,13103.2109,1420,13107.2109,1416,13103.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414" x2="2524.5" y1="13103.2109" y2="13103.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1426" y="13098.3545">90</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1444" y="13098.3545">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2535.5" x2="2577.5" y1="13166.2656" y2="13166.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="2577.5" x2="2577.5" y1="13166.2656" y2="13179.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="2536.5" x2="2577.5" y1="13179.2656" y2="13179.2656"/><polygon fill="#181818" points="2546.5,13175.2656,2536.5,13179.2656,2546.5,13183.2656,2542.5,13179.2656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2542.5" y="13145.0576">91</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="2560.5" y="13128.7061">Let me check that the terms of the dependent transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="2560.5" y="13145.0576">are the same as the ones I agreed to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="2560.5" y="13161.4092">and that the fulfilment and condition match</text><polygon fill="#181818" points="2896.5,13205.6172,2906.5,13209.6172,2896.5,13213.6172,2900.5,13209.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2535.5" x2="2902.5" y1="13209.6172" y2="13209.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2542.5" y="13204.7607">92</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="2560.5" y="13204.7607">Please credit Yaro's account with 44000 TZS</text><path d="M2540,13222.6172 L2540,13935.6172 L2923,13935.6172 L2923,13232.6172 L2913,13222.6172 L2540,13222.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2913,13222.6172 L2913,13232.6172 L2923,13232.6172 L2913,13222.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="2546" y="13241.1123">POST /transfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2546" y="13257.4639">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="2554" y="13273.8154">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="2554" y="13290.167">"amount": "48000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2554" y="13306.5186">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2554" y="13322.8701">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="2554" y="13339.2217">"from": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="2562" y="13355.5732">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="2562" y="13371.9248">"displayName": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="2562" y="13388.2764">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="2562" y="13404.6279">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2562" y="13420.9795">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="2562" y="13437.3311">"fspId": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="2562" y="13453.6826">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="2562" y="13470.0342">"idValue": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2554" y="13486.3857">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="2554" y="13502.7373">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="2562" y="13519.0889">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="2562" y="13535.4404">"displayName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2562" y="13551.792">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2562" y="13568.1436">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="2562" y="13584.4951">"lastName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="2562" y="13600.8467">"fspId": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="2562" y="13617.1982">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2562" y="13633.5498">"idValue": "2551234567890"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2554" y="13649.9014">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="2554" y="13666.2529">"note": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="2554" y="13682.6045">"quote": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="2562" y="13698.9561">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="2562" y="13715.3076">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="2562" y="13731.6592">"payeeFspFeeAmount": "4000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="2562" y="13748.0107">"payeeFspFeeAmountCurrency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2562" y="13764.3623">"payeeReceiveAmount": "44000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="2562" y="13780.7139">"payeeReceiveAmountCurrency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="2562" y="13797.0654">"transferAmount": "48000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="2562" y="13813.417">"transferAmountCurrency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2562" y="13829.7686">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2554" y="13846.1201">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="2554" y="13862.4717">"transactionType": "TRANSFER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="2554" y="13878.8232">"ilpPacket": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="2562" y="13895.1748">"data": &lt;decoded ilpPacket&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2554" y="13911.5264">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2546" y="13927.8779">}</text><polygon fill="#181818" points="2546.5,13959.0859,2536.5,13963.0859,2546.5,13967.0859,2542.5,13963.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2540.5" x2="2907.5" y1="13963.0859" y2="13963.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2552.5" y="13958.2295">93</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="2570.5" y="13958.2295">Done</text><path d="M2540,13976.0859 L2540,14100.0859 L2984,14100.0859 L2984,13986.0859 L2974,13976.0859 L2540,13976.0859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2974,13976.0859 L2974,13986.0859 L2984,13986.0859 L2974,13976.0859 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2546" y="13994.5811">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2562" y="14010.9326">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="2562" y="14027.2842">"completedTimestamp": "2021-08-25T14:17:08.227+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="2562" y="14043.6357">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="2546" y="14059.9873">    </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="349" x="2562" y="14059.9873">Note: fulfilment is optional: SDK will create if not found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2562" y="14076.3389">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2546" y="14092.6904">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="14127.8984" y2="14123.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="14127.8984" y2="14131.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2524.5" y1="14127.8984" y2="14127.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1431" y="14123.042">94</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="1449" y="14123.042">Transfer is confirmed, here's the fulfilment</text><path d="M2308,14140.8984 L2308,14248.8984 L2752,14248.8984 L2752,14150.8984 L2742,14140.8984 L2308,14140.8984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2742,14140.8984 L2742,14150.8984 L2752,14150.8984 L2742,14140.8984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="336" x="2314" y="14159.3936">PUT /transfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2314" y="14175.7451">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="2330" y="14192.0967">"completedTimestamp": "2021-08-25T14:17:08.227+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="2330" y="14208.4482">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2330" y="14224.7998">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2314" y="14241.1514">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2528.5" x2="2518.5" y1="14276.3594" y2="14272.3594"/><line style="stroke:#181818;stroke-width:1.0;" x1="2528.5" x2="2518.5" y1="14276.3594" y2="14280.3594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414" x2="2529.5" y1="14276.3594" y2="14276.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="14271.5029">95</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1439" y="14271.5029">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="14323.0625" y2="14323.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="14323.0625" y2="14336.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="14336.0625" y2="14336.0625"/><polygon fill="#181818" points="1425,14332.0625,1415,14336.0625,1425,14340.0625,1421,14336.0625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="14310.0303">96</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1439" y="14301.8545">Is there a dependent transfer?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1439" y="14318.2061">Yes, there is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="14382.7656" y2="14382.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="14382.7656" y2="14395.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="14395.7656" y2="14395.7656"/><polygon fill="#181818" points="1425,14391.7656,1415,14395.7656,1425,14399.7656,1421,14395.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="14369.7334">97</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="341" x="1439" y="14361.5576">Is this dependency against the debtor party to the transfer?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="1439" y="14377.9092">Yes, it is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="14426.1172" y2="14426.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="14426.1172" y2="14439.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="14439.1172" y2="14439.1172"/><polygon fill="#181818" points="1425,14435.1172,1415,14439.1172,1425,14443.1172,1421,14439.1172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="14421.2607">98</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="520" x="1439" y="14421.2607">Create an obligation from the debtor party to the party named in the dependency (the FXP)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="14485.8203" y2="14485.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="14485.8203" y2="14498.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="14498.8203" y2="14498.8203"/><polygon fill="#181818" points="1425,14494.8203,1415,14498.8203,1425,14502.8203,1421,14498.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1421" y="14472.7881">99</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420" x="1439" y="14464.6123">Is the transfer denominated in the currency of the payee receive amount?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="1439" y="14480.9639">Yes, it is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="1456" y1="14545.5234" y2="14545.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1456" x2="1456" y1="14545.5234" y2="14558.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1456" y1="14558.5234" y2="14558.5234"/><polygon fill="#181818" points="1425,14554.5234,1415,14558.5234,1425,14562.5234,1421,14558.5234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1421" y="14532.4912">100</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="1446" y="14524.3154">Create an obligation from the party named in the dependency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1446" y="14540.667">to the creditor party for the transfer</text><line style="stroke:#181818;stroke-width:1.0;" x1="2082" x2="2072" y1="14605.2266" y2="14601.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="2082" x2="2072" y1="14605.2266" y2="14609.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1414" x2="2083" y1="14605.2266" y2="14605.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1421" y="14592.1943">101</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1446" y="14584.0186">The transfer succeeded.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1446" y="14600.3701">You can clear it in your ledgers</text><path d="M1187,14618.2266 L1187,14726.2266 L1631,14726.2266 L1631,14628.2266 L1621,14618.2266 L1187,14618.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1621,14618.2266 L1621,14628.2266 L1631,14628.2266 L1621,14618.2266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="370" x="1193" y="14636.7217">PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1193" y="14653.0732">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1209" y="14669.4248">"completedTimestamp": "2021-08-25T14:17:08.227+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="1209" y="14685.7764">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1209" y="14702.1279">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1193" y="14718.4795">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2094" x2="2136" y1="14753.6875" y2="14753.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="2136" x2="2136" y1="14753.6875" y2="14766.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="2095" x2="2136" y1="14766.6875" y2="14766.6875"/><polygon fill="#181818" points="2105,14762.6875,2095,14766.6875,2105,14770.6875,2101,14766.6875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2101" y="14748.8311">102</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="2126" y="14748.8311">Let's just check: does this match the stuff I sent?</text><line style="stroke:#181818;stroke-width:1.0;" x1="2094" x2="2136" y1="14797.0391" y2="14797.0391"/><line style="stroke:#181818;stroke-width:1.0;" x1="2136" x2="2136" y1="14797.0391" y2="14810.0391"/><line style="stroke:#181818;stroke-width:1.0;" x1="2095" x2="2136" y1="14810.0391" y2="14810.0391"/><polygon fill="#181818" points="2105,14806.0391,2095,14810.0391,2105,14814.0391,2101,14810.0391" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2101" y="14792.1826">103</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="2126" y="14792.1826">It does. Great. I'll clear the conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="14840.3906" y2="14836.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1415" x2="1425" y1="14840.3906" y2="14844.3906"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1414" x2="2088" y1="14840.3906" y2="14840.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1431" y="14835.5342">104</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1456" y="14835.5342">200 Gotcha</text><path d="M1291,14853.3906 L1291,14944.3906 L1527,14944.3906 L1527,14863.3906 L1517,14853.3906 L1291,14853.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1517,14853.3906 L1517,14863.3906 L1527,14863.3906 L1517,14853.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1297" y="14871.8857">Ledger positions:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="1297" y="14888.2373">PayerFSP has a debit of 300 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="1297" y="14904.5889">FDH_FX has a credit of 300 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1297" y="14920.9404">FDH_FX has a debit of 48000 TZS</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="1297" y="14937.292">PayeeFSP has a credit of 48000 TZS</text><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1021" y1="14988.8516" y2="14984.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1011" x2="1021" y1="14988.8516" y2="14992.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1010" x2="1403" y1="14988.8516" y2="14988.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1027" y="14975.8193">105</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1052" y="14967.6436">Transfer is complete</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="336" x="1052" y="14983.9951">PUT /transfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><polygon fill="#181818" points="1397,15015.2031,1407,15019.2031,1397,15023.2031,1401,15019.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1010" x2="1403" y1="15019.2031" y2="15019.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1017" y="15014.3467">106</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1042" y="15014.3467">200 Gotcha</text><polygon fill="#181818" points="689,15045.5547,679,15049.5547,689,15053.5547,685,15049.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="683" x2="999" y1="15049.5547" y2="15049.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="695" y="15044.6982">107</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="720" y="15044.6982">Transfer was completed successfully</text><path d="M683,15062.5547 L683,15251.5547 L1159,15251.5547 L1159,15072.5547 L1149,15062.5547 L683,15062.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1149,15062.5547 L1149,15072.5547 L1159,15072.5547 L1149,15062.5547 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="15081.0498">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="705" y="15097.4014">"transfer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="721" y="15113.7529">"body": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="737" y="15130.1045">"completedTimestamp": "2021-08-25T14:17:08.227+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="737" y="15146.4561">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="737" y="15162.8076">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="15179.1592">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="721" y="15195.5107">"headers": {}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="705" y="15211.8623">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="705" y="15228.2139">"currentState": "COMPLETED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="15244.5654">}</text><polygon fill="#181818" points="380,15275.7734,370,15279.7734,380,15283.7734,376,15279.7734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374" x2="677" y1="15279.7734" y2="15279.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="386" y="15274.917">108</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="411" y="15274.917">Transfer was completed successfully</text><line style="stroke:#181818;stroke-width:1.0;" x1="369" x2="411" y1="15310.125" y2="15310.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="411" y1="15310.125" y2="15323.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="411" y1="15323.125" y2="15323.125"/><polygon fill="#181818" points="380,15319.125,370,15323.125,380,15327.125,376,15323.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="376" y="15305.2686">109</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="401" y="15305.2686">Commit the funds in my ledgers</text><polygon fill="#181818" points="63,15349.4766,53,15353.4766,63,15357.4766,59,15353.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="368" y1="15353.4766" y2="15353.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="69" y="15348.6201">110</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="94" y="15348.6201">Your transfer is successful</text><!--MD5=[db12c0fc70d0ce5dc9a1247a926d182e]
@startuml

!$simplified = false
!$shortCutSingleFXP = false
!$hideSwitchDetail = false
!$advancedCoreConnectorFlow = true
!$senderLastName = ""
!$senderDOB = "1966-06-16"
!$receiverName = "Yaro"
!$receiverFirstName = "Yaro"
!$receiverMiddleName = ""
!$receiverLastName = ""
!$receiverDOB = "1966-06-16"
!$payerCurrency = "BWP"
!$payeeCurrency = "TZS"
!$payerFSPID = "PayerFSP"
!$payeeFSPID = "PayeeFSP"
!$fxpID = "FDH_FX"
!$payerMSISDN = "26787654321"
!$payeeMSISDN = "2551234567890"
!$payeeReceiveAmount = "44000"
!$payerSendAmount = "300"
!$payeeFee = "4000"
!$targetAmount = "48000"
!$fxpChargesSource = "33"
!$fxpChargesTarget = "6000"
!$fxpSourceAmount = "300"
!$fxpTargetAmount = "48000"
!$totalChargesSourceCurrency = "55"
!$totalChargesTargetCurrency = "10000"
!$conversionRequestId = "828cc75f-1654-415e-8fcd-df76cc9329b9"
!$conversionId = "581f68ef-b54f-416f-9161-ac34e889a84b"
!$homeTransactionId = "string"
!$quoteId = "382987a8-75ce-4037-b500-c475e08c1727"
!$transactionId = "d9ce59d4-3598-4396-8630-581bb0551451"
!$quotePayerExpiration = "2021-08-25T14:17:09.663+01:00"
!$quotePayeeExpiration = "2021-08-25T14:17:09.663+01:00"
!$commitRequestId = "77c9d78d-c26a-4474-8b3c-99b96a814bfc"
!$determiningTransferId = "d9ce59d4-3598-4396-8630-581bb0551451"
!$transferId = "d9ce59d4-3598-4396-8630-581bb0551451"
!$fxCondition = "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"
!$condition = "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"

title Remittance Transfer using Mojaloop FX APIs POC\nPayer DFSP requests conversion with SEND amount
actor "$senderName" as A1
box "Payer DFSP" #LightBlue  
  participant "Payer CBS" as PayerCBS
  participant "Core Connector" as PayerCC
  participant "Payer\nMojaloop\nConnector" as D1
end box

participant "Mojaloop Switch" as S1

box "Discovery Service" #LightYellow
  participant "ALS Oracle" as ALS
end box

box "FX provider"  
  participant "FXP\nConnector" as FXP
  participant "Backend FX API" as FXPBackend
end box

box "Payee DFSP" #LightBlue   
  participant "Payee\nMojaloop\nConnector" as D2
  participant "Core Connector" as PayeeCC
end box

actor "$receiverName" as A2
autonumber

A1->PayerCBS:I'd like to pay $receiverName\n$payerSendAmount $payerCurrency, please
PayerCBS->PayerCC: Initiate remittance transfer
!if ($advancedCoreConnectorFlow != true)
    PayerCC->D1: **POST /transfers**
    !if ($simplified != true)
        note right of PayerCC
        {
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
        }
        end note
    !endif
!else
PayerCC->D1: **GET /parties/MSISDN/$payeeMSISDN**
!endif

== Discovery Phase ==
activate D1
D1->>S1:I want to send to MSISDN $payeeMSISDN\n**GET /parties/MSISDN/$payeeMSISDN**
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->ALS:Who owns MSISDN $payeeMSISDN?
activate ALS
ALS- ->S1:It's $payeeFSPID
deactivate ALS
S1->>D2:Do you own MSISDN $payeeMSISDN?
activate D2
!if ($simplified != true)
D2- ->>S1:202 I'll get back to you
!endif
D2->D2: Check Sanction list status & trigger a refresh of the status
D2->PayeeCC: Check account and get currency type
!if ($simplified != true)
PayeeCC- ->D2: Result
!endif
deactivate S1
D2->>S1:Yes, it's $receiverName. He can receive in $payeeCurrency\n**PUT /parties/MSISDN/$payeeMSISDN**
!if ($simplified != true)
note left of D2
    PUT /parties
    {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "$payeeMSISDN",
            "fspId": "$payeeFSPID"
        },
        "merchantClassificationCode": "string",
        "name": "$receiverName",
        "personalInfo": {
            "complexName": {
            "firstName": "$receiverFirstName",
            "middleName": "$receiverMiddleName",
            "lastName": "$receiverLastName"
            },
            "dateOfBirth": "$receiverDOB",
            "kycInformation": "<Encrypted KYC Data>"
        },
        "supportedCurrencies": [ "$payeeCurrency" ]
    }
end note
!else
note over D2
    Payee Info with Encrypted KYC Data
end note
!endif
activate S1
!if ($simplified != true)
S1- ->>D2:200 Gotcha
!endif
deactivate D2
S1->>D1:Yes, it's $receiverName. He can receive in $payeeCurrency\n**PUT /parties/MSISDN/$payeeMSISDN**
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif
deactivate S1

!if ($advancedCoreConnectorFlow != true)
    D1->PayerCC: Here is the party information\nand supported currencies
    note right of PayerCC
    {
        "transferId": "$transferId",
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN",
                "displayName": "$receiverName",
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                "dateOfBirth": "$receiverDOB",

                "fspId": "$payeeFSPID"
                "supportedCurrencies": [ "$payeeCurrency" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
            "currentState": "**WAITING_FOR_PARTY_ACCEPTANCE**",
            "getPartiesResponse": {
                "body": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "$payeeMSISDN",
                        "fspId": "$payeeFSPID"
                    },
                    "merchantClassificationCode": "string",
                    "name": "$receiverName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$receiverFirstName",
                        "middleName": "$receiverMiddleName",
                        "lastName": "$receiverLastName"
                        },
                        "dateOfBirth": "$receiverDOB",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                    "supportedCurrencies": [ "$payeeCurrency" ]
                },
                "headers": {}
            }
        }
    end note
!else
    D1->PayerCC: Here is the party information\nand supported currencies
    !if ($simplified != true)
        note right of PayerCC
        {
            "party": {
                "body": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "$payeeMSISDN",
                        "fspId": "$payeeFSPID"
                    },
                    "merchantClassificationCode": "string",
                    "name": "$receiverName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$receiverFirstName",
                        "middleName": "$receiverMiddleName",
                        "lastName": "$receiverLastName"
                        },
                        "dateOfBirth": "$receiverDOB",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                     "supportedCurrencies": [ "$payeeCurrency" ]
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note
    !endif
!endif

PayerCC->PayerCBS:Here's are the receiver details
PayerCBS->A1:Hi, $senderName: The number belongs to $receiverName \nLet me know if you want to go ahead
A1->PayerCBS:Yes please, go ahead

PayerCBS->PayerCC: Payer has accepted the party information

!if ($shortCutSingleFXP != true)
== Currency conversion ==

!if ($advancedCoreConnectorFlow != true)
PayerCC->>D1:Get quotation\n**PUT /transfers/$transferId**
note right of PayerCC
{
    "acceptParty": true
}
end note
D1->D1:Hmmm. I can only send in $payerCurrency.\nI need to get some currency conversion
!else
PayerCC->PayerCC:Hmmm. I can only send in $payerCurrency.\nI need to get some currency conversion
PayerCC->>D1:What FXPs do you know about?\n**GET /services/FXP**
!endif

D1->>S1:What FXPs do you know about?\n**GET /services/FXP**
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->ALS:What FXPs do you know about?
activate ALS
ALS- ->S1:FDH FX
deactivate ALS
S1->>D1:Here are the available FXPs:FDH FX
note left of S1
    PUT /services/FXP
    {
        "providers": [
            "$fxpID"
        ]
    }
end note
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif

!if ($advancedCoreConnectorFlow != true)
' TODO: We can pause the execution here if required to allow the core connector to select the FXP
D1->D1:I'll ask FDH FX to perform my conversion
!else
D1->>PayerCC:Here are the available FXPs
note right of PayerCC
    {
        "providers": [
            "$fxpID"
        ]
    }
end note

PayerCC->PayerCC:I'll ask FDH FX to perform my conversion
PayerCC->D1: I want to get a quote from this FXP\n**POST /fxQuotes**
    !if ($simplified != true)
        note right of PayerCC
        {
            "homeTransactionId": "$homeTransactionId",
            "conversionRequestId": "$conversionRequestId",
            "conversionTerms": {
                "conversionId": "$conversionId",
                "initiatingFsp": "$payerFSPID",
                "counterPartyFsp": "$fxpID",
                "amountType": "SEND",
                "sourceAmount": {
                    "currency": "$payerCurrency",
                    "amount": "$payerSendAmount"
                },
                "targetAmount": {
                    "currency": "$payeeCurrency"
                },
                "expiration": "2021-08-25T14:17:09.663+01:00"
            }
        }
        end note
    !endif
!endif


!endif



deactivate S1


!if ($shortCutSingleFXP != true)
D1->>S1:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
!else
D1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
!endif
note right of D1
    **post /fxQuotes**
    {
        "conversionRequestId": "$conversionRequestId",
        "conversionTerms": {
            "conversionId": "$conversionId",
            "initiatingFsp": "$payerFSPID",
            "counterPartyFsp": "$fxpID",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$payerSendAmount"
            },
            "targetAmount": {
                "currency": "$payeeCurrency"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
!if ($shortCutSingleFXP != true)
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.\n**POST /fxQuote**
activate FXP
!if ($simplified != true)
FXP- ->>S1:202 I'll get back to you
!endif
deactivate S1
!else
!if ($simplified != true)
FXP- ->>D1:202 I'll get back to you
!endif
!endif
FXP->FXPBackend:Lookup FX rate
!if ($simplified != true)
note right of FXP
    **post /fxQuotes**
    {
        "conversionRequestId": "$conversionRequestId",
        "conversionTerms": {
            "conversionId": "$conversionId",
            "initiatingFsp": "$payerFSPID",
            "counterPartyFsp": "$fxpID",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$payerSendAmount"
            },
            "targetAmount": {
                "currency": "$payeeCurrency"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
!endif
FXPBackend- ->FXP:Return FX rate
note over FXPBackend
    I will add a $fxpChargesSource $payerCurrency fee for undertaking the conversion.
    Now I'll set an expiry time, sign the quotation object,
end note
!if ($simplified != true)
note right of FXP
    {
        "conversionTerms": {
            "conversionId": "$conversionId",
            "initiatingFsp": "$payerFSPID",
            "counterPartyFsp": "$fxpID",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$fxpSourceAmount"
            },
            "targetAmount": {
                "currency": "$payeeCurrency",
                "amount": "$fxpTargetAmount"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
            "charges": [
                {
                    "chargeType": "string",
                    "sourceAmount": {
                        "currency": "$payerCurrency",
                        "amount": "$fxpChargesSource"
                    },
                    "targetAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$fxpChargesTarget"
                    }
                }
            ]
        }
    }
end note
!endif

note over FXP
    Now I'll sign the quotation object,
    create an ILP prepare packet and return it in the intermediary object.

    NOTE: the ILP prepare packet contains the following items, all encoded:
    - The amount being sent (i.e. in the source currency)
    - An expiry time
    - The condition
    - The name of the FXP
    - The content of the conversion terms
end note

note left of FXP
    **PUT /fxQuotes/$conversionRequestId**
    {
        "condition": "$fxCondition",
        "conversionTerms": {
            "conversionId": "$conversionId",
            "initiatingFsp": "$payerFSPID",
            "counterPartyFsp": "$fxpID",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$fxpSourceAmount"
            },
            "targetAmount": {
                "currency": "$payeeCurrency",
                "amount": "$fxpTargetAmount"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
            "charges": [
                {
                    "chargeType": "string",
                    "sourceAmount": {
                        "currency": "$payerCurrency",
                        "amount": "$fxpChargesSource"
                    },
                    "targetAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$fxpChargesTarget"
                    }
                }
            ]
        }
    }
end note
!if ($shortCutSingleFXP != true)
FXP->>S1:Here's the signed conversion object
activate S1
!if ($simplified != true)
S1- ->>FXP:200 Gotcha
!endif
deactivate FXP
S1->>D1:Here's the signed conversion object\n**PUT /fxQuotes/$conversionRequestId**
activate D1
!if ($simplified != true)
D1- ->>S1:Gotcha
!endif
deactivate S1
!else
FXP- ->>D1:Here's the signed conversion object\n**PUT /fxQuotes/$conversionRequestId**
!if ($simplified != true)
D1- ->>FXP:202 I'll get back to you
!endif
activate D1
!endif


!if ($advancedCoreConnectorFlow != true)
    D1- ->PayerCC: Here are the conversion terms
    note right of PayerCC
    {
        "transferId": "$transferId",
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN",
                "displayName": "$receiverName",
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                "dateOfBirth": "$receiverDOB",

                "fspId": "$payeeFSPID"
                "supportedCurrencies": [ "$payeeCurrency" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
            "currentState": "**WAITING_FOR_CONVERSION_ACCEPTANCE**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "$conversionRequestId",
            "fxQuotesResponse": {
                "body": {
                    "condition": "$fxCondition",
                    "conversionTerms": {
                        "conversionId": "$conversionId",
                        "initiatingFsp": "$payerFSPID",
                        "counterPartyFsp": "$fxpID",
                        "amountType": "SEND",
                        "sourceAmount": {
                            "currency": "$payerCurrency",
                            "amount": "$fxpSourceAmount"
                        },
                        "targetAmount": {
                            "currency": "$payeeCurrency",
                            "amount": "$fxpTargetAmount"
                        },
                        "expiration": "2021-08-25T14:17:09.663+01:00"
                        "charges": [
                            {
                                "chargeType": "string",
                                "sourceAmount": {
                                    "currency": "$payerCurrency",
                                    "amount": "$fxpChargesSource"
                                },
                                "targetAmount": {
                                    "currency": "$payeeCurrency",
                                    "amount": "$fxpChargesTarget"
                                }
                            }
                        ]
                    }
                },
                "headers": {}
            },
            "fxQuotesResponseSource": "$payeeFSPID",
        }
    end note
!else
    D1->PayerCC: Here are the conversion terms
    !if ($simplified != true)
        note right of PayerCC
        {
            "homeTransactionId": "$homeTransactionId",
            "condition": "$fxCondition",
            "conversionTerms": {
                "conversionId": "$conversionId",
                "initiatingFsp": "$payerFSPID",
                "counterPartyFsp": "$fxpID",
                "amountType": "SEND",
                "sourceAmount": {
                    "currency": "$payerCurrency",
                    "amount": "$fxpSourceAmount"
                },
                "targetAmount": {
                    "currency": "$payeeCurrency",
                    "amount": "$fxpTargetAmount"
                },
                "expiration": "2021-08-25T14:17:09.663+01:00"
                "charges": [
                    {
                        "chargeType": "string",
                        "sourceAmount": {
                            "currency": "$payerCurrency",
                            "amount": "$fxpChargesSource"
                        },
                        "targetAmount": {
                            "currency": "$payeeCurrency",
                            "amount": "$fxpChargesTarget"
                        }
                    }
                ]
            }
        }
        end note
    !endif
!endif


== Agreement Phase ==


!if ($advancedCoreConnectorFlow != true)
PayerCC->D1: I want to get a quote from the FSP\nPUT /transfers
note right of PayerCC
{
    "acceptConversion": true
}
end note
!else
PayerCC->D1: I want to get a quote from the FSP\n**POST /quotes**
    !if ($simplified != true)
        note right of PayerCC
        {
            "fspId": "$payeeFSPID",
            "quotesPostRequest": {
                "quoteId": "$quoteId",
                "transactionId": "$transactionId",
                "payee": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "$payeeMSISDN",
                        "fspId": "$payeeFSPID"
                    },
                    "name": "$receiverName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$receiverFirstName",
                        "middleName": "$receiverMiddleName",
                        "lastName": "$receiverLastName"
                        },
                        "dateOfBirth": "$receiverDOB",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                    "supportedCurrencies": [ "$payeeCurrency" ]
                },
                "payer": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "$payerMSISDN",
                        "fspId": "$payerFSPID"
                    },
                    "name": "$senderName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$senderFirstName",
                        "middleName": "$senderMiddleName",
                        "lastName": "$senderLastName"
                        },
                        "dateOfBirth": "$senderDOB"
                    }
                },
                "amountType": "SEND",
                "amount": {
                    "currency": "$payeeCurrency",
                    "amount": "$fxpTargetAmount"
                },
                "converter": "PAYER",
                "expiration": "$quotePayerExpiration"
            }
        }
        end note
    !endif
!endif


D1->>S1:Please quote for a transfer which sends $fxpTargetAmount $payeeCurrency.\n**POST /quotes**
!if ($simplified != true)
note right of D1
POST /quotes

    {
        "quoteId": "$quoteId",
        "transactionId": "$transactionId",
        "payee": {
            "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "$payeeMSISDN",
                "fspId": "$payeeFSPID"
            },
            "name": "$receiverName",
            "personalInfo": {
                "complexName": {
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                },
                "dateOfBirth": "$receiverDOB",
                "kycInformation": "<Encrypted KYC Data>"
            },
            "supportedCurrencies": [ "$payeeCurrency" ]
        },
        "payer": {
            "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "$payerMSISDN",
                "fspId": "$payerFSPID"
            },
            "name": "$senderName",
            "personalInfo": {
                "complexName": {
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                },
                "dateOfBirth": "$senderDOB"
            }
        },
        "amountType": "SEND",
        "amount": {
            "currency": "$payeeCurrency",
            "amount": "$fxpTargetAmount"
        },
        "converter": "PAYER",
        "expiration": "$quotePayerExpiration"
    }
end note
!endif
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif

S1->>D2:**POST /quotes**
activate D2
!if ($simplified != true)
D2- ->>S1:202 I'll get back to you
!endif
deactivate S1
D2->PayeeCC:**POST /quoterequests**
!if ($simplified != true)
note right of D2
{
    "quoteId": "$quoteId",
    "transactionId": "$transactionId",
    "payee": {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "$payeeMSISDN",
            "fspId": "$payeeFSPID"
        },
        "name": "$receiverName",
        "personalInfo": {
            "complexName": {
            "firstName": "$receiverFirstName",
            "middleName": "$receiverMiddleName",
            "lastName": "$receiverLastName"
            },
            "dateOfBirth": "$receiverDOB",
            "kycInformation": "<Encrypted KYC Data>"
        },
        "supportedCurrencies": [ "$payeeCurrency" ]
    },
    "payer": {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "$payerMSISDN",
            "fspId": "$payerFSPID"
        },
        "name": "$senderName",
        "personalInfo": {
            "complexName": {
            "firstName": "$senderFirstName",
            "middleName": "$senderMiddleName",
            "lastName": "$senderLastName"
            },
            "dateOfBirth": "$senderDOB"
        }
    },
    "amountType": "SEND",
    "amount": {
        "currency": "$payeeCurrency",
        "amount": "$fxpTargetAmount"
    },
    "converter": "PAYER",
    "expiration": "$quotePayerExpiration"
}
end note
!endif
PayeeCC->PayeeCC:OK, so I will charge $payeeFee $payeeCurrency for this.\nNow I create terms of the transfer
PayeeCC- ->D2:Here are the terms
!if ($simplified != true)
note right of D2
{
    "quoteId": "$quoteId",
    "transactionId": "$transactionId",
    "payeeFspFeeAmount": "$payeeFee",
    "payeeFspFeeAmountCurrency": "$payeeCurrency",
    "payeeReceiveAmount": "$payeeReceiveAmount",
    "payeeReceiveAmountCurrency": "$payeeCurrency",
    "transferAmount": "$targetAmount",
    "transferAmountCurrency": "$payeeCurrency"
    "expiration": "$quotePayerExpiration"
}
end note
!endif
D2->D2:Now I will sign the transaction object
D2->>S1:Here's the signed quote
note left of D2
    **put /quotes/$quoteId**

    {
        "transferAmount": {
            "currency": "$payeeCurrency",
            "amount": "$targetAmount"
        },
        "payeeReceiveAmount": {
            "currency": "$payeeCurrency",
            "amount": "$payeeReceiveAmount"
        },
        "payeeFspFee": {
            "currency": "$payeeCurrency",
            "amount": "$payeeFee"
        },
        "expiration": "$payeeQuoteExpiration",
        "ilpPacket": "
            <This is encoded transaction object. It contains data from quote request and response.>
        ",
        "condition": "$condition"
    }

end note
activate S1
!if ($simplified != true)
S1- ->>D2:200 Gotcha
!endif
deactivate D2
S1->>D1:Here's the signed quote\n**PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727**
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif
deactivate S1
D1->D1:OK, I can see that there are going to be $payeeFee $payeeCurrency in charges.

== Sender Confirmation ==

!if ($advancedCoreConnectorFlow != true)
    D1- ->PayerCC:Here's the quote for the transfer\nIt expires at $quotePayeeExpiration
    note right of PayerCC
    {
        "transferId": "$transferId",
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN",
                "displayName": "$receiverName",
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                "dateOfBirth": "$receiverDOB",

                "fspId": "$payeeFSPID"
                "supportedCurrencies": [ "$payeeCurrency" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
            "currentState": "**WAITING_FOR_QUOTE_ACCEPTANCE**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "$conversionRequestId",
            "fxQuotesResponse": {
                <Same as the previous responses>
            },
            "fxQuotesResponseSource": "$payeeFSPID",
            "quoteId": "$quoteId",
            "quoteResponse": {
                "body": {
                    "transferAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$targetAmount"
                    },
                    "payeeReceiveAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$payeeReceiveAmount"
                    },
                    "payeeFspFee": {
                        "currency": "$payeeCurrency",
                        "amount": "$payeeFee"
                    },
                    "expiration": "$payeeQuoteExpiration",
                    "ilpPacket": "
                        <This is encoded transaction object. It contains data from quote request and response.>
                    ",
                    "condition": "$condition"
                },
                "headers": {}
            },
            "quoteResponseSource": "$payeeFSPID",
        }
    end note
!else
   D1- ->PayerCC:Here's the quote for the transfer\nIt expires at $quotePayeeExpiration
    !if ($simplified != true)
        note right of PayerCC
        {
            "quotes": {
                "body": {
                    "transferAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$targetAmount"
                    },
                    "payeeReceiveAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$payeeReceiveAmount"
                    },
                    "payeeFspFee": {
                        "currency": "$payeeCurrency",
                        "amount": "$payeeFee"
                    },
                    "expiration": "$payeeQuoteExpiration",
                    "ilpPacket": "
                        <This is encoded transaction object. It contains data from quote request and response.>
                    ",
                    "condition": "$condition"
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note
    !endif
!endif
PayerCC->PayerCBS:Here's the quote
PayerCBS->A1:Hi, $senderName: I can do the transfer.\nIt'll cost you $totalChargesSourceCurrency $payerCurrency($totalChargesTargetCurrency $payeeCurrency) in fees\nand $receiverName will receive\n$payeeReceiveAmount $payeeCurrency.\nLet me know if you want to go ahead
A1->PayerCBS:Great! Yes please, go ahead

PayerCBS->PayerCC: Payer has accepted the terms please proceed

== Transfer Phase ==

!if ($advancedCoreConnectorFlow != true)
PayerCC->D1: Proceed with the transfer\nPUT /transfers
note right of PayerCC
{
    "acceptQuote": true
}
end note
!else
PayerCC->D1: Proceed with the transfer\n**POST /fxTransfers**
    !if ($simplified != true)
    note right of PayerCC
    {
        "homeTransactionId": "$homeTransactionId",
        "commitRequestId": "$commitRequestId",
        "determiningTransferId": "$determiningTransferId",
        "initiatingFsp": "$payerFSPID",
        "counterPartyFsp": "$fxpID",
        "amountType": "SEND",
        "sourceAmount": {
            "currency": "$payerCurrency",
            "amount": "$fxpSourceAmount"
        },
        "targetAmount": {
            "currency": "$payeeCurrency",
            "amount": "$fxpTargetAmount"
        },
        "condition": "$fxCondition"
    }
    end note
    !endif
!endif

!if ($advancedCoreConnectorFlow != true)
D1->D1:First, activate the conversion
!endif
D1->>S1:Please confirm your part of the transfer
note right of D1
**POST /fxTransfers**
{
    "commitRequestId": "$commitRequestId",
    "determiningTransferId": "$determiningTransferId",
    "initiatingFsp": "$payerFSPID",
    "counterPartyFsp": "$fxpID",
    "amountType": "SEND",
    "sourceAmount": {
        "currency": "$payerCurrency",
        "amount": "$fxpSourceAmount"
    },
    "targetAmount": {
        "currency": "$payeeCurrency",
        "amount": "$fxpTargetAmount"
    },
    "condition": "$fxCondition"
}
end note
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D2
!if ($hideSwitchDetail != true)
S1->S1:OK, so this is an FX confirmation.
S1->S1: Is there any transfer with determiningTransactionId?\nNo, it does'nt.
!endif
S1->S1: Liquidity check and reserve on Payer DFSP's account
!if ($hideSwitchDetail != true)
note over S1
Reservations:

**$payerFSPID has a reservation of $fxpSourceAmount $payerCurrency**
end note
!endif
S1->>FXP:Please confirm the currency conversion part of the transfer\n** POST /fxTransfers**
activate FXP
!if ($simplified != true)
FXP- ->>S1:202 I'll get back to you
!endif
deactivate S1
FXP->FXPBackend:Reserve funds for FX conversion
note right of FXP
**POST /fxTransfers**
{
    "homeTransactionId": "$homeTransactionId",
    "commitRequestId": "$commitRequestId",
    "determiningTransferId": "$determiningTransferId",
    "initiatingFsp": "$payerFSPID",
    "counterPartyFsp": "$fxpID",
    "amountType": "SEND",
    "sourceAmount": {
        "currency": "$payerCurrency",
        "amount": "$fxpSourceAmount"
    },
    "targetAmount": {
        "currency": "$payeeCurrency",
        "amount": "$fxpTargetAmount"
    },
    "condition": "$fxCondition"
}
end note
FXPBackend- ->FXP:Success
note right of FXP
{
  "homeTransactionId": "$homeTransactionId",
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "RESERVED"
}
end note
FXP->>S1:Confirmed. Here's the fulfilment
note left of FXP
**PUT /fxTransfers/$commitRequestId**
{
  "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "RESERVED"
}
end note
activate S1
!if ($simplified != true)
S1- ->>FXP:200 Gotcha
!endif
deactivate FXP
!if ($simplified != true)
S1->S1:Check fulfilment matches and cancel if not.
alt Conversion failed
S1->FXP:Sorry. Conversion failed
note over FXP
**PATCH /fxTransfers/$commitRequestId**
{
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "ABORTED"
}
end note
activate FXP
FXP- ->S1:Acknowledged
FXP->FXPBackend:Remove any reservations or obligations
note right of FXP
**PUT /fxTransfers/$commitRequestId**
{
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "ABORTED"
}
end note
FXPBackend- ->FXP:Ok
deactivate FXP

S1->>D1:Sorry. Conversion failed
note over S1
**PUT /fxTransfers/$commitRequestId/error**
{
    "errorCode": "9999"
    , "errorDescription": "Whatever the error was"
}
end note
else Conversion succeeded
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**

end
!else
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
!endif
activate D1
!if ($simplified != true)
D1- ->S1:200 Gotcha
!endif
deactivate S1

!if ($advancedCoreConnectorFlow != true)
    D1->D1:OK, so that's all right\nNow I can send the transfer itself
    ' TODO: Need to add PUT /transfers response here
!else
    D1- ->PayerCC:Confirmed. You can proceed with the transfer.
    note right of PayerCC
    **PUT /fxTransfers/$commitRequestId**
    {
        "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",
        "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
        "conversionState": "RESERVED"
    }
    end note

    PayerCC- ->D1:Please do the transfer **POST /simpleTransfers**
    !if ($simplified != true)
    note right of PayerCC
    {
        "fspId": "$payeeFSPID",
        "transfersPostRequest": {
            "transferId": "$transferId",
            "payeeFsp": "$payeeFSPID",
            "payerFsp": "$payerFSPID",
            "amount": {
                "currency": "$payeeCurrency",
                "amount": "$targetAmount"
            },
            "ilpPacket": "<Encoded transaction object>",
            "condition": "$condition",
            "expiration": "2016-05-24T08:38:08.699-04:00"
        }
    }
    end note
    !endif
!endif

D1->S1:Please do the transfer **POST /transfers**
!if ($simplified != true)
note over D1
POST /transfers
{
    "transferId": "$transferId",
    "payeeFsp": "$payeeFSPID",
    "payerFsp": "$payerFSPID",
    "amount": {
        "currency": "$payeeCurrency",
        "amount": "$targetAmount"
    },
    "ilpPacket": "<Encoded transaction object>",
    "condition": "$condition",
    "expiration": "2016-05-24T08:38:08.699-04:00"
}
end note
!endif
activate S1
!if ($simplified != true)
S1- ->D1:202 I'll get back to you
!endif
deactivate D1
!if ($hideSwitchDetail != true)
S1->S1:Is there a dependent transfer? Yes
!endif
S1->S1:Perform liquidity check and reserve funds\nagainst creditor party to dependent transfer
note over S1
Reservations:

$payerFSPID has a reservation of $fxpSourceAmount $payerCurrency
**$fxpID has a reservation of $targetAmount $payeeCurrency**
end note

S1->D2:Please do the transfer\n**POST /transfers**
activate D2
!if ($simplified != true)
D2- ->S1:202 I'll get back to you
!endif
deactivate S1
D2->D2:Let me check that the terms of the dependent transfer\nare the same as the ones I agreed to\nand that the fulfilment and condition match

D2->PayeeCC:Please credit $receiverName's account with $payeeReceiveAmount $payeeCurrency
!if ($simplified != true)
note right of D2
**POST /transfers**
{
  "transferId": "$transferId",
  "amount": "$targetAmount",
  "currency": "$payeeCurrency",
  "amountType": "SEND",
  "from": {
    "dateOfBirth": "$senderDOB",
    "displayName": "$senderName",
    "firstName": "$senderFirstName",
    "middleName": "$senderMiddleName",
    "lastName": "$senderLastName"
    "fspId": "$payerFSPID",
    "idType": "MSISDN",
    "idValue": "$payerMSISDN"
  },
  "to": {
    "dateOfBirth": "$receiverDOB",
    "displayName": "$receiverName",
    "firstName": "$receiverFirstName",
    "middleName": "$receiverMiddleName",
    "lastName": "$receiverLastName",
    "fspId": "$payeeFSPID",
    "idType": "MSISDN",
    "idValue": "$payeeMSISDN"
  },
  "note": "string",
  "quote": {
    "quoteId": "$quoteId",
    "transactionId": "$transactionId",
    "payeeFspFeeAmount": "$payeeFee",
    "payeeFspFeeAmountCurrency": "$payeeCurrency",
    "payeeReceiveAmount": "$payeeReceiveAmount",
    "payeeReceiveAmountCurrency": "$payeeCurrency",
    "transferAmount": "$targetAmount",
    "transferAmountCurrency": "$payeeCurrency"
    "expiration": "$quotePayeeExpiration"
  },
  "transactionType": "TRANSFER",
  "ilpPacket": {
    "data": <decoded ilpPacket>
  }
}
end note
!endif

PayeeCC- ->D2:Done
!if ($simplified != true)
note right of D2
{
    "homeTransactionId": "string",
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    **Note: fulfilment is optional: SDK will create if not found**
    "transferState": "COMMITTED"
}
end note
!endif

D2->>S1:Transfer is confirmed, here's the fulfilment
note over D2
**PUT /transfers/$commitRequestId**
{
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    "transferState": "COMMITTED"
}
end note
activate S1
!if ($simplified != true)
S1- ->>D2:200 Gotcha
!endif
deactivate D2
!if ($hideSwitchDetail != true)
S1->S1:Is there a dependent transfer?\nYes, there is.
S1->S1:Is this dependency against the debtor party to the transfer?\nYes, it is.
S1->S1:Create an obligation from the debtor party to the party named in the dependency (the FXP)
S1->S1:Is the transfer denominated in the currency of the payee receive amount?\nYes, it is.
S1->S1:Create an obligation from the party named in the dependency\nto the creditor party for the transfer
!else
S1->S1:Create obligations from the payer to the FXP and from FXP to the payee
!endif
S1->>FXP:The transfer succeeded.\nYou can clear it in your ledgers
note over S1
**PATCH /fxTransfers/$commitRequestId**
{
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    "transferState": "COMMITTED"
}
end note
activate FXP
FXP->FXP:Let's just check: does this match the stuff I sent?
FXP->FXP:It does. Great. I'll clear the conversion
FXP- ->>S1:200 Gotcha
deactivate FXP
note over S1
    Ledger positions:
    $payerFSPID has a debit of $fxpSourceAmount $payerCurrency
    $fxpID has a credit of $fxpSourceAmount $payerCurrency
    $fxpID has a debit of $fxpTargetAmount $payeeCurrency
    $payeeFSPID has a credit of $targetAmount $payeeCurrency
end note
S1->>D1:Transfer is complete\n**PUT /transfers/$commitRequestId**
activate D1
!if ($simplified != true)
D1- ->S1:200 Gotcha
!endif
deactivate S1
!if ($advancedCoreConnectorFlow != true)
    D1- ->PayerCC:Transfer was completed successfully
    note right of PayerCC
    {
        "transferId": "$transferId",
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN",
                "displayName": "$receiverName",
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                "dateOfBirth": "$receiverDOB",

                "fspId": "$payeeFSPID"
                "supportedCurrencies": [ "$payeeCurrency" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
            "currentState": "**COMPLETED**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "$conversionRequestId",
            "fxQuotesResponse": {
                <Same as the previous responses>
            },
            "fxQuotesResponseSource": "$payeeFSPID",
            "quoteId": "$quoteId",
            "quoteResponse": {
                <Same as the previous responses>
            },
            "quoteResponseSource": "$payeeFSPID",
            "fulfil": {
                "body": {
                    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
                    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
                    "transferState": "COMMITTED"
                },
                "headers": {}
            },
        }
    end note
!else
   D1- ->PayerCC:Transfer was completed successfully
    !if ($simplified != true)
        note right of PayerCC
        {
            "transfer": {
                "body": {
                    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
                    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
                    "transferState": "COMMITTED"
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note
    !endif
!endif

PayerCC->PayerCBS:Transfer was completed successfully
PayerCBS->PayerCBS:Commit the funds in my ledgers
PayerCBS->A1:Your transfer is successful
deactivate D1

@enduml

@startuml


title Remittance Transfer using Mojaloop FX APIs POC\nPayer DFSP requests conversion with SEND amount
actor "$senderName" as A1
box "Payer DFSP" #LightBlue  
  participant "Payer CBS" as PayerCBS
  participant "Core Connector" as PayerCC
  participant "Payer\nMojaloop\nConnector" as D1
end box

participant "Mojaloop Switch" as S1

box "Discovery Service" #LightYellow
  participant "ALS Oracle" as ALS
end box

box "FX provider"  
  participant "FXP\nConnector" as FXP
  participant "Backend FX API" as FXPBackend
end box

box "Payee DFSP" #LightBlue   
  participant "Payee\nMojaloop\nConnector" as D2
  participant "Core Connector" as PayeeCC
end box

actor "Yaro" as A2
autonumber

A1->PayerCBS:I'd like to pay Yaro\n300 BWP, please
PayerCBS->PayerCC: Initiate remittance transfer
PayerCC->D1: **GET /parties/MSISDN/2551234567890**

== Discovery Phase ==
activate D1
D1->>S1:I want to send to MSISDN 2551234567890\n**GET /parties/MSISDN/2551234567890**
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->ALS:Who owns MSISDN 2551234567890?
activate ALS
ALS- ->S1:It's PayeeFSP
deactivate ALS
S1->>D2:Do you own MSISDN 2551234567890?
activate D2
D2- ->>S1:202 I'll get back to you
D2->D2: Check Sanction list status & trigger a refresh of the status
D2->PayeeCC: Check account and get currency type
PayeeCC- ->D2: Result
deactivate S1
D2->>S1:Yes, it's Yaro. He can receive in TZS\n**PUT /parties/MSISDN/2551234567890**
note left of D2
    PUT /parties
    {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "2551234567890",
            "fspId": "PayeeFSP"
        },
        "merchantClassificationCode": "string",
        "name": "Yaro",
        "personalInfo": {
            "complexName": {
            "firstName": "Yaro",
            "middleName": "",
            "lastName": ""
            },
            "dateOfBirth": "1966-06-16",
            "kycInformation": "<Encrypted KYC Data>"
        },
        "supportedCurrencies": [ "TZS" ]
    }
end note
activate S1
S1- ->>D2:200 Gotcha
deactivate D2
S1->>D1:Yes, it's Yaro. He can receive in TZS\n**PUT /parties/MSISDN/2551234567890**
activate D1
D1- ->>S1:200 Gotcha
deactivate S1

    D1->PayerCC: Here is the party information\nand supported currencies
        note right of PayerCC
        {
            "party": {
                "body": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "2551234567890",
                        "fspId": "PayeeFSP"
                    },
                    "merchantClassificationCode": "string",
                    "name": "Yaro",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "Yaro",
                        "middleName": "",
                        "lastName": ""
                        },
                        "dateOfBirth": "1966-06-16",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                     "supportedCurrencies": [ "TZS" ]
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note

PayerCC->PayerCBS:Here's are the receiver details
PayerCBS->A1:Hi, $senderName: The number belongs to Yaro \nLet me know if you want to go ahead
A1->PayerCBS:Yes please, go ahead

PayerCBS->PayerCC: Payer has accepted the party information

== Currency conversion ==

PayerCC->PayerCC:Hmmm. I can only send in BWP.\nI need to get some currency conversion
PayerCC->>D1:What FXPs do you know about?\n**GET /services/FXP**

D1->>S1:What FXPs do you know about?\n**GET /services/FXP**
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->ALS:What FXPs do you know about?
activate ALS
ALS- ->S1:FDH FX
deactivate ALS
S1->>D1:Here are the available FXPs:FDH FX
note left of S1
    PUT /services/FXP
    {
        "providers": [
            "FDH_FX"
        ]
    }
end note
activate D1
D1- ->>S1:200 Gotcha

D1->>PayerCC:Here are the available FXPs
note right of PayerCC
    {
        "providers": [
            "FDH_FX"
        ]
    }
end note

PayerCC->PayerCC:I'll ask FDH FX to perform my conversion
PayerCC->D1: I want to get a quote from this FXP\n**POST /fxQuotes**
        note right of PayerCC
        {
            "homeTransactionId": "string",
            "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",
            "conversionTerms": {
                "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
                "initiatingFsp": "PayerFSP",
                "counterPartyFsp": "FDH_FX",
                "amountType": "SEND",
                "sourceAmount": {
                    "currency": "BWP",
                    "amount": "300"
                },
                "targetAmount": {
                    "currency": "TZS"
                },
                "expiration": "2021-08-25T14:17:09.663+01:00"
            }
        }
        end note





deactivate S1


D1->>S1:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
note right of D1
    **post /fxQuotes**
    {
        "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",
        "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
            "initiatingFsp": "PayerFSP",
            "counterPartyFsp": "FDH_FX",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "BWP",
                "amount": "300"
            },
            "targetAmount": {
                "currency": "TZS"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.\n**POST /fxQuote**
activate FXP
FXP- ->>S1:202 I'll get back to you
deactivate S1
FXP->FXPBackend:Lookup FX rate
note right of FXP
    **post /fxQuotes**
    {
        "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",
        "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
            "initiatingFsp": "PayerFSP",
            "counterPartyFsp": "FDH_FX",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "BWP",
                "amount": "300"
            },
            "targetAmount": {
                "currency": "TZS"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
FXPBackend- ->FXP:Return FX rate
note over FXPBackend
    I will add a 33 BWP fee for undertaking the conversion.
    Now I'll set an expiry time, sign the quotation object,
end note
note right of FXP
    {
        "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
            "initiatingFsp": "PayerFSP",
            "counterPartyFsp": "FDH_FX",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "BWP",
                "amount": "300"
            },
            "targetAmount": {
                "currency": "TZS",
                "amount": "48000"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
            "charges": [
                {
                    "chargeType": "string",
                    "sourceAmount": {
                        "currency": "BWP",
                        "amount": "33"
                    },
                    "targetAmount": {
                        "currency": "TZS",
                        "amount": "6000"
                    }
                }
            ]
        }
    }
end note

note over FXP
    Now I'll sign the quotation object,
    create an ILP prepare packet and return it in the intermediary object.

    NOTE: the ILP prepare packet contains the following items, all encoded:
    - The amount being sent (i.e. in the source currency)
    - An expiry time
    - The condition
    - The name of the FXP
    - The content of the conversion terms
end note

note left of FXP
    **PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
    {
        "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM",
        "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
            "initiatingFsp": "PayerFSP",
            "counterPartyFsp": "FDH_FX",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "BWP",
                "amount": "300"
            },
            "targetAmount": {
                "currency": "TZS",
                "amount": "48000"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
            "charges": [
                {
                    "chargeType": "string",
                    "sourceAmount": {
                        "currency": "BWP",
                        "amount": "33"
                    },
                    "targetAmount": {
                        "currency": "TZS",
                        "amount": "6000"
                    }
                }
            ]
        }
    }
end note
FXP->>S1:Here's the signed conversion object
activate S1
S1- ->>FXP:200 Gotcha
deactivate FXP
S1->>D1:Here's the signed conversion object\n**PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
activate D1
D1- ->>S1:Gotcha
deactivate S1


    D1->PayerCC: Here are the conversion terms
        note right of PayerCC
        {
            "homeTransactionId": "string",
            "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM",
            "conversionTerms": {
                "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
                "initiatingFsp": "PayerFSP",
                "counterPartyFsp": "FDH_FX",
                "amountType": "SEND",
                "sourceAmount": {
                    "currency": "BWP",
                    "amount": "300"
                },
                "targetAmount": {
                    "currency": "TZS",
                    "amount": "48000"
                },
                "expiration": "2021-08-25T14:17:09.663+01:00"
                "charges": [
                    {
                        "chargeType": "string",
                        "sourceAmount": {
                            "currency": "BWP",
                            "amount": "33"
                        },
                        "targetAmount": {
                            "currency": "TZS",
                            "amount": "6000"
                        }
                    }
                ]
            }
        }
        end note


== Agreement Phase ==


PayerCC->D1: I want to get a quote from the FSP\n**POST /quotes**
        note right of PayerCC
        {
            "fspId": "PayeeFSP",
            "quotesPostRequest": {
                "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
                "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
                "payee": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "2551234567890",
                        "fspId": "PayeeFSP"
                    },
                    "name": "Yaro",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "Yaro",
                        "middleName": "",
                        "lastName": ""
                        },
                        "dateOfBirth": "1966-06-16",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                    "supportedCurrencies": [ "TZS" ]
                },
                "payer": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "26787654321",
                        "fspId": "PayerFSP"
                    },
                    "name": "$senderName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$senderFirstName",
                        "middleName": "$senderMiddleName",
                        "lastName": ""
                        },
                        "dateOfBirth": "1966-06-16"
                    }
                },
                "amountType": "SEND",
                "amount": {
                    "currency": "TZS",
                    "amount": "48000"
                },
                "converter": "PAYER",
                "expiration": "2021-08-25T14:17:09.663+01:00"
            }
        }
        end note


D1->>S1:Please quote for a transfer which sends 48000 TZS.\n**POST /quotes**
note right of D1
POST /quotes

    {
        "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
        "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
        "payee": {
            "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "2551234567890",
                "fspId": "PayeeFSP"
            },
            "name": "Yaro",
            "personalInfo": {
                "complexName": {
                "firstName": "Yaro",
                "middleName": "",
                "lastName": ""
                },
                "dateOfBirth": "1966-06-16",
                "kycInformation": "<Encrypted KYC Data>"
            },
            "supportedCurrencies": [ "TZS" ]
        },
        "payer": {
            "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "26787654321",
                "fspId": "PayerFSP"
            },
            "name": "$senderName",
            "personalInfo": {
                "complexName": {
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": ""
                },
                "dateOfBirth": "1966-06-16"
            }
        },
        "amountType": "SEND",
        "amount": {
            "currency": "TZS",
            "amount": "48000"
        },
        "converter": "PAYER",
        "expiration": "2021-08-25T14:17:09.663+01:00"
    }
end note
activate S1
S1- ->>D1:202 I'll get back to you

S1->>D2:**POST /quotes**
activate D2
D2- ->>S1:202 I'll get back to you
deactivate S1
D2->PayeeCC:**POST /quoterequests**
note right of D2
{
    "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
    "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "payee": {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "2551234567890",
            "fspId": "PayeeFSP"
        },
        "name": "Yaro",
        "personalInfo": {
            "complexName": {
            "firstName": "Yaro",
            "middleName": "",
            "lastName": ""
            },
            "dateOfBirth": "1966-06-16",
            "kycInformation": "<Encrypted KYC Data>"
        },
        "supportedCurrencies": [ "TZS" ]
    },
    "payer": {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "26787654321",
            "fspId": "PayerFSP"
        },
        "name": "$senderName",
        "personalInfo": {
            "complexName": {
            "firstName": "$senderFirstName",
            "middleName": "$senderMiddleName",
            "lastName": ""
            },
            "dateOfBirth": "1966-06-16"
        }
    },
    "amountType": "SEND",
    "amount": {
        "currency": "TZS",
        "amount": "48000"
    },
    "converter": "PAYER",
    "expiration": "2021-08-25T14:17:09.663+01:00"
}
end note
PayeeCC->PayeeCC:OK, so I will charge 4000 TZS for this.\nNow I create terms of the transfer
PayeeCC- ->D2:Here are the terms
note right of D2
{
    "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
    "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "payeeFspFeeAmount": "4000",
    "payeeFspFeeAmountCurrency": "TZS",
    "payeeReceiveAmount": "44000",
    "payeeReceiveAmountCurrency": "TZS",
    "transferAmount": "48000",
    "transferAmountCurrency": "TZS"
    "expiration": "2021-08-25T14:17:09.663+01:00"
}
end note
D2->D2:Now I will sign the transaction object
D2->>S1:Here's the signed quote
note left of D2
    **put /quotes/382987a8-75ce-4037-b500-c475e08c1727**

    {
        "transferAmount": {
            "currency": "TZS",
            "amount": "48000"
        },
        "payeeReceiveAmount": {
            "currency": "TZS",
            "amount": "44000"
        },
        "payeeFspFee": {
            "currency": "TZS",
            "amount": "4000"
        },
        "expiration": "$payeeQuoteExpiration",
        "ilpPacket": "
            <This is encoded transaction object. It contains data from quote request and response.>
        ",
        "condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"
    }

end note
activate S1
S1- ->>D2:200 Gotcha
deactivate D2
S1->>D1:Here's the signed quote\n**PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727**
activate D1
D1- ->>S1:200 Gotcha
deactivate S1
D1->D1:OK, I can see that there are going to be 4000 TZS in charges.

== Sender Confirmation ==

   D1- ->PayerCC:Here's the quote for the transfer\nIt expires at 2021-08-25T14:17:09.663+01:00
        note right of PayerCC
        {
            "quotes": {
                "body": {
                    "transferAmount": {
                        "currency": "TZS",
                        "amount": "48000"
                    },
                    "payeeReceiveAmount": {
                        "currency": "TZS",
                        "amount": "44000"
                    },
                    "payeeFspFee": {
                        "currency": "TZS",
                        "amount": "4000"
                    },
                    "expiration": "$payeeQuoteExpiration",
                    "ilpPacket": "
                        <This is encoded transaction object. It contains data from quote request and response.>
                    ",
                    "condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note
PayerCC->PayerCBS:Here's the quote
PayerCBS->A1:Hi, $senderName: I can do the transfer.\nIt'll cost you 55 BWP(10000 TZS) in fees\nand Yaro will receive\n44000 TZS.\nLet me know if you want to go ahead
A1->PayerCBS:Great! Yes please, go ahead

PayerCBS->PayerCC: Payer has accepted the terms please proceed

== Transfer Phase ==

PayerCC->D1: Proceed with the transfer\n**POST /fxTransfers**
    note right of PayerCC
    {
        "homeTransactionId": "string",
        "commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",
        "determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",
        "initiatingFsp": "PayerFSP",
        "counterPartyFsp": "FDH_FX",
        "amountType": "SEND",
        "sourceAmount": {
            "currency": "BWP",
            "amount": "300"
        },
        "targetAmount": {
            "currency": "TZS",
            "amount": "48000"
        },
        "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"
    }
    end note

D1->>S1:Please confirm your part of the transfer
note right of D1
**POST /fxTransfers**
{
    "commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",
    "determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "initiatingFsp": "PayerFSP",
    "counterPartyFsp": "FDH_FX",
    "amountType": "SEND",
    "sourceAmount": {
        "currency": "BWP",
        "amount": "300"
    },
    "targetAmount": {
        "currency": "TZS",
        "amount": "48000"
    },
    "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"
}
end note
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D2
S1->S1:OK, so this is an FX confirmation.
S1->S1: Is there any transfer with determiningTransactionId?\nNo, it does'nt.
S1->S1: Liquidity check and reserve on Payer DFSP's account
note over S1
Reservations:

**PayerFSP has a reservation of 300 BWP**
end note
S1->>FXP:Please confirm the currency conversion part of the transfer\n** POST /fxTransfers**
activate FXP
FXP- ->>S1:202 I'll get back to you
deactivate S1
FXP->FXPBackend:Reserve funds for FX conversion
note right of FXP
**POST /fxTransfers**
{
    "homeTransactionId": "string",
    "commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",
    "determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "initiatingFsp": "PayerFSP",
    "counterPartyFsp": "FDH_FX",
    "amountType": "SEND",
    "sourceAmount": {
        "currency": "BWP",
        "amount": "300"
    },
    "targetAmount": {
        "currency": "TZS",
        "amount": "48000"
    },
    "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"
}
end note
FXPBackend- ->FXP:Success
note right of FXP
{
  "homeTransactionId": "string",
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "RESERVED"
}
end note
FXP->>S1:Confirmed. Here's the fulfilment
note left of FXP
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
  "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "RESERVED"
}
end note
activate S1
S1- ->>FXP:200 Gotcha
deactivate FXP
S1->S1:Check fulfilment matches and cancel if not.
alt Conversion failed
S1->FXP:Sorry. Conversion failed
note over FXP
**PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "ABORTED"
}
end note
activate FXP
FXP- ->S1:Acknowledged
FXP->FXPBackend:Remove any reservations or obligations
note right of FXP
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "ABORTED"
}
end note
FXPBackend- ->FXP:Ok
deactivate FXP

S1->>D1:Sorry. Conversion failed
note over S1
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc/error**
{
    "errorCode": "9999"
    , "errorDescription": "Whatever the error was"
}
end note
else Conversion succeeded
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**

end
activate D1
D1- ->S1:200 Gotcha
deactivate S1

    D1- ->PayerCC:Confirmed. You can proceed with the transfer.
    note right of PayerCC
    **PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
    {
        "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",
        "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
        "conversionState": "RESERVED"
    }
    end note

    PayerCC- ->D1:Please do the transfer **POST /simpleTransfers**
    note right of PayerCC
    {
        "fspId": "PayeeFSP",
        "transfersPostRequest": {
            "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
            "payeeFsp": "PayeeFSP",
            "payerFsp": "PayerFSP",
            "amount": {
                "currency": "TZS",
                "amount": "48000"
            },
            "ilpPacket": "<Encoded transaction object>",
            "condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks",
            "expiration": "2016-05-24T08:38:08.699-04:00"
        }
    }
    end note

D1->S1:Please do the transfer **POST /transfers**
note over D1
POST /transfers
{
    "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "payeeFsp": "PayeeFSP",
    "payerFsp": "PayerFSP",
    "amount": {
        "currency": "TZS",
        "amount": "48000"
    },
    "ilpPacket": "<Encoded transaction object>",
    "condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks",
    "expiration": "2016-05-24T08:38:08.699-04:00"
}
end note
activate S1
S1- ->D1:202 I'll get back to you
deactivate D1
S1->S1:Is there a dependent transfer? Yes
S1->S1:Perform liquidity check and reserve funds\nagainst creditor party to dependent transfer
note over S1
Reservations:

PayerFSP has a reservation of 300 BWP
**FDH_FX has a reservation of 48000 TZS**
end note

S1->D2:Please do the transfer\n**POST /transfers**
activate D2
D2- ->S1:202 I'll get back to you
deactivate S1
D2->D2:Let me check that the terms of the dependent transfer\nare the same as the ones I agreed to\nand that the fulfilment and condition match

D2->PayeeCC:Please credit Yaro's account with 44000 TZS
note right of D2
**POST /transfers**
{
  "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
  "amount": "48000",
  "currency": "TZS",
  "amountType": "SEND",
  "from": {
    "dateOfBirth": "1966-06-16",
    "displayName": "$senderName",
    "firstName": "$senderFirstName",
    "middleName": "$senderMiddleName",
    "lastName": ""
    "fspId": "PayerFSP",
    "idType": "MSISDN",
    "idValue": "26787654321"
  },
  "to": {
    "dateOfBirth": "1966-06-16",
    "displayName": "Yaro",
    "firstName": "Yaro",
    "middleName": "",
    "lastName": "",
    "fspId": "PayeeFSP",
    "idType": "MSISDN",
    "idValue": "2551234567890"
  },
  "note": "string",
  "quote": {
    "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
    "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "payeeFspFeeAmount": "4000",
    "payeeFspFeeAmountCurrency": "TZS",
    "payeeReceiveAmount": "44000",
    "payeeReceiveAmountCurrency": "TZS",
    "transferAmount": "48000",
    "transferAmountCurrency": "TZS"
    "expiration": "2021-08-25T14:17:09.663+01:00"
  },
  "transactionType": "TRANSFER",
  "ilpPacket": {
    "data": <decoded ilpPacket>
  }
}
end note

PayeeCC- ->D2:Done
note right of D2
{
    "homeTransactionId": "string",
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    **Note: fulfilment is optional: SDK will create if not found**
    "transferState": "COMMITTED"
}
end note

D2->>S1:Transfer is confirmed, here's the fulfilment
note over D2
**PUT /transfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    "transferState": "COMMITTED"
}
end note
activate S1
S1- ->>D2:200 Gotcha
deactivate D2
S1->S1:Is there a dependent transfer?\nYes, there is.
S1->S1:Is this dependency against the debtor party to the transfer?\nYes, it is.
S1->S1:Create an obligation from the debtor party to the party named in the dependency (the FXP)
S1->S1:Is the transfer denominated in the currency of the payee receive amount?\nYes, it is.
S1->S1:Create an obligation from the party named in the dependency\nto the creditor party for the transfer
S1->>FXP:The transfer succeeded.\nYou can clear it in your ledgers
note over S1
**PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    "transferState": "COMMITTED"
}
end note
activate FXP
FXP->FXP:Let's just check: does this match the stuff I sent?
FXP->FXP:It does. Great. I'll clear the conversion
FXP- ->>S1:200 Gotcha
deactivate FXP
note over S1
    Ledger positions:
    PayerFSP has a debit of 300 BWP
    FDH_FX has a credit of 300 BWP
    FDH_FX has a debit of 48000 TZS
    PayeeFSP has a credit of 48000 TZS
end note
S1->>D1:Transfer is complete\n**PUT /transfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
activate D1
D1- ->S1:200 Gotcha
deactivate S1
   D1- ->PayerCC:Transfer was completed successfully
        note right of PayerCC
        {
            "transfer": {
                "body": {
                    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
                    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
                    "transferState": "COMMITTED"
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note

PayerCC->PayerCBS:Transfer was completed successfully
PayerCBS->PayerCBS:Commit the funds in my ledgers
PayerCBS->A1:Your transfer is successful
deactivate D1

@enduml

PlantUML version 1.2022.6(Tue Jun 21 18:34:49 BST 2022)
(GPLV2 source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>