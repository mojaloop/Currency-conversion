<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="16511px" preserveAspectRatio="none" style="width:3251px;height:16511px;background:#FFFFFF;" version="1.1" viewBox="0 0 3251 16511" width="3251px" zoomAndPan="magnify"><defs/><g><rect height="45.2188" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="372" x="1435.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="344" x="1449.75" y="29.5332">Remittance Transfer using Mojaloop FX APIs POC</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="362" x="1440.75" y="47.1426">Payer DFSP requests conversion with SEND amount</text><rect fill="#ADD8E6" height="16443.4219" style="stroke:#181818;stroke-width:0.5;" width="782.5" x="323.5" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="76" x="676.75" y="75.7139">Payer DFSP</text><rect fill="#FFFFE0" height="16443.4219" style="stroke:#181818;stroke-width:0.5;" width="119" x="1986" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113" x="1989" y="75.7139">Discovery Service</text><rect fill="#DDDDDD" height="16443.4219" style="stroke:#181818;stroke-width:0.5;" width="439.5" x="2107" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="74" x="2289.75" y="75.7139">FX provider</text><rect fill="#ADD8E6" height="16443.4219" style="stroke:#181818;stroke-width:0.5;" width="483.5" x="2548.5" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79" x="2750.75" y="75.7139">Payee DFSP</text><rect fill="#FFFFFF" height="468.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1057" y="259.8047"/><rect fill="#FFFFFF" height="1414.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1057" y="1424.4922"/><rect fill="#FFFFFF" height="583.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="1057" y="2930.2109"/><rect fill="#FFFFFF" height="11053.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="1057" y="5362.9141"/><rect fill="#FFFFFF" height="3906.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="1062" y="9297.5547"/><rect fill="#FFFFFF" height="1051.3906" style="stroke:#181818;stroke-width:1.0;" width="10" x="1062" y="15355.6406"/><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="697.8906"/><rect fill="#FFFFFF" height="454.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="1000.4063"/><rect fill="#FFFFFF" height="306.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="2808.8047"/><rect fill="#FFFFFF" height="438.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="3168.7266"/><rect fill="#FFFFFF" height="107.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="5285.8594"/><rect fill="#FFFFFF" height="879.5781" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="6811.3906"/><rect fill="#FFFFFF" height="487.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="8840.7656"/><rect fill="#FFFFFF" height="620.8438" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="10949.4375"/><rect fill="#FFFFFF" height="774.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="12077.4219"/><rect fill="#FFFFFF" height="528.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="12941.5625"/><rect fill="#FFFFFF" height="891.3047" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="14494.6875"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2040.5" y="758.5938"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2040.5" y="2869.5078"/><rect fill="#FFFFFF" height="1739.75" style="stroke:#181818;stroke-width:1.0;" width="10" x="2146" y="3576.4609"/><rect fill="#FFFFFF" height="685.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="2146" y="11539.9297"/><rect fill="#FFFFFF" height="294.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2146" y="12324.9375"/><rect fill="#FFFFFF" height="235.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2146" y="14972.0156"/><rect fill="#FFFFFF" height="558.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="2587.5" y="819.2969"/><rect fill="#FFFFFF" height="1590.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="2587.5" y="7660.6172"/><rect fill="#FFFFFF" height="1203.5" style="stroke:#181818;stroke-width:1.0;" width="10" x="2587.5" y="13439.6484"/><rect height="537.9219" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1540.5" x="1012" y="12284.2344"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="52" x2="52" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="368.5" x2="368.5" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="677.5" x2="677.5" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1062" x2="1062" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1470.5" x2="1470.5" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2045.5" x2="2045.5" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2151" x2="2151" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2484.5" x2="2484.5" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2592.5" x2="2592.5" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2970" x2="2970" y1="150.3984" y2="16425.0313"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="3221.5" x2="3221.5" y1="150.3984" y2="16425.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="5" y="147.3223">$senderName</text><ellipse cx="52" cy="81.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52,89.2891 L52,116.2891 M39,97.2891 L65,97.2891 M52,116.2891 L39,131.2891 M52,116.2891 L65,131.2891 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="5" y="16438.5645">$senderName</text><ellipse cx="52" cy="16450.1406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52,16458.1406 L52,16485.1406 M39,16466.1406 L65,16466.1406 M52,16485.1406 L39,16500.1406 M52,16485.1406 L65,16500.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="327.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="334.5" y="139.3223">Payer CBS</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="327.5" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="334.5" y="16445.5645">Payer CBS</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="620.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="627.5" y="139.3223">Core Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="620.5" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="627.5" y="16445.5645">Core Connector</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1022" y="82.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1043.5" y="104.1035">Payer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1033.5" y="121.7129">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1029" y="139.3223">Connector</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1022" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="1043.5" y="16445.5645">Payer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="1033.5" y="16463.1738">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1029" y="16480.7832">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1413.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1420.5" y="139.3223">Mojaloop Switch</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1413.5" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1420.5" y="16445.5645">Mojaloop Switch</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="2002.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="2009.5" y="139.3223">ALS Oracle</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="2002.5" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="2009.5" y="16445.5645">ALS Oracle</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2111" y="100.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="2138" y="121.7129">FXP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2118" y="139.3223">Connector</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2111" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="2138" y="16445.5645">FXP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2118" y="16463.1738">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2427.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2434.5" y="139.3223">Backend FX API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2427.5" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2434.5" y="16445.5645">Backend FX API</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2552.5" y="82.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2572.5" y="104.1035">Payee</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2564" y="121.7129">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2559.5" y="139.3223">Connector</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2552.5" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2572.5" y="16445.5645">Payee</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2564" y="16463.1738">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2559.5" y="16480.7832">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2913" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2920" y="139.3223">Core Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2913" y="16424.0313"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2920" y="16445.5645">Core Connector</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="3203.5" y="147.3223">Yaro</text><ellipse cx="3221.5" cy="81.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M3221.5,89.2891 L3221.5,116.2891 M3208.5,97.2891 L3234.5,97.2891 M3221.5,116.2891 L3208.5,131.2891 M3221.5,116.2891 L3234.5,131.2891 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="3203.5" y="16438.5645">Yaro</text><ellipse cx="3221.5" cy="16450.1406" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M3221.5,16458.1406 L3221.5,16485.1406 M3208.5,16466.1406 L3234.5,16466.1406 M3221.5,16485.1406 L3208.5,16500.1406 M3221.5,16485.1406 L3234.5,16500.1406 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="468.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1057" y="259.8047"/><rect fill="#FFFFFF" height="1414.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="1057" y="1424.4922"/><rect fill="#FFFFFF" height="583.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="1057" y="2930.2109"/><rect fill="#FFFFFF" height="11053.1172" style="stroke:#181818;stroke-width:1.0;" width="10" x="1057" y="5362.9141"/><rect fill="#FFFFFF" height="3906.9297" style="stroke:#181818;stroke-width:1.0;" width="10" x="1062" y="9297.5547"/><rect fill="#FFFFFF" height="1051.3906" style="stroke:#181818;stroke-width:1.0;" width="10" x="1062" y="15355.6406"/><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="697.8906"/><rect fill="#FFFFFF" height="454.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="1000.4063"/><rect fill="#FFFFFF" height="306.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="2808.8047"/><rect fill="#FFFFFF" height="438.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="3168.7266"/><rect fill="#FFFFFF" height="107.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="5285.8594"/><rect fill="#FFFFFF" height="879.5781" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="6811.3906"/><rect fill="#FFFFFF" height="487.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="8840.7656"/><rect fill="#FFFFFF" height="620.8438" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="10949.4375"/><rect fill="#FFFFFF" height="774.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="12077.4219"/><rect fill="#FFFFFF" height="528.4375" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="12941.5625"/><rect fill="#FFFFFF" height="891.3047" style="stroke:#181818;stroke-width:1.0;" width="10" x="1466" y="14494.6875"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2040.5" y="758.5938"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="2040.5" y="2869.5078"/><rect fill="#FFFFFF" height="1739.75" style="stroke:#181818;stroke-width:1.0;" width="10" x="2146" y="3576.4609"/><rect fill="#FFFFFF" height="685.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="2146" y="11539.9297"/><rect fill="#FFFFFF" height="294.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="2146" y="12324.9375"/><rect fill="#FFFFFF" height="235.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2146" y="14972.0156"/><rect fill="#FFFFFF" height="558.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="2587.5" y="819.2969"/><rect fill="#FFFFFF" height="1590.2344" style="stroke:#181818;stroke-width:1.0;" width="10" x="2587.5" y="7660.6172"/><rect fill="#FFFFFF" height="1203.5" style="stroke:#181818;stroke-width:1.0;" width="10" x="2587.5" y="13439.6484"/><polygon fill="#181818" points="357,195.1016,367,199.1016,357,203.1016,361,199.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="363" y1="199.1016" y2="199.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="59" y="186.0693">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="70" y="177.8936">I'd like to pay Yaro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="70" y="194.2451">300 BWP, please</text><polygon fill="#181818" points="666,225.4531,676,229.4531,666,233.4531,670,229.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="369" x2="672" y1="229.4531" y2="229.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="376" y="224.5967">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="387" y="224.5967">Initiate remittance transfer</text><polygon fill="#181818" points="1045,255.8047,1055,259.8047,1045,263.8047,1049,259.8047" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="1051" y1="259.8047" y2="259.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="685" y="254.9482">3</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="696" y="254.9482">POST /transfers</text><path d="M683,272.8047 L683,609.8047 L958,609.8047 L958,282.8047 L948,272.8047 L683,272.8047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M948,272.8047 L948,282.8047 L958,282.8047 L948,272.8047 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="291.2998">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="705" y="307.6514">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="705" y="324.0029">"from": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="721" y="340.3545">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="721" y="356.7061">"displayName": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="721" y="373.0576">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="721" y="389.4092">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="721" y="405.7607">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="721" y="422.1123">"fspId": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="721" y="438.4639">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="721" y="454.8154">"idValue": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="705" y="471.167">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="705" y="487.5186">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="721" y="503.8701">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="721" y="520.2217">"idValue": "2551234567890"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="705" y="536.5732">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="705" y="552.9248">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="705" y="569.2764">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="705" y="585.6279">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="601.9795">}</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3244.5" x="0" y="636.0117"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="636.0117" y2="636.0117"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="639.0117" y2="639.0117"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="122" x="1561.25" y="624.8359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104" x="1567.25" y="642.3311">Discovery Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="697.8906" y2="693.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="697.8906" y2="701.8906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1465" y1="697.8906" y2="697.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1074" y="684.8584">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="1085" y="676.6826">I want to send to MSISDN 2551234567890</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="1085" y="693.0342">GET /parties/MSISDN/2551234567890</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063" x2="1073" y1="728.2422" y2="724.2422"/><line style="stroke:#181818;stroke-width:1.0;" x1="1063" x2="1073" y1="728.2422" y2="732.2422"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1062" x2="1465" y1="728.2422" y2="728.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1079" y="723.3857">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1090" y="723.3857">202 I'll get back to you</text><polygon fill="#181818" points="2028.5,754.5938,2038.5,758.5938,2028.5,762.5938,2032.5,758.5938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2034.5" y1="758.5938" y2="758.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1483" y="753.7373">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="1494" y="753.7373">Who owns MSISDN 2551234567890?</text><polygon fill="#181818" points="1487,784.9453,1477,788.9453,1487,792.9453,1483,788.9453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1481" x2="2044.5" y1="788.9453" y2="788.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1493" y="784.0889">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1504" y="784.0889">It's PayeeFSP</text><line style="stroke:#181818;stroke-width:1.0;" x1="2585.5" x2="2575.5" y1="819.2969" y2="815.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="2585.5" x2="2575.5" y1="819.2969" y2="823.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2586.5" y1="819.2969" y2="819.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1483" y="814.4404">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1494" y="814.4404">Do you own MSISDN 2551234567890?</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="849.6484" y2="845.6484"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="849.6484" y2="853.6484"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1476" x2="2586.5" y1="849.6484" y2="849.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1493" y="844.792">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1504" y="844.792">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2597.5" x2="2639.5" y1="880" y2="880"/><line style="stroke:#181818;stroke-width:1.0;" x1="2639.5" x2="2639.5" y1="880" y2="893"/><line style="stroke:#181818;stroke-width:1.0;" x1="2598.5" x2="2639.5" y1="893" y2="893"/><polygon fill="#181818" points="2608.5,889,2598.5,893,2608.5,897,2604.5,893" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2604.5" y="875.1436">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="2622.5" y="875.1436">Check Sanction list status &amp; trigger a refresh of the status</text><polygon fill="#181818" points="2958.5,919.3516,2968.5,923.3516,2958.5,927.3516,2962.5,923.3516" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2597.5" x2="2964.5" y1="923.3516" y2="923.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2604.5" y="918.4951">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="2622.5" y="918.4951">Check account and get currency type</text><polygon fill="#181818" points="2608.5,949.7031,2598.5,953.7031,2608.5,957.7031,2604.5,953.7031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2602.5" x2="2969.5" y1="953.7031" y2="953.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2614.5" y="948.8467">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="2632.5" y="948.8467">Result</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="1000.4063" y2="996.4063"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="1000.4063" y2="1004.4063"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2586.5" y1="1000.4063" y2="1000.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1493" y="987.374">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1511" y="979.1982">Yes, it's Yaro. He can receive in TZS</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="1511" y="995.5498">PUT /parties/MSISDN/2551234567890</text><path d="M2280,1013.4063 L2280,1350.4063 L2582,1350.4063 L2582,1023.4063 L2572,1013.4063 L2280,1013.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2572,1013.4063 L2572,1023.4063 L2582,1023.4063 L2572,1013.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="2286" y="1031.9014">PUT /parties</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2286" y="1048.2529">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="2302" y="1064.6045">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="2318" y="1080.9561">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="2318" y="1097.3076">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="2318" y="1113.6592">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2302" y="1130.0107">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="2302" y="1146.3623">"merchantClassificationCode": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2302" y="1162.7139">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2302" y="1179.0654">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2318" y="1195.417">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2318" y="1211.7686">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2318" y="1228.1201">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2318" y="1244.4717">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2318" y="1260.8232">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="2318" y="1277.1748">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="2318" y="1293.5264">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2302" y="1309.8779">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="2302" y="1326.2295">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2286" y="1342.5811">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2590.5" x2="2580.5" y1="1377.7891" y2="1373.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="2590.5" x2="2580.5" y1="1377.7891" y2="1381.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1476" x2="2591.5" y1="1377.7891" y2="1377.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="1372.9326">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1501" y="1372.9326">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1078" y1="1424.4922" y2="1420.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1078" y1="1424.4922" y2="1428.4922"/><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1465" y1="1424.4922" y2="1424.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1084" y="1411.46">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="1102" y="1403.2842">Yes, it's Yaro. He can receive in TZS</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="1102" y="1419.6357">PUT /parties/MSISDN/2551234567890</text><line style="stroke:#181818;stroke-width:1.0;" x1="1469" x2="1459" y1="1454.8438" y2="1450.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1469" x2="1459" y1="1454.8438" y2="1458.8438"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1067" x2="1470" y1="1454.8438" y2="1454.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1074" y="1449.9873">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1092" y="1449.9873">200 Gotcha</text><polygon fill="#181818" points="689,1497.5469,679,1501.5469,689,1505.5469,685,1501.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="683" x2="1056" y1="1501.5469" y2="1501.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695" y="1488.5146">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="713" y="1480.3389">Here is the party information</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="713" y="1496.6904">and supported currencies</text><path d="M683,1514.5469 L683,2406.5469 L1074,2406.5469 L1074,1524.5469 L1064,1514.5469 L683,1514.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1064,1514.5469 L1064,1524.5469 L1074,1524.5469 L1064,1514.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="1533.042">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="705" y="1549.3936">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="721" y="1565.7451">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="721" y="1582.0967">"from": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="1598.4482">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="737" y="1614.7998">"displayName": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="737" y="1631.1514">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="737" y="1647.5029">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="737" y="1663.8545">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="737" y="1680.2061">"fspId": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="737" y="1696.5576">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="737" y="1712.9092">"idValue": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="1729.2607">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="721" y="1745.6123">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="737" y="1761.9639">"type": "CONSUMER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="737" y="1778.3154">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="737" y="1794.667">"idValue": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="737" y="1811.0186">"displayName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="737" y="1827.3701">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="737" y="1843.7217">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="737" y="1860.0732">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="1876.4248">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="1892.7764">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="737" y="1909.1279">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="737" y="1925.4795">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="737" y="1941.8311">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="1958.1826">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="1974.5342">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="721" y="1990.8857">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="721" y="2007.2373">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="721" y="2023.5889">"currentState": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="235" x="815" y="2023.5889">WAITING_FOR_PARTY_ACCEPTANCE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1050" y="2023.5889">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="2039.9404">"getPartiesResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="737" y="2056.292">"body": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="753" y="2072.6436">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="769" y="2088.9951">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="769" y="2105.3467">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="769" y="2121.6982">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="2138.0498">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="753" y="2154.4014">"merchantClassificationCode": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="753" y="2170.7529">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="753" y="2187.1045">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="769" y="2203.4561">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="769" y="2219.8076">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="769" y="2236.1592">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="769" y="2252.5107">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="769" y="2268.8623">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="769" y="2285.2139">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="769" y="2301.5654">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="2317.917">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="753" y="2334.2686">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="2350.6201">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="737" y="2366.9717">"headers": {}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="721" y="2383.3232">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="2399.6748">}</text><polygon fill="#181818" points="380,2430.8828,370,2434.8828,380,2438.8828,376,2434.8828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374" x2="677" y1="2434.8828" y2="2434.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="386" y="2430.0264">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="404" y="2430.0264">Here's are the receiver details</text><polygon fill="#181818" points="63,2477.5859,53,2481.5859,63,2485.5859,59,2481.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="368" y1="2481.5859" y2="2481.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69" y="2468.5537">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="87" y="2460.3779">Hi, $senderName: The number belongs to Yaro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="87" y="2476.7295">Let me know if you want to go ahead</text><polygon fill="#181818" points="357,2507.9375,367,2511.9375,357,2515.9375,361,2511.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="363" y1="2511.9375" y2="2511.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59" y="2507.0811">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="77" y="2507.0811">Yes please, go ahead</text><polygon fill="#181818" points="666,2538.2891,676,2542.2891,666,2546.2891,670,2542.2891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="369" x2="672" y1="2542.2891" y2="2542.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="376" y="2537.4326">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="394" y="2537.4326">Payer has accepted the party information</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3244.5" x="0" y="2571.4648"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="2571.4648" y2="2571.4648"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="2574.4648" y2="2574.4648"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="148" x="1548.25" y="2560.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="130" x="1554.25" y="2577.7842">Currency conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1045" y1="2633.3438" y2="2629.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="1055" x2="1045" y1="2633.3438" y2="2637.3438"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="1056" y1="2633.3438" y2="2633.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="2620.3115">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="703" y="2612.1357">Get quotation</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="337" x="703" y="2628.4873">PUT /transfers/d9ce59d4-3598-4396-8630-581bb0551451</text><path d="M683,2646.3438 L683,2705.3438 L830,2705.3438 L830,2656.3438 L820,2646.3438 L683,2646.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M820,2646.3438 L820,2656.3438 L830,2656.3438 L820,2646.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="2664.8389">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="705" y="2681.1904">"acceptParty": true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="2697.542">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1109" y1="2749.1016" y2="2749.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="1109" x2="1109" y1="2749.1016" y2="2762.1016"/><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1109" y1="2762.1016" y2="2762.1016"/><polygon fill="#181818" points="1078,2758.1016,1068,2762.1016,1078,2766.1016,1074,2762.1016" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1074" y="2736.0693">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="1092" y="2727.8936">Hmmm. I can only send in BWP.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="1092" y="2744.2451">I need to get some currency conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="2808.8047" y2="2804.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="2808.8047" y2="2812.8047"/><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1465" y1="2808.8047" y2="2808.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1074" y="2795.7725">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1092" y="2787.5967">What FXPs do you know about?</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="115" x="1092" y="2803.9482">GET /services/FXP</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063" x2="1073" y1="2839.1563" y2="2835.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="1063" x2="1073" y1="2839.1563" y2="2843.1563"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1062" x2="1465" y1="2839.1563" y2="2839.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="2834.2998">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1097" y="2834.2998">202 I'll get back to you</text><polygon fill="#181818" points="2028.5,2865.5078,2038.5,2869.5078,2028.5,2873.5078,2032.5,2869.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2034.5" y1="2869.5078" y2="2869.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="2864.6514">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1501" y="2864.6514">What FXPs do you know about?</text><polygon fill="#181818" points="1487,2895.8594,1477,2899.8594,1487,2903.8594,1483,2899.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1481" x2="2044.5" y1="2899.8594" y2="2899.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1493" y="2895.0029">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1511" y="2895.0029">FDH FX</text><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1078" y1="2930.2109" y2="2926.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1078" y1="2930.2109" y2="2934.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1465" y1="2930.2109" y2="2930.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1084" y="2925.3545">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="1102" y="2925.3545">Here are the available FXPs:FDH FX</text><path d="M1332,2943.2109 L1332,3051.2109 L1461,3051.2109 L1461,2953.2109 L1451,2943.2109 L1332,2943.2109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1451,2943.2109 L1451,2953.2109 L1461,2953.2109 L1451,2943.2109 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1338" y="2961.7061">PUT /services/FXP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1338" y="2978.0576">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="1354" y="2994.4092">"providers": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="1370" y="3010.7607">"FDH_FX"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1354" y="3027.1123">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1338" y="3043.4639">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="3078.6719" y2="3074.6719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="3078.6719" y2="3082.6719"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1067" x2="1465" y1="3078.6719" y2="3078.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1074" y="3073.8154">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1092" y="3073.8154">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1109" y1="3114.0234" y2="3114.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1109" x2="1109" y1="3114.0234" y2="3127.0234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1062" x2="1109" y1="3127.0234" y2="3127.0234"/><polygon fill="#181818" points="1072,3123.0234,1062,3127.0234,1072,3131.0234,1068,3127.0234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1074" y="3109.167">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="1092" y="3109.167">I'll ask FDH FX to perform my conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="3168.7266" y2="3164.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="3168.7266" y2="3172.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1465" y1="3168.7266" y2="3168.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1074" y="3155.6943">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1092" y="3147.5186">Here is the initial version of the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="1092" y="3163.8701">Please quote me for the currency conversion.</text><path d="M1072,3181.7266 L1072,3485.7266 L1488,3485.7266 L1488,3191.7266 L1478,3181.7266 L1072,3181.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1478,3181.7266 L1478,3191.7266 L1488,3191.7266 L1478,3181.7266 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90" x="1078" y="3200.2217">post /fxQuotes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1078" y="3216.5732">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="1094" y="3232.9248">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1094" y="3249.2764">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="1110" y="3265.6279">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1110" y="3281.9795">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1110" y="3298.3311">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1110" y="3314.6826">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1110" y="3331.0342">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1126" y="3347.3857">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1126" y="3363.7373">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1110" y="3380.0889">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1110" y="3396.4404">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1126" y="3412.792">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1110" y="3429.1436">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1110" y="3445.4951">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1094" y="3461.8467">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1078" y="3478.1982">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1063" x2="1073" y1="3513.4063" y2="3509.4063"/><line style="stroke:#181818;stroke-width:1.0;" x1="1063" x2="1073" y1="3513.4063" y2="3517.4063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1062" x2="1465" y1="3513.4063" y2="3513.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="3508.5498">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1097" y="3508.5498">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2144" x2="2134" y1="3576.4609" y2="3572.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="2144" x2="2134" y1="3576.4609" y2="3580.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2145" y1="3576.4609" y2="3576.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="3555.2529">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1501" y="3538.9014">Here is the initial version of the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="1501" y="3555.2529">Please quote me for the currency conversion.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94" x="1501" y="3571.6045">POST /fxQuote</text><line style="stroke:#181818;stroke-width:1.0;" x1="1472" x2="1482" y1="3606.8125" y2="3602.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1472" x2="1482" y1="3606.8125" y2="3610.8125"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1471" x2="2145" y1="3606.8125" y2="3606.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1488" y="3601.9561">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1506" y="3601.9561">202 I'll get back to you</text><polygon fill="#181818" points="2473,3633.1641,2483,3637.1641,2473,3641.1641,2477,3637.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2156" x2="2479" y1="3637.1641" y2="3637.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2163" y="3632.3076">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="2181" y="3632.3076">Lookup FX rate</text><path d="M2161,3650.1641 L2161,3954.1641 L2577,3954.1641 L2577,3660.1641 L2567,3650.1641 L2161,3650.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2567,3650.1641 L2567,3660.1641 L2577,3660.1641 L2567,3650.1641 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90" x="2167" y="3668.6592">post /fxQuotes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="3685.0107">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="2183" y="3701.3623">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="2183" y="3717.7139">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="2199" y="3734.0654">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2199" y="3750.417">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="2199" y="3766.7686">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2199" y="3783.1201">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2199" y="3799.4717">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2215" y="3815.8232">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="2215" y="3832.1748">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2199" y="3848.5264">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="2199" y="3864.8779">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2215" y="3881.2295">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2199" y="3897.5811">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2199" y="3913.9326">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2183" y="3930.2842">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="3946.6357">}</text><polygon fill="#181818" points="2167,3977.8438,2157,3981.8438,2167,3985.8438,2163,3981.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2161" x2="2484" y1="3981.8438" y2="3981.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2173" y="3976.9873">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2191" y="3976.9873">Return FX rate</text><path d="M2317,3994.8438 L2317,4036.8438 L2653,4036.8438 L2653,4004.8438 L2643,3994.8438 L2317,3994.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2643,3994.8438 L2643,4004.8438 L2653,4004.8438 L2643,3994.8438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="2323" y="4013.3389">I will add a 33 BWP fee for undertaking the conversion.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302" x="2323" y="4029.6904">Now I'll set an expiry time, sign the quotation object,</text><path d="M2161,4047.5469 L2161,4547.5469 L2541,4547.5469 L2541,4057.5469 L2531,4047.5469 L2161,4047.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2531,4047.5469 L2531,4057.5469 L2541,4057.5469 L2531,4047.5469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="4066.042">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="2183" y="4082.3936">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="2199" y="4098.7451">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2199" y="4115.0967">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="2199" y="4131.4482">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2199" y="4147.7998">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2199" y="4164.1514">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2215" y="4180.5029">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="2215" y="4196.8545">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2199" y="4213.2061">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="2199" y="4229.5576">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2215" y="4245.9092">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2215" y="4262.2607">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2199" y="4278.6123">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2199" y="4294.9639">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="2199" y="4311.3154">"charges": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2215" y="4327.667">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="2231" y="4344.0186">"chargeType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2231" y="4360.3701">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2247" y="4376.7217">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="2247" y="4393.0732">"amount": "33"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2231" y="4409.4248">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="2231" y="4425.7764">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2247" y="4442.1279">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="2247" y="4458.4795">"amount": "6000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2231" y="4474.8311">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2215" y="4491.1826">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2199" y="4507.5342">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2183" y="4523.8857">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="4540.2373">}</text><path d="M1932,4558.0938 L1932,4715.0938 L2369,4715.0938 L2369,4568.0938 L2359,4558.0938 L1932,4558.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2359,4558.0938 L2359,4568.0938 L2369,4568.0938 L2359,4558.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1938" y="4576.5889">Now I'll sign the quotation object,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="1938" y="4592.9404">create an ILP prepare packet and return it in the intermediary object.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1938" y="4609.292">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="416" x="1938" y="4625.6436">NOTE: the ILP prepare packet contains the following items, all encoded:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="1938" y="4641.9951">- The amount being sent (i.e. in the source currency)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1938" y="4658.3467">- An expiry time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1938" y="4674.6982">- The condition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1938" y="4691.0498">- The name of the FXP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1938" y="4707.4014">- The content of the conversion terms</text><path d="M1706,4725.2578 L1706,5258.2578 L2141,5258.2578 L2141,4735.2578 L2131,4725.2578 L1706,4725.2578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2131,4725.2578 L2131,4735.2578 L2141,4735.2578 L2131,4725.2578 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="329" x="1712" y="4743.7529">PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1712" y="4760.1045">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="1728" y="4776.4561">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="1728" y="4792.8076">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="1744" y="4809.1592">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1744" y="4825.5107">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1744" y="4841.8623">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1744" y="4858.2139">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1744" y="4874.5654">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1760" y="4890.917">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1760" y="4907.2686">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1744" y="4923.6201">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1744" y="4939.9717">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1760" y="4956.3232">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1760" y="4972.6748">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1744" y="4989.0264">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1744" y="5005.3779">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="1744" y="5021.7295">"charges": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1760" y="5038.0811">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="1776" y="5054.4326">"chargeType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1776" y="5070.7842">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1792" y="5087.1357">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1792" y="5103.4873">"amount": "33"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1776" y="5119.8389">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1776" y="5136.1904">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1792" y="5152.542">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1792" y="5168.8936">"amount": "6000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1776" y="5185.2451">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1760" y="5201.5967">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1744" y="5217.9482">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1728" y="5234.2998">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1712" y="5250.6514">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="5285.8594" y2="5281.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="5285.8594" y2="5289.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2145" y1="5285.8594" y2="5285.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1493" y="5281.0029">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="1511" y="5281.0029">Here's the signed conversion object</text><line style="stroke:#181818;stroke-width:1.0;" x1="2149" x2="2139" y1="5316.2109" y2="5312.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="2149" x2="2139" y1="5316.2109" y2="5320.2109"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1476" x2="2150" y1="5316.2109" y2="5316.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="5311.3545">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1501" y="5311.3545">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1078" y1="5362.9141" y2="5358.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1078" y1="5362.9141" y2="5366.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1465" y1="5362.9141" y2="5362.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1084" y="5349.8818">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="1102" y="5341.7061">Here's the signed conversion object</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="329" x="1102" y="5358.0576">PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9</text><line style="stroke:#181818;stroke-width:1.0;" x1="1469" x2="1459" y1="5393.2656" y2="5389.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1469" x2="1459" y1="5393.2656" y2="5397.2656"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1067" x2="1470" y1="5393.2656" y2="5393.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1074" y="5388.4092">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="1092" y="5388.4092">Gotcha</text><polygon fill="#181818" points="689,5419.6172,679,5423.6172,689,5427.6172,685,5423.6172" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="683" x2="1056" y1="5423.6172" y2="5423.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695" y="5418.7607">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="713" y="5418.7607">Here are the conversion terms</text><path d="M683,5436.6172 L683,6606.6172 L1166,6606.6172 L1166,5446.6172 L1156,5436.6172 L683,5436.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1156,5436.6172 L1156,5446.6172 L1166,5446.6172 L1156,5436.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="5455.1123">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="705" y="5471.4639">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="721" y="5487.8154">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="721" y="5504.167">"from": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="5520.5186">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="737" y="5536.8701">"displayName": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="737" y="5553.2217">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="737" y="5569.5732">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="737" y="5585.9248">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="737" y="5602.2764">"fspId": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="737" y="5618.6279">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="737" y="5634.9795">"idValue": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="5651.3311">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="721" y="5667.6826">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="737" y="5684.0342">"type": "CONSUMER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="737" y="5700.3857">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="737" y="5716.7373">"idValue": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="737" y="5733.0889">"displayName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="737" y="5749.4404">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="737" y="5765.792">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="737" y="5782.1436">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="5798.4951">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="5814.8467">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="737" y="5831.1982">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="737" y="5847.5498">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="737" y="5863.9014">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="5880.2529">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="5896.6045">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="721" y="5912.9561">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="721" y="5929.3076">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="721" y="5945.6592">"currentState": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="278" x="815" y="5945.6592">WAITING_FOR_CONVERSION_ACCEPTANCE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1093" y="5945.6592">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="5962.0107">"getPartiesResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="737" y="5978.3623">&lt;Same as the previous responses&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="5994.7139">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="721" y="6011.0654">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="721" y="6027.417">"fxQuotesResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="737" y="6043.7686">"body": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="398" x="753" y="6060.1201">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="753" y="6076.4717">"conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="769" y="6092.8232">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="769" y="6109.1748">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="769" y="6125.5264">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="769" y="6141.8779">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="769" y="6158.2295">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="785" y="6174.5811">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="785" y="6190.9326">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="769" y="6207.2842">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="769" y="6223.6357">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="785" y="6239.9873">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="785" y="6256.3389">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="769" y="6272.6904">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="769" y="6289.042">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="68" x="769" y="6305.3936">"charges": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="785" y="6321.7451">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="801" y="6338.0967">"chargeType": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="801" y="6354.4482">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="817" y="6370.7998">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="817" y="6387.1514">"amount": "33"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="801" y="6403.5029">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="801" y="6419.8545">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="817" y="6436.2061">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="817" y="6452.5576">"amount": "6000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="801" y="6468.9092">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="785" y="6485.2607">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="769" y="6501.6123">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="753" y="6517.9639">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="6534.3154">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="737" y="6550.667">"headers": {}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="6567.0186">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="721" y="6583.3701">"fxQuotesResponseSource": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="6599.7217">}</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3244.5" x="0" y="6633.7539"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="6633.7539" y2="6633.7539"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="6636.7539" y2="6636.7539"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="131" x="1556.75" y="6622.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113" x="1562.75" y="6640.0732">Agreement Phase</text><polygon fill="#181818" points="1045,6691.6328,1055,6695.6328,1045,6699.6328,1049,6695.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="1051" y1="6695.6328" y2="6695.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="6682.6006">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="703" y="6674.4248">I want to get a quote from the FSP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="703" y="6690.7764">PUT /transfers</text><path d="M683,6708.6328 L683,6767.6328 L862,6767.6328 L862,6718.6328 L852,6708.6328 L683,6708.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M852,6708.6328 L852,6718.6328 L862,6718.6328 L852,6708.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="6727.1279">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="705" y="6743.4795">"acceptConversion": true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="6759.8311">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="6811.3906" y2="6807.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="6811.3906" y2="6815.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="1067" x2="1465" y1="6811.3906" y2="6811.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1074" y="6798.3584">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="298" x="1092" y="6790.1826">Please quote for a transfer which sends 48000 TZS.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="1092" y="6806.5342">POST /quotes</text><path d="M1072,6824.3906 L1072,7602.3906 L1471,7602.3906 L1471,6834.3906 L1461,6824.3906 L1072,6824.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1461,6824.3906 L1461,6834.3906 L1471,6834.3906 L1461,6824.3906 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="1078" y="6842.8857">POST /quotes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1078" y="6859.2373">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1094" y="6875.5889">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="1110" y="6891.9404">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="1110" y="6908.292">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="1110" y="6924.6436">"payee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1126" y="6940.9951">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1142" y="6957.3467">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1142" y="6973.6982">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="1142" y="6990.0498">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1126" y="7006.4014">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1126" y="7022.7529">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1126" y="7039.1045">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1142" y="7055.4561">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1142" y="7071.8076">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="1142" y="7088.1592">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1142" y="7104.5107">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1142" y="7120.8623">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="1142" y="7137.2139">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="1142" y="7153.5654">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1126" y="7169.917">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1126" y="7186.2686">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1110" y="7202.6201">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="1110" y="7218.9717">"payer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="1126" y="7235.3232">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="1142" y="7251.6748">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1142" y="7268.0264">"partyIdentifier": "26787654321",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="1142" y="7284.3779">"fspId": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1126" y="7300.7295">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="1126" y="7317.0811">"name": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="1126" y="7333.4326">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1142" y="7349.7842">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="1142" y="7366.1357">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="1142" y="7382.4873">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1142" y="7398.8389">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1142" y="7415.1904">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="1142" y="7431.542">"dateOfBirth": "1966-06-16"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1126" y="7447.8936">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1110" y="7464.2451">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1110" y="7480.5967">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="1110" y="7496.9482">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1126" y="7513.2998">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1126" y="7529.6514">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1110" y="7546.0029">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1110" y="7562.3545">"converter": "PAYER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="1110" y="7578.7061">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1094" y="7595.0576">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1078" y1="7630.2656" y2="7626.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1068" x2="1078" y1="7630.2656" y2="7634.2656"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1067" x2="1465" y1="7630.2656" y2="7630.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1084" y="7625.4092">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1102" y="7625.4092">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2585.5" x2="2575.5" y1="7660.6172" y2="7656.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="2585.5" x2="2575.5" y1="7660.6172" y2="7664.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2586.5" y1="7660.6172" y2="7660.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="7655.7607">45</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="1501" y="7655.7607">POST /quotes</text><line style="stroke:#181818;stroke-width:1.0;" x1="1472" x2="1482" y1="7690.9688" y2="7686.9688"/><line style="stroke:#181818;stroke-width:1.0;" x1="1472" x2="1482" y1="7690.9688" y2="7694.9688"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1471" x2="2586.5" y1="7690.9688" y2="7690.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1488" y="7686.1123">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1506" y="7686.1123">202 I'll get back to you</text><polygon fill="#181818" points="2958.5,7717.3203,2968.5,7721.3203,2958.5,7725.3203,2962.5,7721.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2597.5" x2="2964.5" y1="7721.3203" y2="7721.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2604.5" y="7716.4639">47</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="133" x="2622.5" y="7716.4639">POST /quoterequests</text><path d="M2602,7734.3203 L2602,8479.3203 L2985,8479.3203 L2985,7744.3203 L2975,7734.3203 L2602,7734.3203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2975,7734.3203 L2975,7744.3203 L2985,7744.3203 L2975,7734.3203 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2608" y="7752.8154">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="2624" y="7769.167">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="2624" y="7785.5186">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="2624" y="7801.8701">"payee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="2640" y="7818.2217">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="2656" y="7834.5732">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="2656" y="7850.9248">"partyIdentifier": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="2656" y="7867.2764">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2640" y="7883.6279">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2640" y="7899.9795">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2640" y="7916.3311">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2656" y="7932.6826">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2656" y="7949.0342">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2656" y="7965.3857">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2656" y="7981.7373">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2656" y="7998.0889">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="2656" y="8014.4404">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="2656" y="8030.792">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2640" y="8047.1436">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="2640" y="8063.4951">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2624" y="8079.8467">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="2624" y="8096.1982">"payer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="2640" y="8112.5498">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="2656" y="8128.9014">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="2656" y="8145.2529">"partyIdentifier": "26787654321",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="2656" y="8161.6045">"fspId": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2640" y="8177.9561">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="2640" y="8194.3076">"name": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2640" y="8210.6592">"personalInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2656" y="8227.0107">"complexName": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="2656" y="8243.3623">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="2656" y="8259.7139">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2656" y="8276.0654">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2656" y="8292.417">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157" x="2656" y="8308.7686">"dateOfBirth": "1966-06-16"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2640" y="8325.1201">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2624" y="8341.4717">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2624" y="8357.8232">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="2624" y="8374.1748">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2640" y="8390.5264">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2640" y="8406.8779">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2624" y="8423.2295">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="2624" y="8439.5811">"converter": "PAYER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2624" y="8455.9326">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2608" y="8472.2842">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2970.5" x2="3012.5" y1="8523.8438" y2="8523.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="3012.5" x2="3012.5" y1="8523.8438" y2="8536.8438"/><line style="stroke:#181818;stroke-width:1.0;" x1="2971.5" x2="3012.5" y1="8536.8438" y2="8536.8438"/><polygon fill="#181818" points="2981.5,8532.8438,2971.5,8536.8438,2981.5,8540.8438,2977.5,8536.8438" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2977.5" y="8510.8115">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="2995.5" y="8502.6357">OK, so I will charge 4000 TZS for this.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2995.5" y="8518.9873">Now I create terms of the transfer</text><polygon fill="#181818" points="2608.5,8563.1953,2598.5,8567.1953,2608.5,8571.1953,2604.5,8567.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2602.5" x2="2969.5" y1="8567.1953" y2="8567.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2614.5" y="8562.3389">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="2632.5" y="8562.3389">Here are the terms</text><path d="M2602,8580.1953 L2602,8769.1953 L2985,8769.1953 L2985,8590.1953 L2975,8580.1953 L2602,8580.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2975,8580.1953 L2975,8590.1953 L2985,8590.1953 L2975,8580.1953 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2608" y="8598.6904">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="2624" y="8615.042">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="2624" y="8631.3936">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="2624" y="8647.7451">"payeeFspFeeAmount": "4000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="2624" y="8664.0967">"payeeFspFeeAmountCurrency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2624" y="8680.4482">"payeeReceiveAmount": "44000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="2624" y="8696.7998">"payeeReceiveAmountCurrency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="2624" y="8713.1514">"transferAmount": "48000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="2624" y="8729.5029">"transferAmountCurrency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2624" y="8745.8545">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2608" y="8762.2061">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2597.5" x2="2639.5" y1="8797.4141" y2="8797.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="2639.5" x2="2639.5" y1="8797.4141" y2="8810.4141"/><line style="stroke:#181818;stroke-width:1.0;" x1="2598.5" x2="2639.5" y1="8810.4141" y2="8810.4141"/><polygon fill="#181818" points="2608.5,8806.4141,2598.5,8810.4141,2608.5,8814.4141,2604.5,8810.4141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2604.5" y="8792.5576">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="2622.5" y="8792.5576">Now I will sign the transaction object</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="8840.7656" y2="8836.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="8840.7656" y2="8844.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2586.5" y1="8840.7656" y2="8840.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1493" y="8835.9092">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1511" y="8835.9092">Here's the signed quote</text><path d="M2020,8853.7656 L2020,9222.7656 L2582,9222.7656 L2582,8863.7656 L2572,8853.7656 L2020,8853.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2572,8853.7656 L2572,8863.7656 L2582,8863.7656 L2572,8853.7656 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="318" x="2026" y="8872.2607">put /quotes/382987a8-75ce-4037-b500-c475e08c1727</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2026" y="8888.6123">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2026" y="8904.9639">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="2042" y="8921.3154">"transferAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2058" y="8937.667">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2058" y="8954.0186">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2042" y="8970.3701">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="2042" y="8986.7217">"payeeReceiveAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2058" y="9003.0732">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2058" y="9019.4248">"amount": "44000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2042" y="9035.7764">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2042" y="9052.1279">"payeeFspFee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2058" y="9068.4795">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="2058" y="9084.8311">"amount": "4000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2042" y="9101.1826">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="2042" y="9117.5342">"expiration": "$payeeQuoteExpiration",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="2042" y="9133.8857">"ilpPacket": "</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="509" x="2058" y="9150.2373">&lt;This is encoded transaction object. It contains data from quote request and response.&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="2042" y="9166.5889">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390" x="2042" y="9182.9404">"condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2026" y="9199.292">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2026" y="9215.6436">Â </text><line style="stroke:#181818;stroke-width:1.0;" x1="2590.5" x2="2580.5" y1="9250.8516" y2="9246.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="2590.5" x2="2580.5" y1="9250.8516" y2="9254.8516"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1476" x2="2591.5" y1="9250.8516" y2="9250.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="9245.9951">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1501" y="9245.9951">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1083" y1="9297.5547" y2="9293.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1083" y1="9297.5547" y2="9301.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1072" x2="1465" y1="9297.5547" y2="9297.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1089" y="9284.5225">53</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1107" y="9276.3467">Here's the signed quote</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="324" x="1107" y="9292.6982">PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727</text><line style="stroke:#181818;stroke-width:1.0;" x1="1469" x2="1459" y1="9327.9063" y2="9323.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="1469" x2="1459" y1="9327.9063" y2="9331.9063"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1072" x2="1470" y1="9327.9063" y2="9327.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="9323.0498">54</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1097" y="9323.0498">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1072" x2="1114" y1="9358.2578" y2="9358.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="1114" x2="1114" y1="9358.2578" y2="9371.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1114" y1="9371.2578" y2="9371.2578"/><polygon fill="#181818" points="1083,9367.2578,1073,9371.2578,1083,9375.2578,1079,9371.2578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="9353.4014">55</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356" x="1097" y="9353.4014">OK, I can see that there are going to be 4000 TZS in charges.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3244.5" x="0" y="9400.4336"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="9400.4336" y2="9400.4336"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="9403.4336" y2="9403.4336"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="150" x="1547.25" y="9389.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="1553.25" y="9406.7529">Sender Confirmation</text><polygon fill="#181818" points="689,9458.3125,679,9462.3125,689,9466.3125,685,9462.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="683" x2="1061" y1="9462.3125" y2="9462.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="695" y="9449.2803">56</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="713" y="9441.1045">Here's the quote for the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="713" y="9457.4561">It expires at 2021-08-25T14:17:09.663+01:00</text><path d="M683,9475.3125 L683,10531.3125 L1293,10531.3125 L1293,9485.3125 L1283,9475.3125 L683,9475.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1283,9475.3125 L1283,9485.3125 L1293,9485.3125 L1283,9475.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="9493.8076">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="705" y="9510.1592">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="721" y="9526.5107">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="721" y="9542.8623">"from": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="9559.2139">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="737" y="9575.5654">"displayName": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="737" y="9591.917">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="737" y="9608.2686">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="737" y="9624.6201">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="737" y="9640.9717">"fspId": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="737" y="9657.3232">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="737" y="9673.6748">"idValue": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="9690.0264">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="721" y="9706.3779">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="737" y="9722.7295">"type": "CONSUMER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="737" y="9739.0811">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="737" y="9755.4326">"idValue": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="737" y="9771.7842">"displayName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="737" y="9788.1357">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="737" y="9804.4873">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="737" y="9820.8389">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="9837.1904">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="9853.542">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="737" y="9869.8936">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="737" y="9886.2451">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="737" y="9902.5967">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="9918.9482">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="9935.2998">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="721" y="9951.6514">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="721" y="9968.0029">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="721" y="9984.3545">"currentState": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="237" x="815" y="9984.3545">WAITING_FOR_QUOTE_ACCEPTANCE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="1052" y="9984.3545">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="10000.7061">"getPartiesResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="737" y="10017.0576">&lt;Same as the previous responses&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="10033.4092">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="721" y="10049.7607">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="721" y="10066.1123">"fxQuotesResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="737" y="10082.4639">&lt;Same as the previous responses&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="10098.8154">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="721" y="10115.167">"fxQuotesResponseSource": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="721" y="10131.5186">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="721" y="10147.8701">"quoteResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="737" y="10164.2217">"body": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="753" y="10180.5732">"transferAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="769" y="10196.9248">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="769" y="10213.2764">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="10229.6279">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="753" y="10245.9795">"payeeReceiveAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="769" y="10262.3311">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="769" y="10278.6826">"amount": "44000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="10295.0342">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="753" y="10311.3857">"payeeFspFee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="769" y="10327.7373">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="769" y="10344.0889">"amount": "4000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="753" y="10360.4404">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="223" x="753" y="10376.792">"expiration": "$payeeQuoteExpiration",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="753" y="10393.1436">"ilpPacket": "</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="509" x="769" y="10409.4951">&lt;This is encoded transaction object. It contains data from quote request and response.&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="753" y="10425.8467">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="390" x="753" y="10442.1982">"condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="10458.5498">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="737" y="10474.9014">"headers": {}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="10491.2529">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="721" y="10507.6045">"quoteResponseSource": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="10523.9561">}</text><polygon fill="#181818" points="380,10555.1641,370,10559.1641,380,10563.1641,376,10559.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374" x2="677" y1="10559.1641" y2="10559.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="386" y="10554.3076">57</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="404" y="10554.3076">Here's the quote</text><polygon fill="#181818" points="63,10650.9219,53,10654.9219,63,10658.9219,59,10654.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="368" y1="10654.9219" y2="10654.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="69" y="10617.3623">58</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227" x="87" y="10584.6592">Hi, $senderName: I can do the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="87" y="10601.0107">It'll cost you 55 BWP(10000 TZS) in fees</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="87" y="10617.3623">and Yaro will receive</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="87" y="10633.7139">44000 TZS.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="87" y="10650.0654">Let me know if you want to go ahead</text><polygon fill="#181818" points="357,10681.2734,367,10685.2734,357,10689.2734,361,10685.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="52" x2="363" y1="10685.2734" y2="10685.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="59" y="10680.417">59</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="77" y="10680.417">Great! Yes please, go ahead</text><polygon fill="#181818" points="666,10711.625,676,10715.625,666,10719.625,670,10715.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="369" x2="672" y1="10715.625" y2="10715.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="376" y="10710.7686">60</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="394" y="10710.7686">Payer has accepted the terms please proceed</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="3244.5" x="0" y="10744.8008"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="10744.8008" y2="10744.8008"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="3244.5" y1="10747.8008" y2="10747.8008"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="113" x="1565.75" y="10733.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="95" x="1571.75" y="10751.1201">Transfer Phase</text><polygon fill="#181818" points="1050,10802.6797,1060,10806.6797,1050,10810.6797,1054,10806.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="678" x2="1056" y1="10806.6797" y2="10806.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="685" y="10793.6475">61</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="703" y="10785.4717">Proceed with the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="703" y="10801.8232">PUT /transfers</text><path d="M683,10819.6797 L683,10878.6797 L834,10878.6797 L834,10829.6797 L824,10819.6797 L683,10819.6797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M824,10819.6797 L824,10829.6797 L834,10829.6797 L824,10819.6797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="10838.1748">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="705" y="10854.5264">"acceptQuote": true</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="10870.8779">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1072" x2="1114" y1="10906.0859" y2="10906.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1114" x2="1114" y1="10906.0859" y2="10919.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1114" y1="10919.0859" y2="10919.0859"/><polygon fill="#181818" points="1083,10915.0859,1073,10919.0859,1083,10923.0859,1079,10919.0859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="10901.2295">62</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="1097" y="10901.2295">First, activate the conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="10949.4375" y2="10945.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1464" x2="1454" y1="10949.4375" y2="10953.4375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1072" x2="1465" y1="10949.4375" y2="10949.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="10944.5811">63</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1097" y="10944.5811">Please confirm your part of the transfer</text><path d="M1077,10962.4375 L1077,11249.4375 L1509,11249.4375 L1509,10972.4375 L1499,10962.4375 L1077,10962.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1499,10962.4375 L1499,10972.4375 L1509,10972.4375 L1499,10962.4375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1083" y="10980.9326">POST /fxTransfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1083" y="10997.2842">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="1099" y="11013.6357">"commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="1099" y="11029.9873">"determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1099" y="11046.3389">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="1099" y="11062.6904">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1099" y="11079.042">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1099" y="11095.3936">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1115" y="11111.7451">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1115" y="11128.0967">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1099" y="11144.4482">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="1099" y="11160.7998">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="1115" y="11177.1514">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1115" y="11193.5029">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="1099" y="11209.8545">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="1099" y="11226.2061">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1083" y="11242.5576">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1083" y1="11277.7656" y2="11273.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1083" y1="11277.7656" y2="11281.7656"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1072" x2="1465" y1="11277.7656" y2="11277.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1089" y="11272.9092">64</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1107" y="11272.9092">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="11308.1172" y2="11308.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="11308.1172" y2="11321.1172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="11321.1172" y2="11321.1172"/><polygon fill="#181818" points="1487,11317.1172,1477,11321.1172,1487,11325.1172,1483,11321.1172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="11303.2607">65</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="1501" y="11303.2607">OK, so this is an FX confirmation.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="11367.8203" y2="11367.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="11367.8203" y2="11380.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="11380.8203" y2="11380.8203"/><polygon fill="#181818" points="1487,11376.8203,1477,11380.8203,1487,11384.8203,1483,11380.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="11354.7881">66</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="297" x="1501" y="11346.6123">Is there any transfer with determiningTransactionId?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="80" x="1501" y="11362.9639">No, it does'nt.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="11411.1719" y2="11411.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="11411.1719" y2="11424.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="11424.1719" y2="11424.1719"/><polygon fill="#181818" points="1487,11420.1719,1477,11424.1719,1487,11428.1719,1483,11424.1719" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="11406.3154">67</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1501" y="11406.3154">Liquidity check and reserve on Payer DFSP's account</text><path d="M1334,11437.1719 L1334,11496.1719 L1607,11496.1719 L1607,11447.1719 L1597,11437.1719 L1334,11437.1719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1597,11437.1719 L1597,11447.1719 L1607,11447.1719 L1597,11437.1719 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1340" y="11455.667">Reservations:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1340" y="11472.0186">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="252" x="1340" y="11488.3701">PayerFSP has a reservation of 300 BWP</text><line style="stroke:#181818;stroke-width:1.0;" x1="2144" x2="2134" y1="11539.9297" y2="11535.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="2144" x2="2134" y1="11539.9297" y2="11543.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2145" y1="11539.9297" y2="11539.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="11526.8975">68</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="1501" y="11518.7217">Please confirm the currency conversion part of the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1505" y="11535.0732">POST /fxTransfers</text><line style="stroke:#181818;stroke-width:1.0;" x1="1472" x2="1482" y1="11570.2813" y2="11566.2813"/><line style="stroke:#181818;stroke-width:1.0;" x1="1472" x2="1482" y1="11570.2813" y2="11574.2813"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1471" x2="2145" y1="11570.2813" y2="11570.2813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1488" y="11565.4248">69</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1506" y="11565.4248">202 I'll get back to you</text><polygon fill="#181818" points="2473,11596.6328,2483,11600.6328,2473,11604.6328,2477,11600.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2156" x2="2479" y1="11600.6328" y2="11600.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2163" y="11595.7764">70</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="2181" y="11595.7764">Reserve funds for FX conversion</text><path d="M2161,11613.6328 L2161,11917.6328 L2593,11917.6328 L2593,11623.6328 L2583,11613.6328 L2161,11613.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2583,11613.6328 L2583,11623.6328 L2593,11623.6328 L2583,11613.6328 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="2167" y="11632.1279">POST /fxTransfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="11648.4795">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2183" y="11664.8311">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="369" x="2183" y="11681.1826">"commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="395" x="2183" y="11697.5342">"determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2183" y="11713.8857">"initiatingFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="2183" y="11730.2373">"counterPartyFsp": "FDH_FX",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2183" y="11746.5889">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2183" y="11762.9404">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="2199" y="11779.292">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="2199" y="11795.6436">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2183" y="11811.9951">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="2183" y="11828.3467">"targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2199" y="11844.6982">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2199" y="11861.0498">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2183" y="11877.4014">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="2183" y="11893.7529">"condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="11910.1045">}</text><polygon fill="#181818" points="2167,11941.3125,2157,11945.3125,2167,11949.3125,2163,11945.3125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2161" x2="2484" y1="11945.3125" y2="11945.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2173" y="11940.4561">71</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="2191" y="11940.4561">Success</text><path d="M2161,11958.3125 L2161,12049.3125 L2532,12049.3125 L2532,11968.3125 L2522,11958.3125 L2161,11958.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2522,11958.3125 L2522,11968.3125 L2532,11968.3125 L2522,11958.3125 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="11976.8076">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2175" y="11993.1592">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="2175" y="12009.5107">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2175" y="12025.8623">"conversionState": "RESERVED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="12042.2139">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="12077.4219" y2="12073.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="12077.4219" y2="12081.4219"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2145" y1="12077.4219" y2="12077.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1493" y="12072.5654">72</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1511" y="12072.5654">Confirmed. Here's the fulfilment</text><path d="M1601,12090.4219 L1601,12198.4219 L2141,12198.4219 L2141,12100.4219 L2131,12090.4219 L1601,12090.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2131,12090.4219 L2131,12100.4219 L2141,12100.4219 L2131,12090.4219 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="1607" y="12108.917">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1607" y="12125.2686">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="511" x="1615" y="12141.6201">"fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1615" y="12157.9717">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="1615" y="12174.3232">"conversionState": "RESERVED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1607" y="12190.6748">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2149" x2="2139" y1="12225.8828" y2="12221.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="2149" x2="2139" y1="12225.8828" y2="12229.8828"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1476" x2="2150" y1="12225.8828" y2="12225.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="12221.0264">73</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1501" y="12221.0264">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="12256.2344" y2="12256.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="12256.2344" y2="12269.2344"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="12269.2344" y2="12269.2344"/><polygon fill="#181818" points="1487,12265.2344,1477,12269.2344,1487,12273.2344,1483,12269.2344" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="12251.3779">74</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="1501" y="12251.3779">Check fulfilment matches and cancel if not.</text><path d="M1012,12284.2344 L1073,12284.2344 L1073,12292.5859 L1063,12302.5859 L1012,12302.5859 L1012,12284.2344 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="537.9219" style="stroke:#000000;stroke-width:1.5;" width="1540.5" x="1012" y="12284.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="1027" y="12298.7295">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="1088" y="12297.6533">[Conversion failed]</text><polygon fill="#181818" points="2134,12320.9375,2144,12324.9375,2134,12328.9375,2138,12324.9375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2140" y1="12324.9375" y2="12324.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="12320.0811">75</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1501" y="12320.0811">Sorry. Conversion failed</text><path d="M1955,12337.9375 L1955,12428.9375 L2346,12428.9375 L2346,12347.9375 L2336,12337.9375 L1955,12337.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2336,12337.9375 L2336,12347.9375 L2346,12347.9375 L2336,12337.9375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="370" x="1961" y="12356.4326">PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1961" y="12372.7842">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1969" y="12389.1357">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="1969" y="12405.4873">"conversionState": "ABORTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1961" y="12421.8389">}</text><polygon fill="#181818" points="1487,12453.0469,1477,12457.0469,1487,12461.0469,1483,12457.0469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1481" x2="2145" y1="12457.0469" y2="12457.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1493" y="12452.1904">76</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1511" y="12452.1904">Acknowledged</text><polygon fill="#181818" points="2473,12483.3984,2483,12487.3984,2473,12491.3984,2477,12487.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2156" x2="2479" y1="12487.3984" y2="12487.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2163" y="12482.542">77</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="2181" y="12482.542">Remove any reservations or obligations</text><path d="M2161,12500.3984 L2161,12591.3984 L2534,12591.3984 L2534,12510.3984 L2524,12500.3984 L2161,12500.3984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2524,12500.3984 L2524,12510.3984 L2534,12510.3984 L2524,12500.3984 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="2167" y="12518.8936">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="12535.2451">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="2175" y="12551.5967">"completedTimestamp": "2021-08-25T14:17:08.175+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="2175" y="12567.9482">"conversionState": "ABORTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2167" y="12584.2998">}</text><polygon fill="#181818" points="2162,12615.5078,2152,12619.5078,2162,12623.5078,2158,12619.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2156" x2="2484" y1="12619.5078" y2="12619.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2168" y="12614.6514">78</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="17" x="2186" y="12614.6514">Ok</text><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1083" y1="12649.8594" y2="12645.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1083" y1="12649.8594" y2="12653.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1072" x2="1465" y1="12649.8594" y2="12649.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1089" y="12645.0029">79</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1107" y="12645.0029">Sorry. Conversion failed</text><path d="M1267,12662.8594 L1267,12753.8594 L1675,12753.8594 L1675,12672.8594 L1665,12662.8594 L1267,12662.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1665,12662.8594 L1665,12672.8594 L1675,12672.8594 L1665,12662.8594 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="387" x="1273" y="12681.3545">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc/error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1273" y="12697.7061">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1289" y="12714.0576">"errorCode": "9999"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1289" y="12730.4092">, "errorDescription": "Whatever the error was"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1273" y="12746.7607">}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1012" x2="2552.5" y1="12760.6172" y2="12760.6172"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136" x="1017" y="12772.0361">[Conversion succeeded]</text><polygon fill="#181818" points="1083,12810.1563,1073,12814.1563,1083,12818.1563,1079,12814.1563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1077" x2="1465" y1="12814.1563" y2="12814.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1089" y="12801.124">80</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="1107" y="12792.9482">Conversion succeeded subject to transfer success</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="1107" y="12809.2998">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><polygon fill="#181818" points="1459,12847.5078,1469,12851.5078,1459,12855.5078,1463,12851.5078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1072" x2="1465" y1="12851.5078" y2="12851.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="12846.6514">81</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1097" y="12846.6514">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1072" x2="1114" y1="12898.2109" y2="12898.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1114" x2="1114" y1="12898.2109" y2="12911.2109"/><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1114" y1="12911.2109" y2="12911.2109"/><polygon fill="#181818" points="1083,12907.2109,1073,12911.2109,1083,12915.2109,1079,12911.2109" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="12885.1787">82</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="1097" y="12877.0029">OK, so that's all right</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="1097" y="12893.3545">Now I can send the transfer itself</text><polygon fill="#181818" points="1454,12937.5625,1464,12941.5625,1454,12945.5625,1458,12941.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1072" x2="1460" y1="12941.5625" y2="12941.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1079" y="12936.7061">83</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1097" y="12936.7061">Please do the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1228" y="12936.7061">POST /transfers</text><path d="M846,12954.5625 L846,13176.5625 L1277,13176.5625 L1277,12964.5625 L1267,12954.5625 L846,12954.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1267,12954.5625 L1267,12964.5625 L1277,12964.5625 L1267,12954.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="852" y="12973.0576">POST /transfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="852" y="12989.4092">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="868" y="13005.7607">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152" x="868" y="13022.1123">"payeeFsp": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="868" y="13038.4639">"payerFsp": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="868" y="13054.8154">"amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="884" y="13071.167">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="884" y="13087.5186">"amount": "48000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="868" y="13103.8701">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="868" y="13120.2217">"ilpPacket": "&lt;Encoded transaction object&gt;",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="868" y="13136.5732">"condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="266" x="868" y="13152.9248">"expiration": "2016-05-24T08:38:08.699-04:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="852" y="13169.2764">}</text><polygon fill="#181818" points="1078,13200.4844,1068,13204.4844,1078,13208.4844,1074,13204.4844" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1072" x2="1465" y1="13204.4844" y2="13204.4844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1084" y="13199.6279">84</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1102" y="13199.6279">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="13234.8359" y2="13234.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="13234.8359" y2="13247.8359"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="13247.8359" y2="13247.8359"/><polygon fill="#181818" points="1487,13243.8359,1477,13247.8359,1487,13251.8359,1483,13247.8359" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="13229.9795">85</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="1501" y="13229.9795">Is there a dependent transfer? Yes</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="13294.5391" y2="13294.5391"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="13294.5391" y2="13307.5391"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="13307.5391" y2="13307.5391"/><polygon fill="#181818" points="1487,13303.5391,1477,13307.5391,1487,13311.5391,1483,13307.5391" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="13281.5068">86</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="1501" y="13273.3311">Perform liquidity check and reserve funds</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1501" y="13289.6826">against creditor party to dependent transfer</text><path d="M1337,13320.5391 L1337,13395.5391 L1604,13395.5391 L1604,13330.5391 L1594,13320.5391 L1337,13320.5391 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1594,13320.5391 L1594,13330.5391 L1604,13330.5391 L1594,13320.5391 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1343" y="13339.0342">Reservations:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1343" y="13355.3857">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="1343" y="13371.7373">PayerFSP has a reservation of 300 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="246" x="1343" y="13388.0889">FDH_FX has a reservation of 48000 TZS</text><polygon fill="#181818" points="2575.5,13435.6484,2585.5,13439.6484,2575.5,13443.6484,2579.5,13439.6484" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2581.5" y1="13439.6484" y2="13439.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="13426.6162">87</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1501" y="13418.4404">Please do the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1501" y="13434.792">POST /transfers</text><polygon fill="#181818" points="1482,13466,1472,13470,1482,13474,1478,13470" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1476" x2="2586.5" y1="13470" y2="13470"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1488" y="13465.1436">88</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1506" y="13465.1436">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2597.5" x2="2639.5" y1="13533.0547" y2="13533.0547"/><line style="stroke:#181818;stroke-width:1.0;" x1="2639.5" x2="2639.5" y1="13533.0547" y2="13546.0547"/><line style="stroke:#181818;stroke-width:1.0;" x1="2598.5" x2="2639.5" y1="13546.0547" y2="13546.0547"/><polygon fill="#181818" points="2608.5,13542.0547,2598.5,13546.0547,2608.5,13550.0547,2604.5,13546.0547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2604.5" y="13511.8467">89</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="2622.5" y="13495.4951">Let me check that the terms of the dependent transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="2622.5" y="13511.8467">are the same as the ones I agreed to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="2622.5" y="13528.1982">and that the fulfilment and condition match</text><polygon fill="#181818" points="2958.5,13572.4063,2968.5,13576.4063,2958.5,13580.4063,2962.5,13576.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2597.5" x2="2964.5" y1="13576.4063" y2="13576.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2604.5" y="13571.5498">90</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="2622.5" y="13571.5498">Please credit Yaro's account with 44000 TZS</text><path d="M2602,13589.4063 L2602,14302.4063 L2985,14302.4063 L2985,13599.4063 L2975,13589.4063 L2602,13589.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2975,13589.4063 L2975,13599.4063 L2985,13599.4063 L2975,13589.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="2608" y="13607.9014">POST /transfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2608" y="13624.2529">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="2616" y="13640.6045">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="2616" y="13656.9561">"amount": "48000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="2616" y="13673.3076">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="2616" y="13689.6592">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="2616" y="13706.0107">"from": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="2624" y="13722.3623">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="2624" y="13738.7139">"displayName": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="2624" y="13755.0654">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="2624" y="13771.417">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2624" y="13787.7686">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="2624" y="13804.1201">"fspId": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="2624" y="13820.4717">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="2624" y="13836.8232">"idValue": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2616" y="13853.1748">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="2616" y="13869.5264">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="2624" y="13885.8779">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="2624" y="13902.2295">"displayName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2624" y="13918.5811">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="2624" y="13934.9326">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="2624" y="13951.2842">"lastName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="2624" y="13967.6357">"fspId": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="2624" y="13983.9873">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="2624" y="14000.3389">"idValue": "2551234567890"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2616" y="14016.6904">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="2616" y="14033.042">"note": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="2616" y="14049.3936">"quote": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="2624" y="14065.7451">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="2624" y="14082.0967">"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="2624" y="14098.4482">"payeeFspFeeAmount": "4000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231" x="2624" y="14114.7998">"payeeFspFeeAmountCurrency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="2624" y="14131.1514">"payeeReceiveAmount": "44000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="232" x="2624" y="14147.5029">"payeeReceiveAmountCurrency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="2624" y="14163.8545">"transferAmount": "48000",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="2624" y="14180.2061">"transferAmountCurrency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270" x="2624" y="14196.5576">"expiration": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2616" y="14212.9092">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="2616" y="14229.2607">"transactionType": "TRANSFER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="2616" y="14245.6123">"ilpPacket": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="2624" y="14261.9639">"data": &lt;decoded ilpPacket&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2616" y="14278.3154">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2608" y="14294.667">}</text><polygon fill="#181818" points="2608.5,14325.875,2598.5,14329.875,2608.5,14333.875,2604.5,14329.875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2602.5" x2="2969.5" y1="14329.875" y2="14329.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2614.5" y="14325.0186">91</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="2632.5" y="14325.0186">Done</text><path d="M2602,14342.875 L2602,14466.875 L3046,14466.875 L3046,14352.875 L3036,14342.875 L2602,14342.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3036,14342.875 L3036,14352.875 L3046,14352.875 L3036,14342.875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2608" y="14361.3701">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="2624" y="14377.7217">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="2624" y="14394.0732">"completedTimestamp": "2021-08-25T14:17:08.227+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="2624" y="14410.4248">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="2608" y="14426.7764">Â Â Â Â </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="349" x="2624" y="14426.7764">Note: fulfilment is optional: SDK will create if not found</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2624" y="14443.1279">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2608" y="14459.4795">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="14494.6875" y2="14490.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="14494.6875" y2="14498.6875"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2586.5" y1="14494.6875" y2="14494.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1493" y="14489.8311">92</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="1511" y="14489.8311">Transfer is confirmed, here's the fulfilment</text><path d="M2370,14507.6875 L2370,14615.6875 L2814,14615.6875 L2814,14517.6875 L2804,14507.6875 L2370,14507.6875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2804,14507.6875 L2804,14517.6875 L2814,14517.6875 L2804,14507.6875 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="336" x="2376" y="14526.1826">PUT /transfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2376" y="14542.5342">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="2392" y="14558.8857">"completedTimestamp": "2021-08-25T14:17:08.227+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="2392" y="14575.2373">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="2392" y="14591.5889">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2376" y="14607.9404">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2590.5" x2="2580.5" y1="14643.1484" y2="14639.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="2590.5" x2="2580.5" y1="14643.1484" y2="14647.1484"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1476" x2="2591.5" y1="14643.1484" y2="14643.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="14638.292">93</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1501" y="14638.292">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="14689.8516" y2="14689.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="14689.8516" y2="14702.8516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="14702.8516" y2="14702.8516"/><polygon fill="#181818" points="1487,14698.8516,1477,14702.8516,1487,14706.8516,1483,14702.8516" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="14676.8193">94</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1501" y="14668.6436">Is there a dependent transfer?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1501" y="14684.9951">Yes, there is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="14749.5547" y2="14749.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="14749.5547" y2="14762.5547"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="14762.5547" y2="14762.5547"/><polygon fill="#181818" points="1487,14758.5547,1477,14762.5547,1487,14766.5547,1483,14762.5547" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="14736.5225">95</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="341" x="1501" y="14728.3467">Is this dependency against the debtor party to the transfer?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="1501" y="14744.6982">Yes, it is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="14792.9063" y2="14792.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="14792.9063" y2="14805.9063"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="14805.9063" y2="14805.9063"/><polygon fill="#181818" points="1487,14801.9063,1477,14805.9063,1487,14809.9063,1483,14805.9063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="14788.0498">96</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="520" x="1501" y="14788.0498">Create an obligation from the debtor party to the party named in the dependency (the FXP)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="14852.6094" y2="14852.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="14852.6094" y2="14865.6094"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="14865.6094" y2="14865.6094"/><polygon fill="#181818" points="1487,14861.6094,1477,14865.6094,1487,14869.6094,1483,14865.6094" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="14839.5771">97</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420" x="1501" y="14831.4014">Is the transfer denominated in the currency of the payee receive amount?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="1501" y="14847.7529">Yes, it is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="1518" y1="14912.3125" y2="14912.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1518" x2="1518" y1="14912.3125" y2="14925.3125"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1518" y1="14925.3125" y2="14925.3125"/><polygon fill="#181818" points="1487,14921.3125,1477,14925.3125,1487,14929.3125,1483,14925.3125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="14899.2803">98</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="1501" y="14891.1045">Create an obligation from the party named in the dependency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1501" y="14907.4561">to the creditor party for the transfer</text><line style="stroke:#181818;stroke-width:1.0;" x1="2144" x2="2134" y1="14972.0156" y2="14968.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="2144" x2="2134" y1="14972.0156" y2="14976.0156"/><line style="stroke:#181818;stroke-width:1.0;" x1="1476" x2="2145" y1="14972.0156" y2="14972.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1483" y="14958.9834">99</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1501" y="14950.8076">The transfer succeeded.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1501" y="14967.1592">You can clear it in your ledgers</text><path d="M1249,14985.0156 L1249,15093.0156 L1693,15093.0156 L1693,14995.0156 L1683,14985.0156 L1249,14985.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1683,14985.0156 L1683,14995.0156 L1693,14995.0156 L1683,14985.0156 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="370" x="1255" y="15003.5107">PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1255" y="15019.8623">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="1271" y="15036.2139">"completedTimestamp": "2021-08-25T14:17:08.227+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="1271" y="15052.5654">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="1271" y="15068.917">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1255" y="15085.2686">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2156" x2="2198" y1="15120.4766" y2="15120.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="2198" x2="2198" y1="15120.4766" y2="15133.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="2157" x2="2198" y1="15133.4766" y2="15133.4766"/><polygon fill="#181818" points="2167,15129.4766,2157,15133.4766,2167,15137.4766,2163,15133.4766" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2163" y="15115.6201">100</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="2188" y="15115.6201">Let's just check: does this match the stuff I sent?</text><line style="stroke:#181818;stroke-width:1.0;" x1="2156" x2="2198" y1="15163.8281" y2="15163.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="2198" x2="2198" y1="15163.8281" y2="15176.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="2157" x2="2198" y1="15176.8281" y2="15176.8281"/><polygon fill="#181818" points="2167,15172.8281,2157,15176.8281,2167,15180.8281,2163,15176.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="2163" y="15158.9717">101</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="2188" y="15158.9717">It does. Great. I'll clear the conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="15207.1797" y2="15203.1797"/><line style="stroke:#181818;stroke-width:1.0;" x1="1477" x2="1487" y1="15207.1797" y2="15211.1797"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1476" x2="2150" y1="15207.1797" y2="15207.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1493" y="15202.3232">102</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1518" y="15202.3232">200 Gotcha</text><path d="M1353,15220.1797 L1353,15311.1797 L1589,15311.1797 L1589,15230.1797 L1579,15220.1797 L1353,15220.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1579,15220.1797 L1579,15230.1797 L1589,15230.1797 L1579,15220.1797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1359" y="15238.6748">Ledger positions:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="1359" y="15255.0264">PayerFSP has a debit of 300 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="1359" y="15271.3779">FDH_FX has a credit of 300 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1359" y="15287.7295">FDH_FX has a debit of 48000 TZS</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="1359" y="15304.0811">PayeeFSP has a credit of 48000 TZS</text><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1083" y1="15355.6406" y2="15351.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1073" x2="1083" y1="15355.6406" y2="15359.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1072" x2="1465" y1="15355.6406" y2="15355.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1089" y="15342.6084">103</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="1114" y="15334.4326">Transfer is complete</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="336" x="1114" y="15350.7842">PUT /transfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><polygon fill="#181818" points="1459,15381.9922,1469,15385.9922,1459,15389.9922,1463,15385.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1072" x2="1465" y1="15385.9922" y2="15385.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="1079" y="15381.1357">104</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1104" y="15381.1357">200 Gotcha</text><polygon fill="#181818" points="689,15412.3438,679,15416.3438,689,15420.3438,685,15416.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="683" x2="1061" y1="15416.3438" y2="15416.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="695" y="15411.4873">105</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="720" y="15411.4873">Transfer was completed successfully</text><path d="M683,15429.3438 L683,16305.3438 L1175,16305.3438 L1175,15439.3438 L1165,15429.3438 L683,15429.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1165,15429.3438 L1165,15439.3438 L1175,15439.3438 L1165,15429.3438 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="15447.8389">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="325" x="705" y="15464.1904">"transferId": "d9ce59d4-3598-4396-8630-581bb0551451",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="721" y="15480.542">"homeTransactionId": "string",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47" x="721" y="15496.8936">"from": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="15513.2451">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="737" y="15529.5967">"displayName": "$senderName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193" x="737" y="15545.9482">"firstName": "$senderFirstName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="737" y="15562.2998">"middleName": "$senderMiddleName",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="737" y="15578.6514">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="737" y="15595.0029">"fspId": "PayerFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="737" y="15611.3545">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148" x="737" y="15627.7061">"idValue": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="15644.0576">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="721" y="15660.4092">"to": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="737" y="15676.7607">"type": "CONSUMER",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="737" y="15693.1123">"idType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="737" y="15709.4639">"idValue": "2551234567890",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="737" y="15725.8154">"displayName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="737" y="15742.167">"firstName": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="737" y="15758.5186">"middleName": "",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="737" y="15774.8701">"lastName": ""</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="737" y="15791.2217">"dateOfBirth": "1966-06-16",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="689" y="15807.5732">Â </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="737" y="15823.9248">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="737" y="15840.2764">"supportedCurrencies": [ "TZS" ]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="737" y="15856.6279">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="15872.9795">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="15889.3311">"amountType": "SEND",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="721" y="15905.6826">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="721" y="15922.0342">"amount": "300"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="721" y="15938.3857">"currentState": "</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="80" x="815" y="15938.3857">COMPLETED</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="9" x="895" y="15938.3857">",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="721" y="15954.7373">"getPartiesResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="737" y="15971.0889">&lt;Same as the previous responses&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="15987.4404">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="379" x="721" y="16003.792">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="721" y="16020.1436">"fxQuotesResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="737" y="16036.4951">&lt;Same as the previous responses&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="16052.8467">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="721" y="16069.1982">"fxQuotesResponseSource": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="314" x="721" y="16085.5498">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="721" y="16101.9014">"quoteResponse": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="205" x="737" y="16118.2529">&lt;Same as the previous responses&gt;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="16134.6045">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="721" y="16150.9561">"quoteResponseSource": "PayeeFSP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="721" y="16167.3076">"fulfil": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="737" y="16183.6592">"body": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="342" x="753" y="16200.0107">"completedTimestamp": "2021-08-25T14:17:08.227+01:00",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="407" x="753" y="16216.3623">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="753" y="16232.7139">"transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="737" y="16249.0654">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="737" y="16265.417">"headers": {}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="721" y="16281.7686">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="705" y="16298.1201">}</text><polygon fill="#181818" points="380,16329.3281,370,16333.3281,380,16337.3281,376,16333.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="374" x2="677" y1="16333.3281" y2="16333.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="386" y="16328.4717">106</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="411" y="16328.4717">Transfer was completed successfully</text><line style="stroke:#181818;stroke-width:1.0;" x1="369" x2="411" y1="16363.6797" y2="16363.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="411" x2="411" y1="16363.6797" y2="16376.6797"/><line style="stroke:#181818;stroke-width:1.0;" x1="370" x2="411" y1="16376.6797" y2="16376.6797"/><polygon fill="#181818" points="380,16372.6797,370,16376.6797,380,16380.6797,376,16376.6797" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="376" y="16358.8232">107</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="401" y="16358.8232">Commit the funds in my ledgers</text><polygon fill="#181818" points="63,16403.0313,53,16407.0313,63,16411.0313,59,16407.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="57" x2="368" y1="16407.0313" y2="16407.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="69" y="16402.1748">108</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="94" y="16402.1748">Your transfer is successful</text><!--MD5=[bd68c9982064f5ab5d1e839873384f25]
@startuml

!$simplified = false
!$shortCutSingleFXP = false
!$hideSwitchDetail = false
!$advancedCoreConnectorFlow = false
!$senderLastName = ""
!$senderDOB = "1966-06-16"
!$receiverName = "Yaro"
!$receiverFirstName = "Yaro"
!$receiverMiddleName = ""
!$receiverLastName = ""
!$receiverDOB = "1966-06-16"
!$payerCurrency = "BWP"
!$payeeCurrency = "TZS"
!$payerFSPID = "PayerFSP"
!$payeeFSPID = "PayeeFSP"
!$fxpID = "FDH_FX"
!$payerMSISDN = "26787654321"
!$payeeMSISDN = "2551234567890"
!$payeeReceiveAmount = "44000"
!$payerSendAmount = "300"
!$payeeFee = "4000"
!$targetAmount = "48000"
!$fxpChargesSource = "33"
!$fxpChargesTarget = "6000"
!$fxpSourceAmount = "300"
!$fxpTargetAmount = "48000"
!$totalChargesSourceCurrency = "55"
!$totalChargesTargetCurrency = "10000"
!$conversionRequestId = "828cc75f-1654-415e-8fcd-df76cc9329b9"
!$conversionId = "581f68ef-b54f-416f-9161-ac34e889a84b"
!$homeTransactionId = "string"
!$quoteId = "382987a8-75ce-4037-b500-c475e08c1727"
!$transactionId = "d9ce59d4-3598-4396-8630-581bb0551451"
!$quotePayerExpiration = "2021-08-25T14:17:09.663+01:00"
!$quotePayeeExpiration = "2021-08-25T14:17:09.663+01:00"
!$commitRequestId = "77c9d78d-c26a-4474-8b3c-99b96a814bfc"
!$determiningTransferId = "d9ce59d4-3598-4396-8630-581bb0551451"
!$transferId = "d9ce59d4-3598-4396-8630-581bb0551451"
!$fxCondition = "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"
!$condition = "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"

title Remittance Transfer using Mojaloop FX APIs POC\nPayer DFSP requests conversion with SEND amount
actor "$senderName" as A1
box "Payer DFSP" #LightBlue  
  participant "Payer CBS" as PayerCBS
  participant "Core Connector" as PayerCC
  participant "Payer\nMojaloop\nConnector" as D1
end box

participant "Mojaloop Switch" as S1

box "Discovery Service" #LightYellow
  participant "ALS Oracle" as ALS
end box

box "FX provider"  
  participant "FXP\nConnector" as FXP
  participant "Backend FX API" as FXPBackend
end box

box "Payee DFSP" #LightBlue   
  participant "Payee\nMojaloop\nConnector" as D2
  participant "Core Connector" as PayeeCC
end box

actor "$receiverName" as A2
autonumber

A1->PayerCBS:I'd like to pay $receiverName\n$payerSendAmount $payerCurrency, please
PayerCBS->PayerCC: Initiate remittance transfer
!if ($advancedCoreConnectorFlow != true)
    PayerCC->D1: **POST /transfers**
    !if ($simplified != true)
        note right of PayerCC
        {
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
        }
        end note
    !endif
!else
PayerCC->D1: **GET /parties/MSISDN/$payeeMSISDN**
!endif

== Discovery Phase ==
activate D1
D1->>S1:I want to send to MSISDN $payeeMSISDN\n**GET /parties/MSISDN/$payeeMSISDN**
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->ALS:Who owns MSISDN $payeeMSISDN?
activate ALS
ALS- ->S1:It's $payeeFSPID
deactivate ALS
S1->>D2:Do you own MSISDN $payeeMSISDN?
activate D2
!if ($simplified != true)
D2- ->>S1:202 I'll get back to you
!endif
D2->D2: Check Sanction list status & trigger a refresh of the status
D2->PayeeCC: Check account and get currency type
!if ($simplified != true)
PayeeCC- ->D2: Result
!endif
deactivate S1
D2->>S1:Yes, it's $receiverName. He can receive in $payeeCurrency\n**PUT /parties/MSISDN/$payeeMSISDN**
!if ($simplified != true)
note left of D2
    PUT /parties
    {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "$payeeMSISDN",
            "fspId": "$payeeFSPID"
        },
        "merchantClassificationCode": "string",
        "name": "$receiverName",
        "personalInfo": {
            "complexName": {
            "firstName": "$receiverFirstName",
            "middleName": "$receiverMiddleName",
            "lastName": "$receiverLastName"
            },
            "dateOfBirth": "$receiverDOB",
            "kycInformation": "<Encrypted KYC Data>"
        },
        "supportedCurrencies": [ "$payeeCurrency" ]
    }
end note
!else
note over D2
    Payee Info with Encrypted KYC Data
end note
!endif
activate S1
!if ($simplified != true)
S1- ->>D2:200 Gotcha
!endif
deactivate D2
S1->>D1:Yes, it's $receiverName. He can receive in $payeeCurrency\n**PUT /parties/MSISDN/$payeeMSISDN**
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif
deactivate S1

!if ($advancedCoreConnectorFlow != true)
    D1->PayerCC: Here is the party information\nand supported currencies
    note right of PayerCC
    {
        "transferId": "$transferId",
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN",
                "displayName": "$receiverName",
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                "dateOfBirth": "$receiverDOB",

                "fspId": "$payeeFSPID"
                "supportedCurrencies": [ "$payeeCurrency" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
            "currentState": "**WAITING_FOR_PARTY_ACCEPTANCE**",
            "getPartiesResponse": {
                "body": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "$payeeMSISDN",
                        "fspId": "$payeeFSPID"
                    },
                    "merchantClassificationCode": "string",
                    "name": "$receiverName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$receiverFirstName",
                        "middleName": "$receiverMiddleName",
                        "lastName": "$receiverLastName"
                        },
                        "dateOfBirth": "$receiverDOB",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                    "supportedCurrencies": [ "$payeeCurrency" ]
                },
                "headers": {}
            }
        }
    end note
!else
    D1->PayerCC: Here is the party information\nand supported currencies
    !if ($simplified != true)
        note right of PayerCC
        {
            "party": {
                "body": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "$payeeMSISDN",
                        "fspId": "$payeeFSPID"
                    },
                    "merchantClassificationCode": "string",
                    "name": "$receiverName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$receiverFirstName",
                        "middleName": "$receiverMiddleName",
                        "lastName": "$receiverLastName"
                        },
                        "dateOfBirth": "$receiverDOB",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                     "supportedCurrencies": [ "$payeeCurrency" ]
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note
    !endif
!endif

PayerCC->PayerCBS:Here's are the receiver details
PayerCBS->A1:Hi, $senderName: The number belongs to $receiverName \nLet me know if you want to go ahead
A1->PayerCBS:Yes please, go ahead

PayerCBS->PayerCC: Payer has accepted the party information

!if ($shortCutSingleFXP != true)
== Currency conversion ==

!if ($advancedCoreConnectorFlow != true)
PayerCC->>D1:Get quotation\n**PUT /transfers/$transferId**
note right of PayerCC
{
    "acceptParty": true
}
end note
D1->D1:Hmmm. I can only send in $payerCurrency.\nI need to get some currency conversion
!else
PayerCC->PayerCC:Hmmm. I can only send in $payerCurrency.\nI need to get some currency conversion
PayerCC->>D1:What FXPs do you know about?\n**GET /services/FXP**
!endif

D1->>S1:What FXPs do you know about?\n**GET /services/FXP**
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->ALS:What FXPs do you know about?
activate ALS
ALS- ->S1:FDH FX
deactivate ALS
S1->>D1:Here are the available FXPs:FDH FX
note left of S1
    PUT /services/FXP
    {
        "providers": [
            "$fxpID"
        ]
    }
end note
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif

!if ($advancedCoreConnectorFlow != true)
' TODO: We can pause the execution here if required to allow the core connector to select the FXP
D1->D1:I'll ask FDH FX to perform my conversion
!else
D1->>PayerCC:Here are the available FXPs
note right of PayerCC
    {
        "providers": [
            "$fxpID"
        ]
    }
end note

PayerCC->PayerCC:I'll ask FDH FX to perform my conversion
PayerCC->D1: I want to get a quote from this FXP\n**POST /fxQuotes**
    !if ($simplified != true)
        note right of PayerCC
        {
            "homeTransactionId": "$homeTransactionId",
            "conversionRequestId": "$conversionRequestId",
            "conversionTerms": {
                "conversionId": "$conversionId",
                "initiatingFsp": "$payerFSPID",
                "counterPartyFsp": "$fxpID",
                "amountType": "SEND",
                "sourceAmount": {
                    "currency": "$payerCurrency",
                    "amount": "$payerSendAmount"
                },
                "targetAmount": {
                    "currency": "$payeeCurrency"
                },
                "expiration": "2021-08-25T14:17:09.663+01:00"
            }
        }
        end note
    !endif
!endif


!endif



deactivate S1


!if ($shortCutSingleFXP != true)
D1->>S1:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
!else
D1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
!endif
note right of D1
    **post /fxQuotes**
    {
        "conversionRequestId": "$conversionRequestId",
        "conversionTerms": {
            "conversionId": "$conversionId",
            "initiatingFsp": "$payerFSPID",
            "counterPartyFsp": "$fxpID",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$payerSendAmount"
            },
            "targetAmount": {
                "currency": "$payeeCurrency"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
!if ($shortCutSingleFXP != true)
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.\n**POST /fxQuote**
activate FXP
!if ($simplified != true)
FXP- ->>S1:202 I'll get back to you
!endif
deactivate S1
!else
!if ($simplified != true)
FXP- ->>D1:202 I'll get back to you
!endif
!endif
FXP->FXPBackend:Lookup FX rate
!if ($simplified != true)
note right of FXP
    **post /fxQuotes**
    {
        "conversionRequestId": "$conversionRequestId",
        "conversionTerms": {
            "conversionId": "$conversionId",
            "initiatingFsp": "$payerFSPID",
            "counterPartyFsp": "$fxpID",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$payerSendAmount"
            },
            "targetAmount": {
                "currency": "$payeeCurrency"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
!endif
FXPBackend- ->FXP:Return FX rate
note over FXPBackend
    I will add a $fxpChargesSource $payerCurrency fee for undertaking the conversion.
    Now I'll set an expiry time, sign the quotation object,
end note
!if ($simplified != true)
note right of FXP
    {
        "conversionTerms": {
            "conversionId": "$conversionId",
            "initiatingFsp": "$payerFSPID",
            "counterPartyFsp": "$fxpID",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$fxpSourceAmount"
            },
            "targetAmount": {
                "currency": "$payeeCurrency",
                "amount": "$fxpTargetAmount"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
            "charges": [
                {
                    "chargeType": "string",
                    "sourceAmount": {
                        "currency": "$payerCurrency",
                        "amount": "$fxpChargesSource"
                    },
                    "targetAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$fxpChargesTarget"
                    }
                }
            ]
        }
    }
end note
!endif

note over FXP
    Now I'll sign the quotation object,
    create an ILP prepare packet and return it in the intermediary object.

    NOTE: the ILP prepare packet contains the following items, all encoded:
    - The amount being sent (i.e. in the source currency)
    - An expiry time
    - The condition
    - The name of the FXP
    - The content of the conversion terms
end note

note left of FXP
    **PUT /fxQuotes/$conversionRequestId**
    {
        "condition": "$fxCondition",
        "conversionTerms": {
            "conversionId": "$conversionId",
            "initiatingFsp": "$payerFSPID",
            "counterPartyFsp": "$fxpID",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$fxpSourceAmount"
            },
            "targetAmount": {
                "currency": "$payeeCurrency",
                "amount": "$fxpTargetAmount"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
            "charges": [
                {
                    "chargeType": "string",
                    "sourceAmount": {
                        "currency": "$payerCurrency",
                        "amount": "$fxpChargesSource"
                    },
                    "targetAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$fxpChargesTarget"
                    }
                }
            ]
        }
    }
end note
!if ($shortCutSingleFXP != true)
FXP->>S1:Here's the signed conversion object
activate S1
!if ($simplified != true)
S1- ->>FXP:200 Gotcha
!endif
deactivate FXP
S1->>D1:Here's the signed conversion object\n**PUT /fxQuotes/$conversionRequestId**
activate D1
!if ($simplified != true)
D1- ->>S1:Gotcha
!endif
deactivate S1
!else
FXP- ->>D1:Here's the signed conversion object\n**PUT /fxQuotes/$conversionRequestId**
!if ($simplified != true)
D1- ->>FXP:202 I'll get back to you
!endif
activate D1
!endif


!if ($advancedCoreConnectorFlow != true)
    D1- ->PayerCC: Here are the conversion terms
    note right of PayerCC
    {
        "transferId": "$transferId",
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN",
                "displayName": "$receiverName",
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                "dateOfBirth": "$receiverDOB",

                "fspId": "$payeeFSPID"
                "supportedCurrencies": [ "$payeeCurrency" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
            "currentState": "**WAITING_FOR_CONVERSION_ACCEPTANCE**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "$conversionRequestId",
            "fxQuotesResponse": {
                "body": {
                    "condition": "$fxCondition",
                    "conversionTerms": {
                        "conversionId": "$conversionId",
                        "initiatingFsp": "$payerFSPID",
                        "counterPartyFsp": "$fxpID",
                        "amountType": "SEND",
                        "sourceAmount": {
                            "currency": "$payerCurrency",
                            "amount": "$fxpSourceAmount"
                        },
                        "targetAmount": {
                            "currency": "$payeeCurrency",
                            "amount": "$fxpTargetAmount"
                        },
                        "expiration": "2021-08-25T14:17:09.663+01:00"
                        "charges": [
                            {
                                "chargeType": "string",
                                "sourceAmount": {
                                    "currency": "$payerCurrency",
                                    "amount": "$fxpChargesSource"
                                },
                                "targetAmount": {
                                    "currency": "$payeeCurrency",
                                    "amount": "$fxpChargesTarget"
                                }
                            }
                        ]
                    }
                },
                "headers": {}
            },
            "fxQuotesResponseSource": "$payeeFSPID",
        }
    end note
!else
    D1->PayerCC: Here are the conversion terms
    !if ($simplified != true)
        note right of PayerCC
        {
            "homeTransactionId": "$homeTransactionId",
            "condition": "$fxCondition",
            "conversionTerms": {
                "conversionId": "$conversionId",
                "initiatingFsp": "$payerFSPID",
                "counterPartyFsp": "$fxpID",
                "amountType": "SEND",
                "sourceAmount": {
                    "currency": "$payerCurrency",
                    "amount": "$fxpSourceAmount"
                },
                "targetAmount": {
                    "currency": "$payeeCurrency",
                    "amount": "$fxpTargetAmount"
                },
                "expiration": "2021-08-25T14:17:09.663+01:00"
                "charges": [
                    {
                        "chargeType": "string",
                        "sourceAmount": {
                            "currency": "$payerCurrency",
                            "amount": "$fxpChargesSource"
                        },
                        "targetAmount": {
                            "currency": "$payeeCurrency",
                            "amount": "$fxpChargesTarget"
                        }
                    }
                ]
            }
        }
        end note
    !endif
!endif


== Agreement Phase ==


!if ($advancedCoreConnectorFlow != true)
PayerCC->D1: I want to get a quote from the FSP\nPUT /transfers
note right of PayerCC
{
    "acceptConversion": true
}
end note
!else
PayerCC->D1: I want to get a quote from the FSP\n**POST /quotes**
    !if ($simplified != true)
        note right of PayerCC
        {
            "fspId": "$payeeFSPID",
            "quotesPostRequest": {
                "quoteId": "$quoteId",
                "transactionId": "$transactionId",
                "payee": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "$payeeMSISDN",
                        "fspId": "$payeeFSPID"
                    },
                    "name": "$receiverName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$receiverFirstName",
                        "middleName": "$receiverMiddleName",
                        "lastName": "$receiverLastName"
                        },
                        "dateOfBirth": "$receiverDOB",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                    "supportedCurrencies": [ "$payeeCurrency" ]
                },
                "payer": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "$payerMSISDN",
                        "fspId": "$payerFSPID"
                    },
                    "name": "$senderName",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "$senderFirstName",
                        "middleName": "$senderMiddleName",
                        "lastName": "$senderLastName"
                        },
                        "dateOfBirth": "$senderDOB"
                    }
                },
                "amountType": "SEND",
                "amount": {
                    "currency": "$payeeCurrency",
                    "amount": "$fxpTargetAmount"
                },
                "converter": "PAYER",
                "expiration": "$quotePayerExpiration"
            }
        }
        end note
    !endif
!endif


D1->>S1:Please quote for a transfer which sends $fxpTargetAmount $payeeCurrency.\n**POST /quotes**
!if ($simplified != true)
note right of D1
POST /quotes

    {
        "quoteId": "$quoteId",
        "transactionId": "$transactionId",
        "payee": {
            "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "$payeeMSISDN",
                "fspId": "$payeeFSPID"
            },
            "name": "$receiverName",
            "personalInfo": {
                "complexName": {
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                },
                "dateOfBirth": "$receiverDOB",
                "kycInformation": "<Encrypted KYC Data>"
            },
            "supportedCurrencies": [ "$payeeCurrency" ]
        },
        "payer": {
            "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "$payerMSISDN",
                "fspId": "$payerFSPID"
            },
            "name": "$senderName",
            "personalInfo": {
                "complexName": {
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                },
                "dateOfBirth": "$senderDOB"
            }
        },
        "amountType": "SEND",
        "amount": {
            "currency": "$payeeCurrency",
            "amount": "$fxpTargetAmount"
        },
        "converter": "PAYER",
        "expiration": "$quotePayerExpiration"
    }
end note
!endif
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif

S1->>D2:**POST /quotes**
activate D2
!if ($simplified != true)
D2- ->>S1:202 I'll get back to you
!endif
deactivate S1
D2->PayeeCC:**POST /quoterequests**
!if ($simplified != true)
note right of D2
{
    "quoteId": "$quoteId",
    "transactionId": "$transactionId",
    "payee": {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "$payeeMSISDN",
            "fspId": "$payeeFSPID"
        },
        "name": "$receiverName",
        "personalInfo": {
            "complexName": {
            "firstName": "$receiverFirstName",
            "middleName": "$receiverMiddleName",
            "lastName": "$receiverLastName"
            },
            "dateOfBirth": "$receiverDOB",
            "kycInformation": "<Encrypted KYC Data>"
        },
        "supportedCurrencies": [ "$payeeCurrency" ]
    },
    "payer": {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "$payerMSISDN",
            "fspId": "$payerFSPID"
        },
        "name": "$senderName",
        "personalInfo": {
            "complexName": {
            "firstName": "$senderFirstName",
            "middleName": "$senderMiddleName",
            "lastName": "$senderLastName"
            },
            "dateOfBirth": "$senderDOB"
        }
    },
    "amountType": "SEND",
    "amount": {
        "currency": "$payeeCurrency",
        "amount": "$fxpTargetAmount"
    },
    "converter": "PAYER",
    "expiration": "$quotePayerExpiration"
}
end note
!endif
PayeeCC->PayeeCC:OK, so I will charge $payeeFee $payeeCurrency for this.\nNow I create terms of the transfer
PayeeCC- ->D2:Here are the terms
!if ($simplified != true)
note right of D2
{
    "quoteId": "$quoteId",
    "transactionId": "$transactionId",
    "payeeFspFeeAmount": "$payeeFee",
    "payeeFspFeeAmountCurrency": "$payeeCurrency",
    "payeeReceiveAmount": "$payeeReceiveAmount",
    "payeeReceiveAmountCurrency": "$payeeCurrency",
    "transferAmount": "$targetAmount",
    "transferAmountCurrency": "$payeeCurrency"
    "expiration": "$quotePayerExpiration"
}
end note
!endif
D2->D2:Now I will sign the transaction object
D2->>S1:Here's the signed quote
note left of D2
    **put /quotes/$quoteId**

    {
        "transferAmount": {
            "currency": "$payeeCurrency",
            "amount": "$targetAmount"
        },
        "payeeReceiveAmount": {
            "currency": "$payeeCurrency",
            "amount": "$payeeReceiveAmount"
        },
        "payeeFspFee": {
            "currency": "$payeeCurrency",
            "amount": "$payeeFee"
        },
        "expiration": "$payeeQuoteExpiration",
        "ilpPacket": "
            <This is encoded transaction object. It contains data from quote request and response.>
        ",
        "condition": "$condition"
    }

end note
activate S1
!if ($simplified != true)
S1- ->>D2:200 Gotcha
!endif
deactivate D2
S1->>D1:Here's the signed quote\n**PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727**
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif
deactivate S1
D1->D1:OK, I can see that there are going to be $payeeFee $payeeCurrency in charges.

== Sender Confirmation ==

!if ($advancedCoreConnectorFlow != true)
    D1- ->PayerCC:Here's the quote for the transfer\nIt expires at $quotePayeeExpiration
    note right of PayerCC
    {
        "transferId": "$transferId",
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN",
                "displayName": "$receiverName",
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                "dateOfBirth": "$receiverDOB",

                "fspId": "$payeeFSPID"
                "supportedCurrencies": [ "$payeeCurrency" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
            "currentState": "**WAITING_FOR_QUOTE_ACCEPTANCE**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "$conversionRequestId",
            "fxQuotesResponse": {
                <Same as the previous responses>
            },
            "fxQuotesResponseSource": "$payeeFSPID",
            "quoteId": "$quoteId",
            "quoteResponse": {
                "body": {
                    "transferAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$targetAmount"
                    },
                    "payeeReceiveAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$payeeReceiveAmount"
                    },
                    "payeeFspFee": {
                        "currency": "$payeeCurrency",
                        "amount": "$payeeFee"
                    },
                    "expiration": "$payeeQuoteExpiration",
                    "ilpPacket": "
                        <This is encoded transaction object. It contains data from quote request and response.>
                    ",
                    "condition": "$condition"
                },
                "headers": {}
            },
            "quoteResponseSource": "$payeeFSPID",
        }
    end note
!else
   D1- ->PayerCC:Here's the quote for the transfer\nIt expires at $quotePayeeExpiration
    !if ($simplified != true)
        note right of PayerCC
        {
            "quotes": {
                "body": {
                    "transferAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$targetAmount"
                    },
                    "payeeReceiveAmount": {
                        "currency": "$payeeCurrency",
                        "amount": "$payeeReceiveAmount"
                    },
                    "payeeFspFee": {
                        "currency": "$payeeCurrency",
                        "amount": "$payeeFee"
                    },
                    "expiration": "$payeeQuoteExpiration",
                    "ilpPacket": "
                        <This is encoded transaction object. It contains data from quote request and response.>
                    ",
                    "condition": "$condition"
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note
    !endif
!endif
PayerCC->PayerCBS:Here's the quote
PayerCBS->A1:Hi, $senderName: I can do the transfer.\nIt'll cost you $totalChargesSourceCurrency $payerCurrency($totalChargesTargetCurrency $payeeCurrency) in fees\nand $receiverName will receive\n$payeeReceiveAmount $payeeCurrency.\nLet me know if you want to go ahead
A1->PayerCBS:Great! Yes please, go ahead

PayerCBS->PayerCC: Payer has accepted the terms please proceed

== Transfer Phase ==

!if ($advancedCoreConnectorFlow != true)
PayerCC->D1: Proceed with the transfer\nPUT /transfers
note right of PayerCC
{
    "acceptQuote": true
}
end note
!else
PayerCC->D1: Proceed with the transfer\n**POST /fxTransfers**
    !if ($simplified != true)
    note right of PayerCC
    {
        "homeTransactionId": "$homeTransactionId",
        "commitRequestId": "$commitRequestId",
        "determiningTransferId": "$determiningTransferId",
        "initiatingFsp": "$payerFSPID",
        "counterPartyFsp": "$fxpID",
        "amountType": "SEND",
        "sourceAmount": {
            "currency": "$payerCurrency",
            "amount": "$fxpSourceAmount"
        },
        "targetAmount": {
            "currency": "$payeeCurrency",
            "amount": "$fxpTargetAmount"
        },
        "condition": "$fxCondition"
    }
    end note
    !endif
!endif

!if ($advancedCoreConnectorFlow != true)
D1->D1:First, activate the conversion
!endif
D1->>S1:Please confirm your part of the transfer
note right of D1
**POST /fxTransfers**
{
    "commitRequestId": "$commitRequestId",
    "determiningTransferId": "$determiningTransferId",
    "initiatingFsp": "$payerFSPID",
    "counterPartyFsp": "$fxpID",
    "amountType": "SEND",
    "sourceAmount": {
        "currency": "$payerCurrency",
        "amount": "$fxpSourceAmount"
    },
    "targetAmount": {
        "currency": "$payeeCurrency",
        "amount": "$fxpTargetAmount"
    },
    "condition": "$fxCondition"
}
end note
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D2
!if ($hideSwitchDetail != true)
S1->S1:OK, so this is an FX confirmation.
S1->S1: Is there any transfer with determiningTransactionId?\nNo, it does'nt.
!endif
S1->S1: Liquidity check and reserve on Payer DFSP's account
!if ($hideSwitchDetail != true)
note over S1
Reservations:

**$payerFSPID has a reservation of $fxpSourceAmount $payerCurrency**
end note
!endif
S1->>FXP:Please confirm the currency conversion part of the transfer\n** POST /fxTransfers**
activate FXP
!if ($simplified != true)
FXP- ->>S1:202 I'll get back to you
!endif
deactivate S1
FXP->FXPBackend:Reserve funds for FX conversion
note right of FXP
**POST /fxTransfers**
{
    "homeTransactionId": "$homeTransactionId",
    "commitRequestId": "$commitRequestId",
    "determiningTransferId": "$determiningTransferId",
    "initiatingFsp": "$payerFSPID",
    "counterPartyFsp": "$fxpID",
    "amountType": "SEND",
    "sourceAmount": {
        "currency": "$payerCurrency",
        "amount": "$fxpSourceAmount"
    },
    "targetAmount": {
        "currency": "$payeeCurrency",
        "amount": "$fxpTargetAmount"
    },
    "condition": "$fxCondition"
}
end note
FXPBackend- ->FXP:Success
note right of FXP
{
  "homeTransactionId": "$homeTransactionId",
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "RESERVED"
}
end note
FXP->>S1:Confirmed. Here's the fulfilment
note left of FXP
**PUT /fxTransfers/$commitRequestId**
{
  "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "RESERVED"
}
end note
activate S1
!if ($simplified != true)
S1- ->>FXP:200 Gotcha
!endif
deactivate FXP
!if ($simplified != true)
S1->S1:Check fulfilment matches and cancel if not.
alt Conversion failed
S1->FXP:Sorry. Conversion failed
note over FXP
**PATCH /fxTransfers/$commitRequestId**
{
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "ABORTED"
}
end note
activate FXP
FXP- ->S1:Acknowledged
FXP->FXPBackend:Remove any reservations or obligations
note right of FXP
**PUT /fxTransfers/$commitRequestId**
{
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "ABORTED"
}
end note
FXPBackend- ->FXP:Ok
deactivate FXP

S1->>D1:Sorry. Conversion failed
note over S1
**PUT /fxTransfers/$commitRequestId/error**
{
    "errorCode": "9999"
    , "errorDescription": "Whatever the error was"
}
end note
else Conversion succeeded
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**

end
!else
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
!endif
activate D1
!if ($simplified != true)
D1- ->S1:200 Gotcha
!endif
deactivate S1

!if ($advancedCoreConnectorFlow != true)
    D1->D1:OK, so that's all right\nNow I can send the transfer itself
    ' TODO: Need to add PUT /transfers response here
!else
    D1- ->PayerCC:Confirmed. You can proceed with the transfer.
    note right of PayerCC
    **PUT /fxTransfers/$commitRequestId**
    {
        "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",
        "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
        "conversionState": "RESERVED"
    }
    end note

    PayerCC- ->D1:Please do the transfer **POST /simpleTransfers**
    !if ($simplified != true)
    note right of PayerCC
    {
        "fspId": "$payeeFSPID",
        "transfersPostRequest": {
            "transferId": "$transferId",
            "payeeFsp": "$payeeFSPID",
            "payerFsp": "$payerFSPID",
            "amount": {
                "currency": "$payeeCurrency",
                "amount": "$targetAmount"
            },
            "ilpPacket": "<Encoded transaction object>",
            "condition": "$condition",
            "expiration": "2016-05-24T08:38:08.699-04:00"
        }
    }
    end note
    !endif
!endif

D1->S1:Please do the transfer **POST /transfers**
!if ($simplified != true)
note over D1
POST /transfers
{
    "transferId": "$transferId",
    "payeeFsp": "$payeeFSPID",
    "payerFsp": "$payerFSPID",
    "amount": {
        "currency": "$payeeCurrency",
        "amount": "$targetAmount"
    },
    "ilpPacket": "<Encoded transaction object>",
    "condition": "$condition",
    "expiration": "2016-05-24T08:38:08.699-04:00"
}
end note
!endif
activate S1
!if ($simplified != true)
S1- ->D1:202 I'll get back to you
!endif
deactivate D1
!if ($hideSwitchDetail != true)
S1->S1:Is there a dependent transfer? Yes
!endif
S1->S1:Perform liquidity check and reserve funds\nagainst creditor party to dependent transfer
note over S1
Reservations:

$payerFSPID has a reservation of $fxpSourceAmount $payerCurrency
**$fxpID has a reservation of $targetAmount $payeeCurrency**
end note

S1->D2:Please do the transfer\n**POST /transfers**
activate D2
!if ($simplified != true)
D2- ->S1:202 I'll get back to you
!endif
deactivate S1
D2->D2:Let me check that the terms of the dependent transfer\nare the same as the ones I agreed to\nand that the fulfilment and condition match

D2->PayeeCC:Please credit $receiverName's account with $payeeReceiveAmount $payeeCurrency
!if ($simplified != true)
note right of D2
**POST /transfers**
{
  "transferId": "$transferId",
  "amount": "$targetAmount",
  "currency": "$payeeCurrency",
  "amountType": "SEND",
  "from": {
    "dateOfBirth": "$senderDOB",
    "displayName": "$senderName",
    "firstName": "$senderFirstName",
    "middleName": "$senderMiddleName",
    "lastName": "$senderLastName"
    "fspId": "$payerFSPID",
    "idType": "MSISDN",
    "idValue": "$payerMSISDN"
  },
  "to": {
    "dateOfBirth": "$receiverDOB",
    "displayName": "$receiverName",
    "firstName": "$receiverFirstName",
    "middleName": "$receiverMiddleName",
    "lastName": "$receiverLastName",
    "fspId": "$payeeFSPID",
    "idType": "MSISDN",
    "idValue": "$payeeMSISDN"
  },
  "note": "string",
  "quote": {
    "quoteId": "$quoteId",
    "transactionId": "$transactionId",
    "payeeFspFeeAmount": "$payeeFee",
    "payeeFspFeeAmountCurrency": "$payeeCurrency",
    "payeeReceiveAmount": "$payeeReceiveAmount",
    "payeeReceiveAmountCurrency": "$payeeCurrency",
    "transferAmount": "$targetAmount",
    "transferAmountCurrency": "$payeeCurrency"
    "expiration": "$quotePayeeExpiration"
  },
  "transactionType": "TRANSFER",
  "ilpPacket": {
    "data": <decoded ilpPacket>
  }
}
end note
!endif

PayeeCC- ->D2:Done
!if ($simplified != true)
note right of D2
{
    "homeTransactionId": "string",
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    **Note: fulfilment is optional: SDK will create if not found**
    "transferState": "COMMITTED"
}
end note
!endif

D2->>S1:Transfer is confirmed, here's the fulfilment
note over D2
**PUT /transfers/$commitRequestId**
{
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    "transferState": "COMMITTED"
}
end note
activate S1
!if ($simplified != true)
S1- ->>D2:200 Gotcha
!endif
deactivate D2
!if ($hideSwitchDetail != true)
S1->S1:Is there a dependent transfer?\nYes, there is.
S1->S1:Is this dependency against the debtor party to the transfer?\nYes, it is.
S1->S1:Create an obligation from the debtor party to the party named in the dependency (the FXP)
S1->S1:Is the transfer denominated in the currency of the payee receive amount?\nYes, it is.
S1->S1:Create an obligation from the party named in the dependency\nto the creditor party for the transfer
!else
S1->S1:Create obligations from the payer to the FXP and from FXP to the payee
!endif
S1->>FXP:The transfer succeeded.\nYou can clear it in your ledgers
note over S1
**PATCH /fxTransfers/$commitRequestId**
{
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    "transferState": "COMMITTED"
}
end note
activate FXP
FXP->FXP:Let's just check: does this match the stuff I sent?
FXP->FXP:It does. Great. I'll clear the conversion
FXP- ->>S1:200 Gotcha
deactivate FXP
note over S1
    Ledger positions:
    $payerFSPID has a debit of $fxpSourceAmount $payerCurrency
    $fxpID has a credit of $fxpSourceAmount $payerCurrency
    $fxpID has a debit of $fxpTargetAmount $payeeCurrency
    $payeeFSPID has a credit of $targetAmount $payeeCurrency
end note
S1->>D1:Transfer is complete\n**PUT /transfers/$commitRequestId**
activate D1
!if ($simplified != true)
D1- ->S1:200 Gotcha
!endif
deactivate S1
!if ($advancedCoreConnectorFlow != true)
    D1- ->PayerCC:Transfer was completed successfully
    note right of PayerCC
    {
        "transferId": "$transferId",
            "homeTransactionId": "$homeTransactionId",
            "from": {
                "dateOfBirth": "$senderDOB",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": "$senderLastName"
                "fspId": "$payerFSPID",
                "idType": "MSISDN",
                "idValue": "$payerMSISDN"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "$payeeMSISDN",
                "displayName": "$receiverName",
                "firstName": "$receiverFirstName",
                "middleName": "$receiverMiddleName",
                "lastName": "$receiverLastName"
                "dateOfBirth": "$receiverDOB",

                "fspId": "$payeeFSPID"
                "supportedCurrencies": [ "$payeeCurrency" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "$payerCurrency",
            "amount": "$payerSendAmount"
            "currentState": "**COMPLETED**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "$conversionRequestId",
            "fxQuotesResponse": {
                <Same as the previous responses>
            },
            "fxQuotesResponseSource": "$payeeFSPID",
            "quoteId": "$quoteId",
            "quoteResponse": {
                <Same as the previous responses>
            },
            "quoteResponseSource": "$payeeFSPID",
            "fulfil": {
                "body": {
                    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
                    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
                    "transferState": "COMMITTED"
                },
                "headers": {}
            },
        }
    end note
!else
   D1- ->PayerCC:Transfer was completed successfully
    !if ($simplified != true)
        note right of PayerCC
        {
            "transfer": {
                "body": {
                    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
                    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
                    "transferState": "COMMITTED"
                },
                "headers": {}
            },
            "currentState": "COMPLETED"
        }
        end note
    !endif
!endif

PayerCC->PayerCBS:Transfer was completed successfully
PayerCBS->PayerCBS:Commit the funds in my ledgers
PayerCBS->A1:Your transfer is successful
deactivate D1

@enduml

@startuml


title Remittance Transfer using Mojaloop FX APIs POC\nPayer DFSP requests conversion with SEND amount
actor "$senderName" as A1
box "Payer DFSP" #LightBlue  
  participant "Payer CBS" as PayerCBS
  participant "Core Connector" as PayerCC
  participant "Payer\nMojaloop\nConnector" as D1
end box

participant "Mojaloop Switch" as S1

box "Discovery Service" #LightYellow
  participant "ALS Oracle" as ALS
end box

box "FX provider"  
  participant "FXP\nConnector" as FXP
  participant "Backend FX API" as FXPBackend
end box

box "Payee DFSP" #LightBlue   
  participant "Payee\nMojaloop\nConnector" as D2
  participant "Core Connector" as PayeeCC
end box

actor "Yaro" as A2
autonumber

A1->PayerCBS:I'd like to pay Yaro\n300 BWP, please
PayerCBS->PayerCC: Initiate remittance transfer
    PayerCC->D1: **POST /transfers**
        note right of PayerCC
        {
            "homeTransactionId": "string",
            "from": {
                "dateOfBirth": "1966-06-16",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": ""
                "fspId": "PayerFSP",
                "idType": "MSISDN",
                "idValue": "26787654321"
            },
            "to": {
                "idType": "MSISDN",
                "idValue": "2551234567890"
            },
            "amountType": "SEND",
            "currency": "BWP",
            "amount": "300"
        }
        end note

== Discovery Phase ==
activate D1
D1->>S1:I want to send to MSISDN 2551234567890\n**GET /parties/MSISDN/2551234567890**
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->ALS:Who owns MSISDN 2551234567890?
activate ALS
ALS- ->S1:It's PayeeFSP
deactivate ALS
S1->>D2:Do you own MSISDN 2551234567890?
activate D2
D2- ->>S1:202 I'll get back to you
D2->D2: Check Sanction list status & trigger a refresh of the status
D2->PayeeCC: Check account and get currency type
PayeeCC- ->D2: Result
deactivate S1
D2->>S1:Yes, it's Yaro. He can receive in TZS\n**PUT /parties/MSISDN/2551234567890**
note left of D2
    PUT /parties
    {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "2551234567890",
            "fspId": "PayeeFSP"
        },
        "merchantClassificationCode": "string",
        "name": "Yaro",
        "personalInfo": {
            "complexName": {
            "firstName": "Yaro",
            "middleName": "",
            "lastName": ""
            },
            "dateOfBirth": "1966-06-16",
            "kycInformation": "<Encrypted KYC Data>"
        },
        "supportedCurrencies": [ "TZS" ]
    }
end note
activate S1
S1- ->>D2:200 Gotcha
deactivate D2
S1->>D1:Yes, it's Yaro. He can receive in TZS\n**PUT /parties/MSISDN/2551234567890**
activate D1
D1- ->>S1:200 Gotcha
deactivate S1

    D1->PayerCC: Here is the party information\nand supported currencies
    note right of PayerCC
    {
        "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
            "homeTransactionId": "string",
            "from": {
                "dateOfBirth": "1966-06-16",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": ""
                "fspId": "PayerFSP",
                "idType": "MSISDN",
                "idValue": "26787654321"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "2551234567890",
                "displayName": "Yaro",
                "firstName": "Yaro",
                "middleName": "",
                "lastName": ""
                "dateOfBirth": "1966-06-16",

                "fspId": "PayeeFSP"
                "supportedCurrencies": [ "TZS" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "BWP",
            "amount": "300"
            "currentState": "**WAITING_FOR_PARTY_ACCEPTANCE**",
            "getPartiesResponse": {
                "body": {
                    "partyIdInfo": {
                        "partyIdType": "MSISDN",
                        "partyIdentifier": "2551234567890",
                        "fspId": "PayeeFSP"
                    },
                    "merchantClassificationCode": "string",
                    "name": "Yaro",
                    "personalInfo": {
                        "complexName": {
                        "firstName": "Yaro",
                        "middleName": "",
                        "lastName": ""
                        },
                        "dateOfBirth": "1966-06-16",
                        "kycInformation": "<Encrypted KYC Data>"
                    },
                    "supportedCurrencies": [ "TZS" ]
                },
                "headers": {}
            }
        }
    end note

PayerCC->PayerCBS:Here's are the receiver details
PayerCBS->A1:Hi, $senderName: The number belongs to Yaro \nLet me know if you want to go ahead
A1->PayerCBS:Yes please, go ahead

PayerCBS->PayerCC: Payer has accepted the party information

== Currency conversion ==

PayerCC->>D1:Get quotation\n**PUT /transfers/d9ce59d4-3598-4396-8630-581bb0551451**
note right of PayerCC
{
    "acceptParty": true
}
end note
D1->D1:Hmmm. I can only send in BWP.\nI need to get some currency conversion

D1->>S1:What FXPs do you know about?\n**GET /services/FXP**
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->ALS:What FXPs do you know about?
activate ALS
ALS- ->S1:FDH FX
deactivate ALS
S1->>D1:Here are the available FXPs:FDH FX
note left of S1
    PUT /services/FXP
    {
        "providers": [
            "FDH_FX"
        ]
    }
end note
activate D1
D1- ->>S1:200 Gotcha

D1->D1:I'll ask FDH FX to perform my conversion





deactivate S1


D1->>S1:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
note right of D1
    **post /fxQuotes**
    {
        "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",
        "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
            "initiatingFsp": "PayerFSP",
            "counterPartyFsp": "FDH_FX",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "BWP",
                "amount": "300"
            },
            "targetAmount": {
                "currency": "TZS"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.\n**POST /fxQuote**
activate FXP
FXP- ->>S1:202 I'll get back to you
deactivate S1
FXP->FXPBackend:Lookup FX rate
note right of FXP
    **post /fxQuotes**
    {
        "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",
        "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
            "initiatingFsp": "PayerFSP",
            "counterPartyFsp": "FDH_FX",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "BWP",
                "amount": "300"
            },
            "targetAmount": {
                "currency": "TZS"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
FXPBackend- ->FXP:Return FX rate
note over FXPBackend
    I will add a 33 BWP fee for undertaking the conversion.
    Now I'll set an expiry time, sign the quotation object,
end note
note right of FXP
    {
        "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
            "initiatingFsp": "PayerFSP",
            "counterPartyFsp": "FDH_FX",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "BWP",
                "amount": "300"
            },
            "targetAmount": {
                "currency": "TZS",
                "amount": "48000"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
            "charges": [
                {
                    "chargeType": "string",
                    "sourceAmount": {
                        "currency": "BWP",
                        "amount": "33"
                    },
                    "targetAmount": {
                        "currency": "TZS",
                        "amount": "6000"
                    }
                }
            ]
        }
    }
end note

note over FXP
    Now I'll sign the quotation object,
    create an ILP prepare packet and return it in the intermediary object.

    NOTE: the ILP prepare packet contains the following items, all encoded:
    - The amount being sent (i.e. in the source currency)
    - An expiry time
    - The condition
    - The name of the FXP
    - The content of the conversion terms
end note

note left of FXP
    **PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
    {
        "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM",
        "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
            "initiatingFsp": "PayerFSP",
            "counterPartyFsp": "FDH_FX",
            "amountType": "SEND",
            "sourceAmount": {
                "currency": "BWP",
                "amount": "300"
            },
            "targetAmount": {
                "currency": "TZS",
                "amount": "48000"
            },
            "expiration": "2021-08-25T14:17:09.663+01:00"
            "charges": [
                {
                    "chargeType": "string",
                    "sourceAmount": {
                        "currency": "BWP",
                        "amount": "33"
                    },
                    "targetAmount": {
                        "currency": "TZS",
                        "amount": "6000"
                    }
                }
            ]
        }
    }
end note
FXP->>S1:Here's the signed conversion object
activate S1
S1- ->>FXP:200 Gotcha
deactivate FXP
S1->>D1:Here's the signed conversion object\n**PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
activate D1
D1- ->>S1:Gotcha
deactivate S1


    D1- ->PayerCC: Here are the conversion terms
    note right of PayerCC
    {
        "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
            "homeTransactionId": "string",
            "from": {
                "dateOfBirth": "1966-06-16",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": ""
                "fspId": "PayerFSP",
                "idType": "MSISDN",
                "idValue": "26787654321"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "2551234567890",
                "displayName": "Yaro",
                "firstName": "Yaro",
                "middleName": "",
                "lastName": ""
                "dateOfBirth": "1966-06-16",

                "fspId": "PayeeFSP"
                "supportedCurrencies": [ "TZS" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "BWP",
            "amount": "300"
            "currentState": "**WAITING_FOR_CONVERSION_ACCEPTANCE**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",
            "fxQuotesResponse": {
                "body": {
                    "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM",
                    "conversionTerms": {
                        "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
                        "initiatingFsp": "PayerFSP",
                        "counterPartyFsp": "FDH_FX",
                        "amountType": "SEND",
                        "sourceAmount": {
                            "currency": "BWP",
                            "amount": "300"
                        },
                        "targetAmount": {
                            "currency": "TZS",
                            "amount": "48000"
                        },
                        "expiration": "2021-08-25T14:17:09.663+01:00"
                        "charges": [
                            {
                                "chargeType": "string",
                                "sourceAmount": {
                                    "currency": "BWP",
                                    "amount": "33"
                                },
                                "targetAmount": {
                                    "currency": "TZS",
                                    "amount": "6000"
                                }
                            }
                        ]
                    }
                },
                "headers": {}
            },
            "fxQuotesResponseSource": "PayeeFSP",
        }
    end note


== Agreement Phase ==


PayerCC->D1: I want to get a quote from the FSP\nPUT /transfers
note right of PayerCC
{
    "acceptConversion": true
}
end note


D1->>S1:Please quote for a transfer which sends 48000 TZS.\n**POST /quotes**
note right of D1
POST /quotes

    {
        "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
        "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
        "payee": {
            "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "2551234567890",
                "fspId": "PayeeFSP"
            },
            "name": "Yaro",
            "personalInfo": {
                "complexName": {
                "firstName": "Yaro",
                "middleName": "",
                "lastName": ""
                },
                "dateOfBirth": "1966-06-16",
                "kycInformation": "<Encrypted KYC Data>"
            },
            "supportedCurrencies": [ "TZS" ]
        },
        "payer": {
            "partyIdInfo": {
                "partyIdType": "MSISDN",
                "partyIdentifier": "26787654321",
                "fspId": "PayerFSP"
            },
            "name": "$senderName",
            "personalInfo": {
                "complexName": {
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": ""
                },
                "dateOfBirth": "1966-06-16"
            }
        },
        "amountType": "SEND",
        "amount": {
            "currency": "TZS",
            "amount": "48000"
        },
        "converter": "PAYER",
        "expiration": "2021-08-25T14:17:09.663+01:00"
    }
end note
activate S1
S1- ->>D1:202 I'll get back to you

S1->>D2:**POST /quotes**
activate D2
D2- ->>S1:202 I'll get back to you
deactivate S1
D2->PayeeCC:**POST /quoterequests**
note right of D2
{
    "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
    "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "payee": {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "2551234567890",
            "fspId": "PayeeFSP"
        },
        "name": "Yaro",
        "personalInfo": {
            "complexName": {
            "firstName": "Yaro",
            "middleName": "",
            "lastName": ""
            },
            "dateOfBirth": "1966-06-16",
            "kycInformation": "<Encrypted KYC Data>"
        },
        "supportedCurrencies": [ "TZS" ]
    },
    "payer": {
        "partyIdInfo": {
            "partyIdType": "MSISDN",
            "partyIdentifier": "26787654321",
            "fspId": "PayerFSP"
        },
        "name": "$senderName",
        "personalInfo": {
            "complexName": {
            "firstName": "$senderFirstName",
            "middleName": "$senderMiddleName",
            "lastName": ""
            },
            "dateOfBirth": "1966-06-16"
        }
    },
    "amountType": "SEND",
    "amount": {
        "currency": "TZS",
        "amount": "48000"
    },
    "converter": "PAYER",
    "expiration": "2021-08-25T14:17:09.663+01:00"
}
end note
PayeeCC->PayeeCC:OK, so I will charge 4000 TZS for this.\nNow I create terms of the transfer
PayeeCC- ->D2:Here are the terms
note right of D2
{
    "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
    "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "payeeFspFeeAmount": "4000",
    "payeeFspFeeAmountCurrency": "TZS",
    "payeeReceiveAmount": "44000",
    "payeeReceiveAmountCurrency": "TZS",
    "transferAmount": "48000",
    "transferAmountCurrency": "TZS"
    "expiration": "2021-08-25T14:17:09.663+01:00"
}
end note
D2->D2:Now I will sign the transaction object
D2->>S1:Here's the signed quote
note left of D2
    **put /quotes/382987a8-75ce-4037-b500-c475e08c1727**

    {
        "transferAmount": {
            "currency": "TZS",
            "amount": "48000"
        },
        "payeeReceiveAmount": {
            "currency": "TZS",
            "amount": "44000"
        },
        "payeeFspFee": {
            "currency": "TZS",
            "amount": "4000"
        },
        "expiration": "$payeeQuoteExpiration",
        "ilpPacket": "
            <This is encoded transaction object. It contains data from quote request and response.>
        ",
        "condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"
    }

end note
activate S1
S1- ->>D2:200 Gotcha
deactivate D2
S1->>D1:Here's the signed quote\n**PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727**
activate D1
D1- ->>S1:200 Gotcha
deactivate S1
D1->D1:OK, I can see that there are going to be 4000 TZS in charges.

== Sender Confirmation ==

    D1- ->PayerCC:Here's the quote for the transfer\nIt expires at 2021-08-25T14:17:09.663+01:00
    note right of PayerCC
    {
        "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
            "homeTransactionId": "string",
            "from": {
                "dateOfBirth": "1966-06-16",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": ""
                "fspId": "PayerFSP",
                "idType": "MSISDN",
                "idValue": "26787654321"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "2551234567890",
                "displayName": "Yaro",
                "firstName": "Yaro",
                "middleName": "",
                "lastName": ""
                "dateOfBirth": "1966-06-16",

                "fspId": "PayeeFSP"
                "supportedCurrencies": [ "TZS" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "BWP",
            "amount": "300"
            "currentState": "**WAITING_FOR_QUOTE_ACCEPTANCE**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",
            "fxQuotesResponse": {
                <Same as the previous responses>
            },
            "fxQuotesResponseSource": "PayeeFSP",
            "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
            "quoteResponse": {
                "body": {
                    "transferAmount": {
                        "currency": "TZS",
                        "amount": "48000"
                    },
                    "payeeReceiveAmount": {
                        "currency": "TZS",
                        "amount": "44000"
                    },
                    "payeeFspFee": {
                        "currency": "TZS",
                        "amount": "4000"
                    },
                    "expiration": "$payeeQuoteExpiration",
                    "ilpPacket": "
                        <This is encoded transaction object. It contains data from quote request and response.>
                    ",
                    "condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks"
                },
                "headers": {}
            },
            "quoteResponseSource": "PayeeFSP",
        }
    end note
PayerCC->PayerCBS:Here's the quote
PayerCBS->A1:Hi, $senderName: I can do the transfer.\nIt'll cost you 55 BWP(10000 TZS) in fees\nand Yaro will receive\n44000 TZS.\nLet me know if you want to go ahead
A1->PayerCBS:Great! Yes please, go ahead

PayerCBS->PayerCC: Payer has accepted the terms please proceed

== Transfer Phase ==

PayerCC->D1: Proceed with the transfer\nPUT /transfers
note right of PayerCC
{
    "acceptQuote": true
}
end note

D1->D1:First, activate the conversion
D1->>S1:Please confirm your part of the transfer
note right of D1
**POST /fxTransfers**
{
    "commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",
    "determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "initiatingFsp": "PayerFSP",
    "counterPartyFsp": "FDH_FX",
    "amountType": "SEND",
    "sourceAmount": {
        "currency": "BWP",
        "amount": "300"
    },
    "targetAmount": {
        "currency": "TZS",
        "amount": "48000"
    },
    "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"
}
end note
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D2
S1->S1:OK, so this is an FX confirmation.
S1->S1: Is there any transfer with determiningTransactionId?\nNo, it does'nt.
S1->S1: Liquidity check and reserve on Payer DFSP's account
note over S1
Reservations:

**PayerFSP has a reservation of 300 BWP**
end note
S1->>FXP:Please confirm the currency conversion part of the transfer\n** POST /fxTransfers**
activate FXP
FXP- ->>S1:202 I'll get back to you
deactivate S1
FXP->FXPBackend:Reserve funds for FX conversion
note right of FXP
**POST /fxTransfers**
{
    "homeTransactionId": "string",
    "commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc",
    "determiningTransferId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "initiatingFsp": "PayerFSP",
    "counterPartyFsp": "FDH_FX",
    "amountType": "SEND",
    "sourceAmount": {
        "currency": "BWP",
        "amount": "300"
    },
    "targetAmount": {
        "currency": "TZS",
        "amount": "48000"
    },
    "condition": "GRzLaTP7DJ9t4P-a_BA0WA9wzzlsugf00-Tn6kESAfM"
}
end note
FXPBackend- ->FXP:Success
note right of FXP
{
  "homeTransactionId": "string",
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "RESERVED"
}
end note
FXP->>S1:Confirmed. Here's the fulfilment
note left of FXP
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
  "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42",
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "RESERVED"
}
end note
activate S1
S1- ->>FXP:200 Gotcha
deactivate FXP
S1->S1:Check fulfilment matches and cancel if not.
alt Conversion failed
S1->FXP:Sorry. Conversion failed
note over FXP
**PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "ABORTED"
}
end note
activate FXP
FXP- ->S1:Acknowledged
FXP->FXPBackend:Remove any reservations or obligations
note right of FXP
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
  "completedTimestamp": "2021-08-25T14:17:08.175+01:00",
  "conversionState": "ABORTED"
}
end note
FXPBackend- ->FXP:Ok
deactivate FXP

S1->>D1:Sorry. Conversion failed
note over S1
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc/error**
{
    "errorCode": "9999"
    , "errorDescription": "Whatever the error was"
}
end note
else Conversion succeeded
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**

end
activate D1
D1- ->S1:200 Gotcha
deactivate S1

    D1->D1:OK, so that's all right\nNow I can send the transfer itself

D1->S1:Please do the transfer **POST /transfers**
note over D1
POST /transfers
{
    "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "payeeFsp": "PayeeFSP",
    "payerFsp": "PayerFSP",
    "amount": {
        "currency": "TZS",
        "amount": "48000"
    },
    "ilpPacket": "<Encoded transaction object>",
    "condition": "HOr22-H3AfTDHrSkPjJtVPRdKouuMkDXTR4ejlQa8Ks",
    "expiration": "2016-05-24T08:38:08.699-04:00"
}
end note
activate S1
S1- ->D1:202 I'll get back to you
deactivate D1
S1->S1:Is there a dependent transfer? Yes
S1->S1:Perform liquidity check and reserve funds\nagainst creditor party to dependent transfer
note over S1
Reservations:

PayerFSP has a reservation of 300 BWP
**FDH_FX has a reservation of 48000 TZS**
end note

S1->D2:Please do the transfer\n**POST /transfers**
activate D2
D2- ->S1:202 I'll get back to you
deactivate S1
D2->D2:Let me check that the terms of the dependent transfer\nare the same as the ones I agreed to\nand that the fulfilment and condition match

D2->PayeeCC:Please credit Yaro's account with 44000 TZS
note right of D2
**POST /transfers**
{
  "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
  "amount": "48000",
  "currency": "TZS",
  "amountType": "SEND",
  "from": {
    "dateOfBirth": "1966-06-16",
    "displayName": "$senderName",
    "firstName": "$senderFirstName",
    "middleName": "$senderMiddleName",
    "lastName": ""
    "fspId": "PayerFSP",
    "idType": "MSISDN",
    "idValue": "26787654321"
  },
  "to": {
    "dateOfBirth": "1966-06-16",
    "displayName": "Yaro",
    "firstName": "Yaro",
    "middleName": "",
    "lastName": "",
    "fspId": "PayeeFSP",
    "idType": "MSISDN",
    "idValue": "2551234567890"
  },
  "note": "string",
  "quote": {
    "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
    "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451",
    "payeeFspFeeAmount": "4000",
    "payeeFspFeeAmountCurrency": "TZS",
    "payeeReceiveAmount": "44000",
    "payeeReceiveAmountCurrency": "TZS",
    "transferAmount": "48000",
    "transferAmountCurrency": "TZS"
    "expiration": "2021-08-25T14:17:09.663+01:00"
  },
  "transactionType": "TRANSFER",
  "ilpPacket": {
    "data": <decoded ilpPacket>
  }
}
end note

PayeeCC- ->D2:Done
note right of D2
{
    "homeTransactionId": "string",
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    **Note: fulfilment is optional: SDK will create if not found**
    "transferState": "COMMITTED"
}
end note

D2->>S1:Transfer is confirmed, here's the fulfilment
note over D2
**PUT /transfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    "transferState": "COMMITTED"
}
end note
activate S1
S1- ->>D2:200 Gotcha
deactivate D2
S1->S1:Is there a dependent transfer?\nYes, there is.
S1->S1:Is this dependency against the debtor party to the transfer?\nYes, it is.
S1->S1:Create an obligation from the debtor party to the party named in the dependency (the FXP)
S1->S1:Is the transfer denominated in the currency of the payee receive amount?\nYes, it is.
S1->S1:Create an obligation from the party named in the dependency\nto the creditor party for the transfer
S1->>FXP:The transfer succeeded.\nYou can clear it in your ledgers
note over S1
**PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
    "transferState": "COMMITTED"
}
end note
activate FXP
FXP->FXP:Let's just check: does this match the stuff I sent?
FXP->FXP:It does. Great. I'll clear the conversion
FXP- ->>S1:200 Gotcha
deactivate FXP
note over S1
    Ledger positions:
    PayerFSP has a debit of 300 BWP
    FDH_FX has a credit of 300 BWP
    FDH_FX has a debit of 48000 TZS
    PayeeFSP has a credit of 48000 TZS
end note
S1->>D1:Transfer is complete\n**PUT /transfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
activate D1
D1- ->S1:200 Gotcha
deactivate S1
    D1- ->PayerCC:Transfer was completed successfully
    note right of PayerCC
    {
        "transferId": "d9ce59d4-3598-4396-8630-581bb0551451",
            "homeTransactionId": "string",
            "from": {
                "dateOfBirth": "1966-06-16",
                "displayName": "$senderName",
                "firstName": "$senderFirstName",
                "middleName": "$senderMiddleName",
                "lastName": ""
                "fspId": "PayerFSP",
                "idType": "MSISDN",
                "idValue": "26787654321"
            },
            "to": {
                "type": "CONSUMER",
                "idType": "MSISDN",
                "idValue": "2551234567890",
                "displayName": "Yaro",
                "firstName": "Yaro",
                "middleName": "",
                "lastName": ""
                "dateOfBirth": "1966-06-16",

                "fspId": "PayeeFSP"
                "supportedCurrencies": [ "TZS" ]
                "kycInformation": "<Encrypted KYC Data>"
            },
            "amountType": "SEND",
            "currency": "BWP",
            "amount": "300"
            "currentState": "**COMPLETED**",
            "getPartiesResponse": {
                <Same as the previous responses>
            },
            "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9",
            "fxQuotesResponse": {
                <Same as the previous responses>
            },
            "fxQuotesResponseSource": "PayeeFSP",
            "quoteId": "382987a8-75ce-4037-b500-c475e08c1727",
            "quoteResponse": {
                <Same as the previous responses>
            },
            "quoteResponseSource": "PayeeFSP",
            "fulfil": {
                "body": {
                    "completedTimestamp": "2021-08-25T14:17:08.227+01:00",
                    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s",
                    "transferState": "COMMITTED"
                },
                "headers": {}
            },
        }
    end note

PayerCC->PayerCBS:Transfer was completed successfully
PayerCBS->PayerCBS:Commit the funds in my ledgers
PayerCBS->A1:Your transfer is successful
deactivate D1

@enduml

PlantUML version 1.2022.6(Tue Jun 21 18:34:49 BST 2022)
(GPLV2 source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>