<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="8455px" preserveAspectRatio="none" style="width:2959px;height:8455px;background:#FFFFFF;" version="1.1" viewBox="0 0 2959 8455" width="2959px" zoomAndPan="magnify"><defs/><g><rect height="45.2188" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="394" x="1278.75" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="374" x="1288.75" y="29.5332">Cross Currency Payment using Mojaloop FX APIs POC</text><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="384" x="1283.75" y="47.1426">Payer DFSP requests conversion with RECEIVE amount</text><rect fill="#ADD8E6" height="8387" style="stroke:#181818;stroke-width:0.5;" width="403.5" x="289.5" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="76" x="453.25" y="75.7139">Payer DFSP</text><rect fill="#FFFFE0" height="8387" style="stroke:#181818;stroke-width:0.5;" width="119" x="1843" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113" x="1846" y="75.7139">Discovery Service</text><rect fill="#DDDDDD" height="8387" style="stroke:#181818;stroke-width:0.5;" width="432.5" x="1964" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="74" x="2143.25" y="75.7139">FX provider</text><rect fill="#ADD8E6" height="8387" style="stroke:#181818;stroke-width:0.5;" width="507" x="2398.5" y="62.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="79" x="2612.5" y="75.7139">Payee DFSP</text><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="229.4531"/><rect fill="#FFFFFF" height="227.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="949"/><rect fill="#FFFFFF" height="698.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="1267.8672"/><rect fill="#FFFFFF" height="577.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="3010.1563"/><rect fill="#FFFFFF" height="731.25" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="4539.2266"/><rect fill="#FFFFFF" height="799.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="6140.0781"/><rect fill="#FFFFFF" height="104.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="8246.5547"/><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="320.5078"/><rect fill="#FFFFFF" height="339.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="639.375"/><rect fill="#FFFFFF" height="881.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="1146.4609"/><rect fill="#FFFFFF" height="879.5781" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="2160.9297"/><rect fill="#FFFFFF" height="438.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="3242.6172"/><rect fill="#FFFFFF" height="107.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="4462.1719"/><rect fill="#FFFFFF" height="604.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="4958.5"/><rect fill="#FFFFFF" height="687.6797" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="5654.0469"/><rect fill="#FFFFFF" height="773.7109" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="6431.7813"/><rect fill="#FFFFFF" height="891.3047" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="7385.6016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1897.5" y="381.2109"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1897.5" y="1207.1641"/><rect fill="#FFFFFF" height="842.1719" style="stroke:#181818;stroke-width:1.0;" width="10" x="2003" y="3650.3516"/><rect fill="#FFFFFF" height="269.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="2003" y="5532.6406"/><rect fill="#FFFFFF" height="201.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2003" y="5901.5625"/><rect fill="#FFFFFF" height="235.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2003" y="7862.9297"/><rect fill="#FFFFFF" height="460.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="2437.5" y="441.9141"/><rect fill="#FFFFFF" height="966.2813" style="stroke:#181818;stroke-width:1.0;" width="10" x="2437.5" y="1997.1719"/><rect fill="#FFFFFF" height="358.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="2437.5" y="7175.1406"/><rect height="1478.7188" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1961.5" x="441" y="3098.8594"/><rect height="451.5156" style="stroke:#000000;stroke-width:1.5;fill:none;" width="1691" x="599" y="5860.8594"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="28" x2="28" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="334.5" x2="334.5" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="649" x2="649" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1327.5" x2="1327.5" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1902.5" x2="1902.5" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2008" x2="2008" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2334.5" x2="2334.5" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2442.5" x2="2442.5" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2858.5" x2="2858.5" y1="150.3984" y2="8368.6094"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="2929.5" x2="2929.5" y1="150.3984" y2="8368.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="147.3223">Keeya</text><ellipse cx="28" cy="81.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,89.2891 L28,116.2891 M15,97.2891 L41,97.2891 M28,116.2891 L15,131.2891 M28,116.2891 L41,131.2891 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="5" y="8382.1426">Keeya</text><ellipse cx="28" cy="8393.7188" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M28,8401.7188 L28,8428.7188 M15,8409.7188 L41,8409.7188 M28,8428.7188 L15,8443.7188 M28,8428.7188 L41,8443.7188 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="293.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="300.5" y="139.3223">Payer CBS</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83" x="293.5" y="8367.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69" x="300.5" y="8389.1426">Payer CBS</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="609" y="82.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="630.5" y="104.1035">Payer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="620.5" y="121.7129">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="616" y="139.3223">Connector</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="609" y="8367.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37" x="630.5" y="8389.1426">Payer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="620.5" y="8406.752">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="616" y="8424.3613">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1270.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1277.5" y="139.3223">Mojaloop Switch</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="1270.5" y="8367.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="1277.5" y="8389.1426">Mojaloop Switch</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="1859.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1866.5" y="139.3223">ALS Oracle</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="1859.5" y="8367.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="1866.5" y="8389.1426">ALS Oracle</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1968" y="100.1797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1995" y="121.7129">FXP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1975" y="139.3223">Connector</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="1968" y="8367.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="26" x="1995" y="8389.1426">FXP</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="1975" y="8406.752">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2277.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2284.5" y="139.3223">Backend FX API</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="115" x="2277.5" y="8367.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="2284.5" y="8389.1426">Backend FX API</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2402.5" y="82.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2422.5" y="104.1035">Payee</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2414" y="121.7129">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2409.5" y="139.3223">Connector</text><rect fill="#E2E2F0" height="66.8281" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="80" x="2402.5" y="8367.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="40" x="2422.5" y="8389.1426">Payee</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="2414" y="8406.752">Mojaloop</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66" x="2409.5" y="8424.3613">Connector</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="2815.5" y="117.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="2822.5" y="139.3223">Payee CBS</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="86" x="2815.5" y="8367.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="2822.5" y="8389.1426">Payee CBS</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="2911.5" y="147.3223">Yaro</text><ellipse cx="2929.5" cy="81.2891" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M2929.5,89.2891 L2929.5,116.2891 M2916.5,97.2891 L2942.5,97.2891 M2929.5,116.2891 L2916.5,131.2891 M2929.5,116.2891 L2942.5,131.2891 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="30" x="2911.5" y="8382.1426">Yaro</text><ellipse cx="2929.5" cy="8393.7188" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M2929.5,8401.7188 L2929.5,8428.7188 M2916.5,8409.7188 L2942.5,8409.7188 M2929.5,8428.7188 L2916.5,8443.7188 M2929.5,8428.7188 L2942.5,8443.7188 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#FFFFFF" height="121.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="229.4531"/><rect fill="#FFFFFF" height="227.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="949"/><rect fill="#FFFFFF" height="698.9531" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="1267.8672"/><rect fill="#FFFFFF" height="577.1406" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="3010.1563"/><rect fill="#FFFFFF" height="731.25" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="4539.2266"/><rect fill="#FFFFFF" height="799.8984" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="6140.0781"/><rect fill="#FFFFFF" height="104.0547" style="stroke:#181818;stroke-width:1.0;" width="10" x="644" y="8246.5547"/><rect fill="#FFFFFF" height="255.8125" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="320.5078"/><rect fill="#FFFFFF" height="339.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="639.375"/><rect fill="#FFFFFF" height="881.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="1146.4609"/><rect fill="#FFFFFF" height="879.5781" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="2160.9297"/><rect fill="#FFFFFF" height="438.0859" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="3242.6172"/><rect fill="#FFFFFF" height="107.4063" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="4462.1719"/><rect fill="#FFFFFF" height="604.4922" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="4958.5"/><rect fill="#FFFFFF" height="687.6797" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="5654.0469"/><rect fill="#FFFFFF" height="773.7109" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="6431.7813"/><rect fill="#FFFFFF" height="891.3047" style="stroke:#181818;stroke-width:1.0;" width="10" x="1323" y="7385.6016"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1897.5" y="381.2109"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1897.5" y="1207.1641"/><rect fill="#FFFFFF" height="842.1719" style="stroke:#181818;stroke-width:1.0;" width="10" x="2003" y="3650.3516"/><rect fill="#FFFFFF" height="269.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="2003" y="5532.6406"/><rect fill="#FFFFFF" height="201.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2003" y="5901.5625"/><rect fill="#FFFFFF" height="235.1641" style="stroke:#181818;stroke-width:1.0;" width="10" x="2003" y="7862.9297"/><rect fill="#FFFFFF" height="460.3828" style="stroke:#181818;stroke-width:1.0;" width="10" x="2437.5" y="441.9141"/><rect fill="#FFFFFF" height="966.2813" style="stroke:#181818;stroke-width:1.0;" width="10" x="2437.5" y="1997.1719"/><rect fill="#FFFFFF" height="358.9219" style="stroke:#181818;stroke-width:1.0;" width="10" x="2437.5" y="7175.1406"/><polygon fill="#181818" points="323,195.1016,333,199.1016,323,203.1016,327,199.1016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="28" x2="329" y1="199.1016" y2="199.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="35" y="186.0693">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="46" y="177.8936">I'd like to pay Yaro</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="46" y="194.2451">50000 TZS for his latest book, please</text><polygon fill="#181818" points="632,225.4531,642,229.4531,632,233.4531,636,229.4531" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="335" x2="638" y1="229.4531" y2="229.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="342" y="224.5967">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="353" y="224.5967">Initiate remittance transfer</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2952.5" x="0" y="258.6289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="258.6289" y2="258.6289"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="261.6289" y2="261.6289"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="122" x="1415.25" y="247.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104" x="1421.25" y="264.9482">Discovery Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="320.5078" y2="316.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="320.5078" y2="324.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="320.5078" y2="320.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="661" y="307.4756">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="672" y="299.2998">I want to send to MSISDN 2551234567890</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="672" y="315.6514">GET /parties/MSISDN/2551234567890</text><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="350.8594" y2="346.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="350.8594" y2="354.8594"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="1322" y1="350.8594" y2="350.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="666" y="346.0029">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="677" y="346.0029">202 I'll get back to you</text><polygon fill="#181818" points="1885.5,377.2109,1895.5,381.2109,1885.5,385.2109,1889.5,381.2109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1891.5" y1="381.2109" y2="381.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1340" y="376.3545">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="1351" y="376.3545">Who owns MSISDN 2551234567890?</text><polygon fill="#181818" points="1344,407.5625,1334,411.5625,1344,415.5625,1340,411.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1338" x2="1901.5" y1="411.5625" y2="411.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1350" y="406.7061">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="1361" y="406.7061">It's PayeeFSP</text><line style="stroke:#181818;stroke-width:1.0;" x1="2435.5" x2="2425.5" y1="441.9141" y2="437.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="2435.5" x2="2425.5" y1="441.9141" y2="445.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2436.5" y1="441.9141" y2="441.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1340" y="437.0576">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="1351" y="437.0576">Do you own MSISDN 2551234567890?</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="472.2656" y2="468.2656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="472.2656" y2="476.2656"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333" x2="2436.5" y1="472.2656" y2="472.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1350" y="467.4092">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1361" y="467.4092">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2447.5" x2="2489.5" y1="502.6172" y2="502.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="2489.5" x2="2489.5" y1="502.6172" y2="515.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="2448.5" x2="2489.5" y1="515.6172" y2="515.6172"/><polygon fill="#181818" points="2458.5,511.6172,2448.5,515.6172,2458.5,519.6172,2454.5,515.6172" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="2454.5" y="497.7607">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="2465.5" y="497.7607">Check Sanction list status &amp; trigger a refresh of the status</text><polygon fill="#181818" points="2846.5,541.9688,2856.5,545.9688,2846.5,549.9688,2850.5,545.9688" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2447.5" x2="2852.5" y1="545.9688" y2="545.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2454.5" y="541.1123">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="2472.5" y="541.1123">Check account and get currency type</text><polygon fill="#181818" points="2458.5,572.3203,2448.5,576.3203,2458.5,580.3203,2454.5,576.3203" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2452.5" x2="2857.5" y1="576.3203" y2="576.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2464.5" y="571.4639">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="2482.5" y="571.4639">Result</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="639.375" y2="635.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="639.375" y2="643.375"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2436.5" y1="639.375" y2="639.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1350" y="618.167">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="1368" y="601.8154">Yes, it's Yaro. He can receive in TZS,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="1372" y="618.167">and I can convert from BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="1368" y="634.5186">PUT /parties/MSISDN/2551234567890</text><path d="M2307,652.375 L2307,874.375 L2577,874.375 L2577,662.375 L2567,652.375 L2307,652.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2567,652.375 L2567,662.375 L2577,662.375 L2567,652.375 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="2313" y="670.8701">PUT /parties</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2313" y="687.2217"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="2313" y="703.5732">"party": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="2313" y="719.9248">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="2313" y="736.2764">"partyIdType": "MSISDN",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="2313" y="752.6279">"partyIdentifier": "2551234567890"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2313" y="768.9795">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="2313" y="785.3311">"name": "Yaro",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137" x="2313" y="801.6826">"supportedCurrencies":[</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="2313" y="818.0342">"TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2313" y="834.3857">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="2313" y="850.7373">"kycInformation": "&lt;Encrypted KYC Data&gt;"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2313" y="867.0889">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2440.5" x2="2430.5" y1="902.2969" y2="898.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="2440.5" x2="2430.5" y1="902.2969" y2="906.2969"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333" x2="2441.5" y1="902.2969" y2="902.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="897.4404">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1358" y="897.4404">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="949" y2="945"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="949" y2="953"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="949" y2="949"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="671" y="935.9678">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="689" y="927.792">Yes, it's Yaro. He can receive in TZS</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="227" x="689" y="944.1436">PUT /parties/MSISDN/2551234567890</text><line style="stroke:#181818;stroke-width:1.0;" x1="1326" x2="1316" y1="979.3516" y2="975.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326" x2="1316" y1="979.3516" y2="983.3516"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654" x2="1327" y1="979.3516" y2="979.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="974.4951">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="679" y="974.4951">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="696" y1="1042.4063" y2="1042.4063"/><line style="stroke:#181818;stroke-width:1.0;" x1="696" x2="696" y1="1042.4063" y2="1055.4063"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="696" y1="1055.4063" y2="1055.4063"/><polygon fill="#181818" points="665,1051.4063,655,1055.4063,665,1059.4063,661,1055.4063" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="1021.1982">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238" x="679" y="1004.8467">I will need to perform currency conversion</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="313" x="683" y="1021.1982">but first I need to calculate how much currency I need.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322" x="683" y="1037.5498">Let me find a currency conversion provider before I start.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2952.5" x="0" y="1084.582"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="1084.582" y2="1084.582"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="1087.582" y2="1087.582"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="124" x="1414.25" y="1073.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="106" x="1420.25" y="1090.9014">Get FX providers</text><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="1146.4609" y2="1142.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="1146.4609" y2="1150.4609"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="1146.4609" y2="1146.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="1133.4287">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="679" y="1125.2529">What FXPs do you know about?</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="115" x="679" y="1141.6045">GET /services/FXP</text><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="1176.8125" y2="1172.8125"/><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="1176.8125" y2="1180.8125"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="1322" y1="1176.8125" y2="1176.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="666" y="1171.9561">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="684" y="1171.9561">202 I'll get back to you</text><polygon fill="#181818" points="1885.5,1203.1641,1895.5,1207.1641,1885.5,1211.1641,1889.5,1207.1641" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1891.5" y1="1207.1641" y2="1207.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="1202.3076">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1358" y="1202.3076">What FXPs do you know about?</text><polygon fill="#181818" points="1344,1233.5156,1334,1237.5156,1344,1241.5156,1340,1237.5156" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1338" x2="1901.5" y1="1237.5156" y2="1237.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1350" y="1232.6592">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="1368" y="1232.6592">FDH FX</text><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="1267.8672" y2="1263.8672"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="1267.8672" y2="1271.8672"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="1267.8672" y2="1267.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="671" y="1263.0107">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208" x="689" y="1263.0107">Here are the available FXPs:FDH FX</text><path d="M1263,1280.8672 L1263,1371.8672 L1392,1371.8672 L1392,1290.8672 L1382,1280.8672 L1263,1280.8672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1382,1280.8672 L1382,1290.8672 L1392,1290.8672 L1382,1280.8672 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1269" y="1299.3623">PUT /services/FXP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1269" y="1315.7139"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1269" y="1332.0654">"fxpProviders": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="1269" y="1348.417">"FDH_FX"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1269" y="1364.7686">]</text><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="1399.9766" y2="1395.9766"/><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="1399.9766" y2="1403.9766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654" x2="1322" y1="1399.9766" y2="1399.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="1395.1201">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="679" y="1395.1201">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="696" y1="1430.3281" y2="1430.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="696" x2="696" y1="1430.3281" y2="1443.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="696" y1="1443.3281" y2="1443.3281"/><polygon fill="#181818" points="665,1439.3281,655,1443.3281,665,1447.3281,661,1443.3281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="1425.4717">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="337" x="679" y="1425.4717">I need to get a quote for the transfer from the Payee DFSP</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2952.5" x="0" y="1472.5039"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="1472.5039" y2="1472.5039"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="1475.5039" y2="1475.5039"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="131" x="1410.75" y="1461.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="113" x="1416.75" y="1478.8232">Agreement Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="1537.3828" y2="1533.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="1537.3828" y2="1541.3828"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="1537.3828" y2="1537.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="1524.3506">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="679" y="1516.1748">Please quote for a payment of 50000 TZS.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="679" y="1532.5264">POST /quotes</text><path d="M419,1500.6797 L419,1542.6797 L639,1542.6797 L639,1510.6797 L629,1500.6797 L419,1500.6797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M629,1500.6797 L629,1510.6797 L639,1510.6797 L629,1500.6797 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="425" y="1519.1748">This is a standard Mojaloop quote.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="425" y="1535.5264">No development required</text><path d="M457,1553.3828 L457,1939.3828 L840,1939.3828 L840,1563.3828 L830,1553.3828 L457,1553.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M830,1553.3828 L830,1563.3828 L840,1563.3828 L830,1553.3828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="463" y="1571.8779">POST /quotes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="463" y="1588.2295">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="310" x="479" y="1604.5811">"quoteId": "382987a8-75ce-4037-b500-c475e08c1727"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="479" y="1620.9326">,"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="479" y="1637.2842">, "payee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="495" y="1653.6357">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="495" y="1669.9873">"partyIdType": "MSISDN"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="495" y="1686.3389">, "partyIdentifier": "2551234567890"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="495" y="1702.6904">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="479" y="1719.042">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="479" y="1735.3936">, "payer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="495" y="1751.7451">"partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="511" y="1768.0967">"partyIdType": "MSISDN"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="511" y="1784.4482">, "partyIdentifier": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="495" y="1800.7998">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="479" y="1817.1514">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="479" y="1833.5029">"amountType":</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="67" x="568" y="1833.5029">"RECEIVE"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="479" y="1849.8545">, "amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="495" y="1866.2061">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="495" y="1882.5576">, "amount": "50000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="479" y="1898.9092">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="479" y="1915.2607">, "validity": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="463" y="1931.6123">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="1966.8203" y2="1962.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="1966.8203" y2="1970.8203"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="1322" y1="1966.8203" y2="1966.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="666" y="1961.9639">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="684" y="1961.9639">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2435.5" x2="2425.5" y1="1997.1719" y2="1993.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="2435.5" x2="2425.5" y1="1997.1719" y2="2001.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2436.5" y1="1997.1719" y2="1997.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="1992.3154">26</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="86" x="1358" y="1992.3154">POST /quotes</text><line style="stroke:#181818;stroke-width:1.0;" x1="1329" x2="1339" y1="2027.5234" y2="2023.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1329" x2="1339" y1="2027.5234" y2="2031.5234"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1328" x2="2436.5" y1="2027.5234" y2="2027.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1345" y="2022.667">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1363" y="2022.667">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2447.5" x2="2489.5" y1="2057.875" y2="2057.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="2489.5" x2="2489.5" y1="2057.875" y2="2070.875"/><line style="stroke:#181818;stroke-width:1.0;" x1="2448.5" x2="2489.5" y1="2070.875" y2="2070.875"/><polygon fill="#181818" points="2458.5,2066.875,2448.5,2070.875,2458.5,2074.875,2454.5,2070.875" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2454.5" y="2053.0186">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="229" x="2472.5" y="2053.0186">Let me get a quote to do the conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="2447.5" x2="2489.5" y1="2117.5781" y2="2117.5781"/><line style="stroke:#181818;stroke-width:1.0;" x1="2489.5" x2="2489.5" y1="2117.5781" y2="2130.5781"/><line style="stroke:#181818;stroke-width:1.0;" x1="2448.5" x2="2489.5" y1="2130.5781" y2="2130.5781"/><polygon fill="#181818" points="2458.5,2126.5781,2448.5,2130.5781,2458.5,2134.5781,2454.5,2130.5781" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2454.5" y="2104.5459">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="219" x="2472.5" y="2096.3701">OK, so I will charge 4000 TZS for this.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="374" x="2472.5" y="2112.7217">Now I create terms of the transfer and sign the transaction object</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="2160.9297" y2="2156.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="2160.9297" y2="2164.9297"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2436.5" y1="2160.9297" y2="2160.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1350" y="2156.0732">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1368" y="2156.0732">Here's the signed quote</text><path d="M2228,2173.9297 L2228,2935.9297 L2656,2935.9297 L2656,2183.9297 L2646,2173.9297 L2228,2173.9297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2646,2173.9297 L2646,2183.9297 L2656,2183.9297 L2646,2173.9297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="318" x="2234" y="2192.4248">put /quotes/382987a8-75ce-4037-b500-c475e08c1727</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2234" y="2208.7764"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2234" y="2225.1279">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="2250" y="2241.4795">"transferAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2266" y="2257.8311">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2266" y="2274.1826">, "amount": "54000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2250" y="2290.5342">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="2250" y="2306.8857">, "payeeReceiveAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2266" y="2323.2373">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2266" y="2339.5889">, "amount": "50000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="2250" y="2355.9404">},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2250" y="2372.292">"payeeFspFee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2266" y="2388.6436">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="2266" y="2404.9951">, "amount": "4000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2250" y="2421.3467">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="2250" y="2437.6982">, "expiration": "2021-08-25T14:17:09.663+01:00</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="2250" y="2454.0498">, "transaction": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="2266" y="2470.4014">, "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="2266" y="2486.7529">, "quoteId": "382987a8-75ce-4037-b500-c475e08c1727"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="2266" y="2503.1045">, "payee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="2282" y="2519.4561">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="2282" y="2535.8076">, "partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="2298" y="2552.1592">"partyIdType": "MSISDN"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="2298" y="2568.5107">, "partyIdentifier": "2551234567890"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2282" y="2584.8623">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2266" y="2601.2139">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="2266" y="2617.5654">, "payer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="2282" y="2633.917">"fspId": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="2282" y="2650.2686">, "partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="2298" y="2666.6201">"partyIdType": "MSISDN"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="2298" y="2682.9717">, "partyIdentifier": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2282" y="2699.3232">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2266" y="2715.6748">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="2266" y="2732.0264">, "amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2282" y="2748.3779">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="2282" y="2764.7295">"amount": "54000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2266" y="2781.0811">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="2266" y="2797.4326">, "payeeReceiveAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="2282" y="2813.7842">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="2282" y="2830.1357">, "amount": "50000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2266" y="2846.4873">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="133" x="2266" y="2862.8389">, "converter": "PAYER"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2250" y="2879.1904">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="391" x="2250" y="2895.542">, "condition": "BfNFPRgfKF8Ke9kpoNAagmcI4/Hya5o/rq9/fq97ZiA="</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2234" y="2911.8936">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2234" y="2928.2451"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="2440.5" x2="2430.5" y1="2963.4531" y2="2959.4531"/><line style="stroke:#181818;stroke-width:1.0;" x1="2440.5" x2="2430.5" y1="2963.4531" y2="2967.4531"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333" x2="2441.5" y1="2963.4531" y2="2963.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="2958.5967">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1358" y="2958.5967">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="3010.1563" y2="3006.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="3010.1563" y2="3014.1563"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="3010.1563" y2="3010.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="671" y="2997.124">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="689" y="2988.9482">Here's the signed quote</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="324" x="689" y="3005.2998">PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727</text><line style="stroke:#181818;stroke-width:1.0;" x1="1326" x2="1316" y1="3040.5078" y2="3036.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326" x2="1316" y1="3040.5078" y2="3044.5078"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654" x2="1327" y1="3040.5078" y2="3040.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="3035.6514">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="679" y="3035.6514">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="696" y1="3070.8594" y2="3070.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="696" x2="696" y1="3070.8594" y2="3083.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="696" y1="3083.8594" y2="3083.8594"/><polygon fill="#181818" points="665,3079.8594,655,3083.8594,665,3087.8594,661,3083.8594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="3066.0029">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="637" x="679" y="3066.0029">OK, I can see that there are going to be 4000 TZS in charges and I need send 54000 TZS to make this transfer</text><path d="M441,3098.8594 L618,3098.8594 L618,3107.2109 L608,3117.2109 L441,3117.2109 L441,3098.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="1478.7188" style="stroke:#000000;stroke-width:1.5;" width="1961.5" x="441" y="3098.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="456" y="3113.3545">Currency Conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="696" y1="3144.5625" y2="3144.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="696" x2="696" y1="3144.5625" y2="3157.5625"/><line style="stroke:#181818;stroke-width:1.0;" x1="649" x2="696" y1="3157.5625" y2="3157.5625"/><polygon fill="#181818" points="659,3153.5625,649,3157.5625,659,3161.5625,655,3157.5625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="3139.7061">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="278" x="679" y="3139.7061">Now I need to find out what the exchange rate is</text><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="696" y1="3182.9141" y2="3182.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="696" x2="696" y1="3182.9141" y2="3195.9141"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="696" y1="3195.9141" y2="3195.9141"/><polygon fill="#181818" points="665,3191.9141,655,3195.9141,665,3199.9141,661,3195.9141" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="3178.0576">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234" x="679" y="3178.0576">I'll ask FDH FX to perform my conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="3242.6172" y2="3238.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="3242.6172" y2="3246.6172"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="3242.6172" y2="3242.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="3229.585">37</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="679" y="3221.4092">Here is the initial version of the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="679" y="3237.7607">Please quote me for the currency conversion.</text><path d="M451,3255.6172 L451,3559.6172 L847,3559.6172 L847,3265.6172 L837,3255.6172 L451,3255.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M837,3255.6172 L837,3265.6172 L847,3265.6172 L837,3255.6172 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="90" x="457" y="3274.1123">post /fxQuotes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="457" y="3290.4639">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="375" x="457" y="3306.8154">"conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="457" y="3323.167">, "conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="327" x="473" y="3339.5186">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="473" y="3355.8701">, "counterPartyFsp": "FDH_FX"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="473" y="3372.2217">, "amountType": "RECEIVE"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="473" y="3388.5732">, "sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="489" y="3404.9248">"currency": "BWP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="473" y="3421.2764">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="473" y="3437.6279">, "targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="489" y="3453.9795">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="489" y="3470.3311">, "amount": "54000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="473" y="3486.6826">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="473" y="3503.0342">, "validity": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="457" y="3519.3857">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="457" y="3535.7373">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="457" y="3552.0889"> </text><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="3587.2969" y2="3583.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="3587.2969" y2="3591.2969"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="1322" y1="3587.2969" y2="3587.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="666" y="3582.4404">38</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="684" y="3582.4404">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2001" x2="1991" y1="3650.3516" y2="3646.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="2001" x2="1991" y1="3650.3516" y2="3654.3516"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2002" y1="3650.3516" y2="3650.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="3629.1436">39</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="228" x="1358" y="3612.792">Here is the initial version of the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="1358" y="3629.1436">Please quote me for the currency conversion.</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="94" x="1358" y="3645.4951">POST /fxQuote</text><line style="stroke:#181818;stroke-width:1.0;" x1="1329" x2="1339" y1="3680.7031" y2="3676.7031"/><line style="stroke:#181818;stroke-width:1.0;" x1="1329" x2="1339" y1="3680.7031" y2="3684.7031"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1328" x2="2002" y1="3680.7031" y2="3680.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1345" y="3675.8467">40</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1363" y="3675.8467">202 I'll get back to you</text><polygon fill="#181818" points="2323,3707.0547,2333,3711.0547,2323,3715.0547,2327,3711.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2013" x2="2329" y1="3711.0547" y2="3711.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2020" y="3706.1982">41</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="87" x="2038" y="3706.1982">Lookup FX rate</text><polygon fill="#181818" points="2024,3737.4063,2014,3741.4063,2024,3745.4063,2020,3741.4063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2018" x2="2334" y1="3741.4063" y2="3741.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2030" y="3736.5498">42</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="2048" y="3736.5498">Return FX rate</text><path d="M1731,3754.4063 L1731,4434.4063 L2284,4434.4063 L2284,3764.4063 L2274,3754.4063 L1731,3754.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2274,3754.4063 L2274,3764.4063 L2284,3764.4063 L2274,3754.4063 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="315" x="1737" y="3772.9014">I will add a 33 BWP fee for undertaking the conversion.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="302" x="1737" y="3789.2529">Now I'll set an expiry time, sign the quotation object,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="394" x="1737" y="3805.6045">create an ILP prepare packet and return it in the intermediary object.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1737" y="3821.9561"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="416" x="1737" y="3838.3076">NOTE: the ILP prepare packet contains the following items, all encoded:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="303" x="1737" y="3854.6592">- The amount being sent (i.e. in the source currency)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1737" y="3871.0107">- An expiry time</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85" x="1737" y="3887.3623">- The condition</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="1737" y="3903.7139">- The name of the FXP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="214" x="1737" y="3920.0654">- The content of the conversion terms</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1737" y="3936.417"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="329" x="1741" y="3952.7686">PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1737" y="3969.1201">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="516" x="1753" y="3985.4717">"condition": "bdbcf517cfc7e474392935781cc14043602e53dc2e8e8452826c5241dfd5e7ab"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1753" y="4001.8232">, "conversionTerms": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="323" x="1769" y="4018.1748">"conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166" x="1769" y="4034.5264">, "initiatingFsp": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1769" y="4050.8779">"sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="1785" y="4067.2295">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="1785" y="4083.5811">"amount": "330"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1769" y="4099.9326">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1769" y="4116.2842">, "targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110" x="1785" y="4132.6357">"currency": "TZS"",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1785" y="4148.9873">"amount": "54000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1769" y="4165.3389">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="1769" y="4181.6904">, "charges": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1785" y="4198.042">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1801" y="4214.3936">"chargeType": "Conversion fee"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1801" y="4230.7451">, "sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="1817" y="4247.0967">"currency": "BWP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="1817" y="4263.4482">, "amount": "33"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1801" y="4279.7998">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1801" y="4296.1514">, "targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="1817" y="4312.5029">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="1817" y="4328.8545">, "amount": "6000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1801" y="4345.2061">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1785" y="4361.5576">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1769" y="4377.9092">]</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261" x="1753" y="4394.2607">, "validity": "2021-08-25T14:17:09.663+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1753" y="4410.6123">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1737" y="4426.9639">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="4462.1719" y2="4458.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="4462.1719" y2="4466.1719"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2002" y1="4462.1719" y2="4462.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1350" y="4457.3154">43</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="1368" y="4457.3154">Here's the signed conversion object</text><line style="stroke:#181818;stroke-width:1.0;" x1="2006" x2="1996" y1="4492.5234" y2="4488.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="2006" x2="1996" y1="4492.5234" y2="4496.5234"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333" x2="2007" y1="4492.5234" y2="4492.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="4487.667">44</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1358" y="4487.667">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="4539.2266" y2="4535.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="4539.2266" y2="4543.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="4539.2266" y2="4539.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="671" y="4526.1943">45</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="689" y="4518.0186">Here's the signed conversion object</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="329" x="689" y="4534.3701">PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9</text><line style="stroke:#181818;stroke-width:1.0;" x1="1326" x2="1316" y1="4569.5781" y2="4565.5781"/><line style="stroke:#181818;stroke-width:1.0;" x1="1326" x2="1316" y1="4569.5781" y2="4573.5781"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654" x2="1327" y1="4569.5781" y2="4569.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="4564.7217">46</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="679" y="4564.7217">Gotcha</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2952.5" x="0" y="4605.7539"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="4605.7539" y2="4605.7539"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="4608.7539" y2="4608.7539"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="150" x="1401.25" y="4594.5781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="132" x="1407.25" y="4612.0732">Sender Confirmation</text><polygon fill="#181818" points="346,4663.6328,336,4667.6328,346,4671.6328,342,4667.6328" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="340" x2="643" y1="4667.6328" y2="4667.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="352" y="4654.6006">47</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="370" y="4646.4248">Here's the quote for the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258" x="370" y="4662.7764">It expires at 2021-08-25T14:17:09.663+01:00</text><polygon fill="#181818" points="39,4775.7422,29,4779.7422,39,4783.7422,35,4779.7422" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33" x2="334" y1="4779.7422" y2="4779.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="45" y="4734.0068">48</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="63" y="4693.1279">Hi, Keeya: I can do the transfer.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="63" y="4709.4795">It'll cost you 55 BWP in fees</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="265" x="63" y="4725.8311">330 BWP will be deducted from your account,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="63" y="4742.1826">and Yaro will receive</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="63" y="4758.5342">50000 TZS.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="63" y="4774.8857">Let me know if you want to go ahead</text><polygon fill="#181818" points="323,4806.0938,333,4810.0938,323,4814.0938,327,4810.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28" x2="329" y1="4810.0938" y2="4810.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="35" y="4805.2373">49</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="53" y="4805.2373">Great! Yes please, go ahead</text><polygon fill="#181818" points="632,4836.4453,642,4840.4453,632,4844.4453,636,4840.4453" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="335" x2="638" y1="4840.4453" y2="4840.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="342" y="4835.5889">50</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267" x="360" y="4835.5889">Payer has accepted the terms please proceed</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1.0;" width="2952.5" x="0" y="4869.6211"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="4869.6211" y2="4869.6211"/><line style="stroke:#000000;stroke-width:1.0;" x1="0" x2="2952.5" y1="4872.6211" y2="4872.6211"/><rect fill="#EEEEEE" height="24.3516" style="stroke:#000000;stroke-width:2.0;" width="113" x="1419.75" y="4858.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="95" x="1425.75" y="4875.9404">Transfer Phase</text><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="696" y1="4915.1484" y2="4915.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="696" x2="696" y1="4915.1484" y2="4928.1484"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="696" y1="4928.1484" y2="4928.1484"/><polygon fill="#181818" points="665,4924.1484,655,4928.1484,665,4932.1484,661,4928.1484" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="4910.292">51</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="679" y="4910.292">First, activate the conversion</text><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="4958.5" y2="4954.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="1321" x2="1311" y1="4958.5" y2="4962.5"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="4958.5" y2="4958.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="4953.6436">52</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="224" x="679" y="4953.6436">Please confirm your part of the transfer</text><path d="M368,4971.5 L368,5242.5 L929,5242.5 L929,4981.5 L919,4971.5 L368,4971.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M919,4971.5 L919,4981.5 L929,4981.5 L919,4971.5 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="374" y="4989.9951">POST /fxTransfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="374" y="5006.3467">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="365" x="390" y="5022.6982">"commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420" x="390" y="5039.0498">, "determiningTransactionId": "d9ce59d4-3598-4396-8630-581bb0551451"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="390" y="5055.4014">, "requestingFsp": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="390" y="5071.7529">, "respondingFxp": "FDH_FX"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="390" y="5088.1045">, "sourceAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="406" y="5104.4561">"currency": "BWP",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="406" y="5120.8076">"amount": "330"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="390" y="5137.1592">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="390" y="5153.5107">, "targetAmount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105" x="406" y="5169.8623">"currency": "TZS",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="406" y="5186.2139">"amount": "54000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="390" y="5202.5654">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="524" x="390" y="5218.917">, "condition": "bdbcf517cfc7e474392935781cc14043602e53dc2e8e8452826c5241dfd5e7ab"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="374" y="5235.2686">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="5270.4766" y2="5266.4766"/><line style="stroke:#181818;stroke-width:1.0;" x1="650" x2="660" y1="5270.4766" y2="5274.4766"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="649" x2="1322" y1="5270.4766" y2="5270.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="666" y="5265.6201">53</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="684" y="5265.6201">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="5300.8281" y2="5300.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="5300.8281" y2="5313.8281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="5313.8281" y2="5313.8281"/><polygon fill="#181818" points="1344,5309.8281,1334,5313.8281,1344,5317.8281,1340,5313.8281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="5295.9717">54</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="1358" y="5295.9717">OK, so this is an FX confirmation.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="5360.5313" y2="5360.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="5360.5313" y2="5373.5313"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="5373.5313" y2="5373.5313"/><polygon fill="#181818" points="1344,5369.5313,1334,5373.5313,1344,5377.5313,1340,5373.5313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="5347.499">55</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="293" x="1358" y="5339.3232">Does the sender have an account in this currency?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="74" x="1358" y="5355.6748">Yes, it does.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="5403.8828" y2="5403.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="5403.8828" y2="5416.8828"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="5416.8828" y2="5416.8828"/><polygon fill="#181818" points="1344,5412.8828,1334,5416.8828,1344,5420.8828,1340,5416.8828" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="5399.0264">56</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1358" y="5399.0264">Liquidity check and reserve on Payer DFSP's account</text><path d="M1191,5429.8828 L1191,5488.8828 L1464,5488.8828 L1464,5439.8828 L1454,5429.8828 L1191,5429.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1454,5429.8828 L1454,5439.8828 L1464,5439.8828 L1454,5429.8828 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1197" y="5448.3779">Reservations:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1197" y="5464.7295"> </text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="252" x="1197" y="5481.0811">PayerFSP has a reservation of 330 BWP</text><line style="stroke:#181818;stroke-width:1.0;" x1="2001" x2="1991" y1="5532.6406" y2="5528.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="2001" x2="1991" y1="5532.6406" y2="5536.6406"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2002" y1="5532.6406" y2="5532.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="5519.6084">57</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="1358" y="5511.4326">Please confirm the currency conversion part of the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="114" x="1362" y="5527.7842">POST /fxTransfers</text><line style="stroke:#181818;stroke-width:1.0;" x1="1329" x2="1339" y1="5562.9922" y2="5558.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="1329" x2="1339" y1="5562.9922" y2="5566.9922"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1328" x2="2002" y1="5562.9922" y2="5562.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1345" y="5558.1357">58</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1363" y="5558.1357">202 I'll get back to you</text><polygon fill="#181818" points="2323,5589.3438,2333,5593.3438,2323,5597.3438,2327,5593.3438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2013" x2="2329" y1="5593.3438" y2="5593.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2020" y="5588.4873">59</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183" x="2038" y="5588.4873">Reserve funds for FX conversion</text><polygon fill="#181818" points="2024,5619.6953,2014,5623.6953,2024,5627.6953,2020,5623.6953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2018" x2="2334" y1="5623.6953" y2="5623.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2030" y="5618.8389">60</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="2048" y="5618.8389">Success</text><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="5654.0469" y2="5650.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1344" y1="5654.0469" y2="5658.0469"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2002" y1="5654.0469" y2="5654.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1350" y="5649.1904">61</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="1368" y="5649.1904">Confirmed. Here's the fulfilment</text><path d="M1736,5667.0469 L1736,5775.0469 L2280,5775.0469 L2280,5677.0469 L2270,5667.0469 L1736,5667.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2270,5667.0469 L2270,5677.0469 L2280,5677.0469 L2270,5667.0469 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="1742" y="5685.542">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1742" y="5701.8936">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="1758" y="5718.2451">"fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="1758" y="5734.5967">, "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1758" y="5750.9482">, "conversionState": "RESERVED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1742" y="5767.2998">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2006" x2="1996" y1="5802.5078" y2="5798.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="2006" x2="1996" y1="5802.5078" y2="5806.5078"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333" x2="2007" y1="5802.5078" y2="5802.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="5797.6514">62</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1358" y="5797.6514">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="5832.8594" y2="5832.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="5832.8594" y2="5845.8594"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="5845.8594" y2="5845.8594"/><polygon fill="#181818" points="1344,5841.8594,1334,5845.8594,1344,5849.8594,1340,5845.8594" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="5828.0029">63</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="1358" y="5828.0029">Check fulfilment matches and cancel if not.</text><path d="M599,5860.8594 L660,5860.8594 L660,5869.2109 L650,5879.2109 L599,5879.2109 L599,5860.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="451.5156" style="stroke:#000000;stroke-width:1.5;" width="1691" x="599" y="5860.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="614" y="5875.3545">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="105" x="675" y="5874.2783">[Conversion failed]</text><polygon fill="#181818" points="1991,5897.5625,2001,5901.5625,1991,5905.5625,1995,5901.5625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1997" y1="5901.5625" y2="5901.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="5896.7061">64</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="1358" y="5896.7061">Sorry. Conversion failed</text><path d="M1736,5914.5625 L1736,6022.5625 L2280,6022.5625 L2280,5924.5625 L2270,5914.5625 L1736,5914.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2270,5914.5625 L2270,5924.5625 L2280,5924.5625 L2270,5914.5625 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="370" x="1742" y="5933.0576">PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1742" y="5949.4092">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="507" x="1758" y="5965.7607">"fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="1758" y="5982.1123">, "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="1758" y="5998.4639">, "conversionState": "ABORTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1742" y="6014.8154">}</text><polygon fill="#181818" points="1344,6046.0234,1334,6050.0234,1344,6054.0234,1340,6050.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1338" x2="2002" y1="6050.0234" y2="6050.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1350" y="6045.167">65</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1368" y="6045.167">Acknowledged</text><line style="stroke:#181818;stroke-width:1.0;" x1="2013" x2="2055" y1="6101.7266" y2="6101.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="2055" x2="2055" y1="6101.7266" y2="6114.7266"/><line style="stroke:#181818;stroke-width:1.0;" x1="2008" x2="2055" y1="6114.7266" y2="6114.7266"/><polygon fill="#181818" points="2018,6110.7266,2008,6114.7266,2018,6118.7266,2014,6114.7266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2020" y="6088.6943">66</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="2038" y="6080.5186">Remove any reservations</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="2038" y="6096.8701">or obligations</text><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="6140.0781" y2="6136.0781"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="665" y1="6140.0781" y2="6144.0781"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1322" y1="6140.0781" y2="6140.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="671" y="6135.2217">67</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="689" y="6135.2217">Sorry. Conversion failed</text><path d="M1124,6153.0781 L1124,6244.0781 L1532,6244.0781 L1532,6163.0781 L1522,6153.0781 L1124,6153.0781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1522,6153.0781 L1522,6163.0781 L1532,6163.0781 L1522,6153.0781 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="387" x="1130" y="6171.5732">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc/error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1130" y="6187.9248">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="1146" y="6204.2764">"errorCode": "9999"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="260" x="1146" y="6220.6279">, "errorDescription": "Whatever the error was"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1130" y="6236.9795">}</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="599" x2="2290" y1="6250.8359" y2="6250.8359"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136" x="604" y="6262.2549">[Conversion succeeded]</text><polygon fill="#181818" points="665,6300.375,655,6304.375,665,6308.375,661,6304.375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="659" x2="1322" y1="6304.375" y2="6304.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="671" y="6291.3428">68</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="689" y="6283.167">Conversion succeeded subject to transfer success</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="352" x="689" y="6299.5186">PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><polygon fill="#181818" points="1316,6337.7266,1326,6341.7266,1316,6345.7266,1320,6341.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654" x2="1322" y1="6341.7266" y2="6341.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="6336.8701">69</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="679" y="6336.8701">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="696" y1="6388.4297" y2="6388.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="696" x2="696" y1="6388.4297" y2="6401.4297"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="696" y1="6401.4297" y2="6401.4297"/><polygon fill="#181818" points="665,6397.4297,655,6401.4297,665,6405.4297,661,6401.4297" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="6375.3975">70</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="679" y="6367.2217">OK, so that's all right</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189" x="679" y="6383.5732">Now I can send the transfer itself</text><polygon fill="#181818" points="1311,6427.7813,1321,6431.7813,1311,6435.7813,1315,6431.7813" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="1317" y1="6431.7813" y2="6431.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="6426.9248">71</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="679" y="6426.9248">Please do the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="810" y="6426.9248">POST /transfers</text><path d="M447,6444.7813 L447,6911.7813 L850,6911.7813 L850,6454.7813 L840,6444.7813 L447,6444.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M840,6444.7813 L840,6454.7813 L850,6454.7813 L840,6444.7813 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="453" y="6463.2764">POST /transfers</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="453" y="6479.6279">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="317" x="469" y="6495.9795">"transferId": "c720ae14-fc72-4acd-9113-8b601b34ba4d"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="469" y="6512.3311">, "payeeFsp": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150" x="469" y="6528.6826">, "payerFsp": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="469" y="6545.0342">, "amount": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101" x="485" y="6561.3857">"currency": "TZS"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="485" y="6577.7373">, "amount": "54000"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="469" y="6594.0889">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94" x="469" y="6610.4404">, "transaction": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="350" x="485" y="6626.792">, "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318" x="485" y="6643.1436">, "quoteId": "382987a8-75ce-4037-b500-c475e08c1727"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="485" y="6659.4951">, "payee": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118" x="501" y="6675.8467">"fspId": "PayeeFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="501" y="6692.1982">, "partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="517" y="6708.5498">"partyIdType": "MSISDN"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="517" y="6724.9014">, "partyIdentifier": "2551234567890"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="501" y="6741.2529">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="485" y="6757.6045">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="485" y="6773.9561">, "payer": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="501" y="6790.3076">"fspId": "PayerFSP"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="501" y="6806.6592">, "partyIdInfo": {</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="145" x="517" y="6823.0107">"partyIdType": "MSISDN"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190" x="517" y="6839.3623">, "partyIdentifier": "26787654321"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="501" y="6855.7139">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="485" y="6872.0654">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="469" y="6888.417">}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="453" y="6904.7686">}</text><polygon fill="#181818" points="660,6935.9766,650,6939.9766,660,6943.9766,656,6939.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654" x2="1322" y1="6939.9766" y2="6939.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="666" y="6935.1201">72</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="684" y="6935.1201">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="6970.3281" y2="6970.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="6970.3281" y2="6983.3281"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="6983.3281" y2="6983.3281"/><polygon fill="#181818" points="1344,6979.3281,1334,6983.3281,1344,6987.3281,1340,6983.3281" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="6965.4717">73</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="1358" y="6965.4717">Is there a dependent transfer? Yes</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="7030.0313" y2="7030.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="7030.0313" y2="7043.0313"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="7043.0313" y2="7043.0313"/><polygon fill="#181818" points="1344,7039.0313,1334,7043.0313,1344,7047.0313,1340,7043.0313" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7016.999">74</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="1358" y="7008.8232">Perform liquidity check and reserve funds</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248" x="1358" y="7025.1748">against creditor party to dependent transfer</text><path d="M1194,7056.0313 L1194,7131.0313 L1461,7131.0313 L1461,7066.0313 L1451,7056.0313 L1194,7056.0313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1451,7056.0313 L1451,7066.0313 L1461,7066.0313 L1451,7056.0313 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1200" y="7074.5264">Reservations:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1200" y="7090.8779"> </text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="1200" y="7107.2295">PayerFSP has a reservation of 330 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="246" x="1200" y="7123.5811">FDH_FX has a reservation of 54000 TZS</text><polygon fill="#181818" points="2425.5,7171.1406,2435.5,7175.1406,2425.5,7179.1406,2429.5,7175.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="2431.5" y1="7175.1406" y2="7175.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7162.1084">75</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127" x="1358" y="7153.9326">Please do the transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="98" x="1358" y="7170.2842">POST /transfers</text><polygon fill="#181818" points="1339,7201.4922,1329,7205.4922,1339,7209.4922,1335,7205.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333" x2="2436.5" y1="7205.4922" y2="7205.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1345" y="7200.6357">76</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="1363" y="7200.6357">202 I'll get back to you</text><line style="stroke:#181818;stroke-width:1.0;" x1="2447.5" x2="2489.5" y1="7268.5469" y2="7268.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="2489.5" x2="2489.5" y1="7268.5469" y2="7281.5469"/><line style="stroke:#181818;stroke-width:1.0;" x1="2448.5" x2="2489.5" y1="7281.5469" y2="7281.5469"/><polygon fill="#181818" points="2458.5,7277.5469,2448.5,7281.5469,2458.5,7285.5469,2454.5,7281.5469" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2454.5" y="7247.3389">77</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="2472.5" y="7230.9873">Let me check that the terms of the dependent transfer</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="2472.5" y="7247.3389">are the same as the ones I agreed to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="245" x="2472.5" y="7263.6904">and that the fulfilment and condition match</text><line style="stroke:#181818;stroke-width:1.0;" x1="2447.5" x2="2489.5" y1="7311.8984" y2="7311.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="2489.5" x2="2489.5" y1="7311.8984" y2="7324.8984"/><line style="stroke:#181818;stroke-width:1.0;" x1="2448.5" x2="2489.5" y1="7324.8984" y2="7324.8984"/><polygon fill="#181818" points="2458.5,7320.8984,2448.5,7324.8984,2458.5,7328.8984,2454.5,7324.8984" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2454.5" y="7307.042">78</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="2472.5" y="7307.042">Yes, they do. I approve the transfer</text><polygon fill="#181818" points="2846.5,7351.25,2856.5,7355.25,2846.5,7359.25,2850.5,7355.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="2447.5" x2="2852.5" y1="7355.25" y2="7355.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2454.5" y="7350.3936">79</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="259" x="2472.5" y="7350.3936">Please credit Yaro's account with 50000 TZS</text><polygon fill="#181818" points="1344,7381.6016,1334,7385.6016,1344,7389.6016,1340,7385.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1338" x2="2436.5" y1="7385.6016" y2="7385.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1350" y="7380.7451">80</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="239" x="1368" y="7380.7451">Transfer is confirmed, here's the fulfilment</text><path d="M2222,7398.6016 L2222,7506.6016 L2662,7506.6016 L2662,7408.6016 L2652,7398.6016 L2222,7398.6016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2652,7398.6016 L2652,7408.6016 L2662,7408.6016 L2652,7398.6016 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="338" x="2228" y="7417.0967">PUT /transfers/c720ae14-fc72-4acd-9113-8b601b34ba4d</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2228" y="7433.4482">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="403" x="2244" y="7449.7998">"fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="346" x="2244" y="7466.1514">, "completedTimestamp": "2021-08-25T14:17:08.227+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="2244" y="7482.5029">, "transferState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="2228" y="7498.8545">}</text><polygon fill="#181818" points="2430.5,7530.0625,2440.5,7534.0625,2430.5,7538.0625,2434.5,7534.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1333" x2="2436.5" y1="7534.0625" y2="7534.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7529.2061">81</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1358" y="7529.2061">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="7580.7656" y2="7580.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="7580.7656" y2="7593.7656"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="7593.7656" y2="7593.7656"/><polygon fill="#181818" points="1344,7589.7656,1334,7593.7656,1344,7597.7656,1340,7593.7656" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7567.7334">82</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="1358" y="7559.5576">Is there a dependent transfer?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="1358" y="7575.9092">Yes, there is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="7640.4688" y2="7640.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="7640.4688" y2="7653.4688"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="7653.4688" y2="7653.4688"/><polygon fill="#181818" points="1344,7649.4688,1334,7653.4688,1344,7657.4688,1340,7653.4688" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7627.4365">83</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="341" x="1358" y="7619.2607">Is this dependency against the debtor party to the transfer?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="1358" y="7635.6123">Yes, it is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="7683.8203" y2="7683.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="7683.8203" y2="7696.8203"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="7696.8203" y2="7696.8203"/><polygon fill="#181818" points="1344,7692.8203,1334,7696.8203,1344,7700.8203,1340,7696.8203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7678.9639">84</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="520" x="1358" y="7678.9639">Create an obligation from the debtor party to the party named in the dependency (the FXP)</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="7743.5234" y2="7743.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="7743.5234" y2="7756.5234"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="7756.5234" y2="7756.5234"/><polygon fill="#181818" points="1344,7752.5234,1334,7756.5234,1344,7760.5234,1340,7756.5234" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7730.4912">85</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="420" x="1358" y="7722.3154">Is the transfer denominated in the currency of the payee receive amount?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56" x="1358" y="7738.667">Yes, it is.</text><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1375" y1="7803.2266" y2="7803.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1375" x2="1375" y1="7803.2266" y2="7816.2266"/><line style="stroke:#181818;stroke-width:1.0;" x1="1334" x2="1375" y1="7816.2266" y2="7816.2266"/><polygon fill="#181818" points="1344,7812.2266,1334,7816.2266,1344,7820.2266,1340,7816.2266" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7790.1943">86</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352" x="1358" y="7782.0186">Create an obligation from the party named in the dependency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="1358" y="7798.3701">to the creditor party for the transfer</text><polygon fill="#181818" points="1991,7858.9297,2001,7862.9297,1991,7866.9297,1995,7862.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1333" x2="1997" y1="7862.9297" y2="7862.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1340" y="7849.8975">87</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="1358" y="7841.7217">The transfer succeeded.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180" x="1358" y="7858.0732">You can clear it in your ledgers</text><path d="M1132,7875.9297 L1132,7983.9297 L1523,7983.9297 L1523,7885.9297 L1513,7875.9297 L1132,7875.9297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1513,7875.9297 L1513,7885.9297 L1523,7885.9297 L1513,7875.9297 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="370" x="1138" y="7894.4248">PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1138" y="7910.7764">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="295" x="1154" y="7927.1279">"fulfilment": "2e6870fb4eda9c2a29ecf376ceb5b05c"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="348" x="1154" y="7943.4795">, "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204" x="1154" y="7959.8311">, "conversionState": "COMMITTED"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4" x="1138" y="7976.1826">}</text><line style="stroke:#181818;stroke-width:1.0;" x1="2013" x2="2055" y1="8011.3906" y2="8011.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="2055" x2="2055" y1="8011.3906" y2="8024.3906"/><line style="stroke:#181818;stroke-width:1.0;" x1="2014" x2="2055" y1="8024.3906" y2="8024.3906"/><polygon fill="#181818" points="2024,8020.3906,2014,8024.3906,2024,8028.3906,2020,8024.3906" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2020" y="8006.5342">88</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285" x="2038" y="8006.5342">Let's just check: does this match the stuff I sent?</text><line style="stroke:#181818;stroke-width:1.0;" x1="2013" x2="2055" y1="8054.7422" y2="8054.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="2055" x2="2055" y1="8054.7422" y2="8067.7422"/><line style="stroke:#181818;stroke-width:1.0;" x1="2014" x2="2055" y1="8067.7422" y2="8067.7422"/><polygon fill="#181818" points="2024,8063.7422,2014,8067.7422,2024,8071.7422,2020,8067.7422" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="2020" y="8049.8857">89</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="217" x="2038" y="8049.8857">It does. Great. I'll clear the conversion</text><polygon fill="#181818" points="1344,8094.0938,1334,8098.0938,1344,8102.0938,1340,8098.0938" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1338" x2="2007" y1="8098.0938" y2="8098.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1350" y="8093.2373">90</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="1368" y="8093.2373">200 Gotcha</text><path d="M1210,8111.0938 L1210,8202.0938 L1446,8202.0938 L1446,8121.0938 L1436,8111.0938 L1210,8111.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1436,8111.0938 L1436,8121.0938 L1446,8121.0938 L1436,8111.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="1216" y="8129.5889">Ledger positions:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="202" x="1216" y="8145.9404">PayerFSP has a debit of 330 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="1216" y="8162.292">FDH_FX has a credit of 330 BWP</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="1216" y="8178.6436">FDH_FX has a debit of 54000 TZS</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215" x="1216" y="8194.9951">PayeeFSP has a credit of 54000 TZS</text><polygon fill="#181818" points="665,8242.5547,655,8246.5547,665,8250.5547,661,8246.5547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="659" x2="1322" y1="8246.5547" y2="8246.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="671" y="8233.5225">91</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="689" y="8225.3467">Transfer is complete</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="338" x="689" y="8241.6982">PUT /transfers/c720ae14-fc72-4acd-9113-8b601b34ba4d</text><polygon fill="#181818" points="1316,8272.9063,1326,8276.9063,1316,8280.9063,1320,8276.9063" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="654" x2="1322" y1="8276.9063" y2="8276.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="8272.0498">92</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="679" y="8272.0498">200 Gotcha</text><line style="stroke:#181818;stroke-width:1.0;" x1="654" x2="696" y1="8307.2578" y2="8307.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="696" x2="696" y1="8307.2578" y2="8320.2578"/><line style="stroke:#181818;stroke-width:1.0;" x1="655" x2="696" y1="8320.2578" y2="8320.2578"/><polygon fill="#181818" points="665,8316.2578,655,8320.2578,665,8324.2578,661,8320.2578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="661" y="8302.4014">93</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184" x="679" y="8302.4014">Commit the funds in my ledgers</text><polygon fill="#181818" points="39,8346.6094,29,8350.6094,39,8354.6094,35,8350.6094" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="33" x2="648" y1="8350.6094" y2="8350.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="45" y="8345.7529">94</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213" x="63" y="8345.7529">Transfer was completed successfully</text><!--MD5=[5f1c567e4d8587ca450831b24466cec6]
@startuml

!$simplified = false
!$shortCutSingleFXP = false
!$hideSwitchDetail = false
!$senderName = "Keeya"
!$receiverName = "Yaro"
!$payerCurrency = "BWP"
!$payeeCurrency = "TZS"
!$payerFSPID = "PayerFSP"
!$payeeFSPID = "PayeeFSP"
!$payerMSISDN = "26787654321"
!$payeeMSISDN = "2551234567890"
!$payeeReceiveAmount = "50000"
!$payeeFee = "4000"
!$targetAmount = "54000"
!$fxpChargesSource = "33"
!$fxpChargesTarget = "6000"
!$fxpSourceAmount = "330"
!$fxpTargetAmount = "54000"
!$totalChargesSourceCurrency = "55"


title Cross Currency Payment using Mojaloop FX APIs POC\nPayer DFSP requests conversion with RECEIVE amount
actor "$senderName" as A1
box "Payer DFSP" #LightBlue  
  participant "Payer CBS" as PayerCBS
  participant "Payer\nMojaloop\nConnector" as D1
end box

participant "Mojaloop Switch" as S1

box "Discovery Service" #LightYellow
  participant "ALS Oracle" as ALS
end box

box "FX provider"  
  participant "FXP\nConnector" as FXP
  participant "Backend FX API" as FXPBackend
end box

box "Payee DFSP" #LightBlue   
  participant "Payee\nMojaloop\nConnector" as D2
  participant "Payee CBS" as PayeeCBS
end box

actor "$receiverName" as A2
autonumber

A1->PayerCBS:I'd like to pay $receiverName\n$payeeReceiveAmount $payeeCurrency for his latest book, please
PayerCBS->D1: Initiate remittance transfer
== Discovery Phase ==
activate D1
D1->>S1:I want to send to MSISDN $payeeMSISDN\n**GET /parties/MSISDN/$payeeMSISDN**
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->ALS:Who owns MSISDN $payeeMSISDN?
activate ALS
ALS- ->S1:It's $payeeFSPID
deactivate ALS
S1->>D2:Do you own MSISDN $payeeMSISDN?
activate D2
!if ($simplified != true)
D2- ->>S1:202 I'll get back to you
!endif
D2->D2: Check Sanction list status & trigger a refresh of the status
D2->PayeeCBS: Check account and get currency type
!if ($simplified != true)
PayeeCBS- ->D2: Result
!endif
deactivate S1
D2->>S1:Yes, it's $receiverName. He can receive in $payeeCurrency,\n and I can convert from $payerCurrency\n**PUT /parties/MSISDN/$payeeMSISDN**
!if ($simplified != true)
note over D2
    PUT /parties

    "party": {
    "partyIdInfo": {
    "partyIdType": "MSISDN",
    "partyIdentifier": "$payeeMSISDN"
    },
    "name": "$receiverName",
    "supportedCurrencies":[
    "$payeeCurrency"
    ],
    "kycInformation": "<Encrypted KYC Data>"
    }
end note
!else
note over D2
    Payee Info with Encrypted KYC Data
end note
!endif
activate S1
!if ($simplified != true)
S1- ->>D2:200 Gotcha
!endif
deactivate D2
S1->>D1:Yes, it's $receiverName. He can receive in $payeeCurrency\n**PUT /parties/MSISDN/$payeeMSISDN**
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif
deactivate S1

D1->D1: I will need to perform currency conversion\n but first I need to calculate how much currency I need.\n Let me find a currency conversion provider before I start.
== Get FX providers ==
D1->>S1:What FXPs do you know about?\n**GET /services/FXP**
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->ALS:What FXPs do you know about?
activate ALS
ALS- ->S1:FDH FX
deactivate ALS
S1->>D1:Here are the available FXPs:FDH FX
note over S1
    PUT /services/FXP

    "fxpProviders": [
    "FDH_FX"
    ]
end note
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif

D1->D1: I need to get a quote for the transfer from the Payee DFSP

== Agreement Phase ==
D1->>S1:Please quote for a payment of $payeeReceiveAmount $payeeCurrency.\n**POST /quotes**
note left
 This is a standard Mojaloop quote.
 No development required
end note
!if ($simplified != true)
note over D1
    POST /quotes
    {
        "quoteId": "382987a8-75ce-4037-b500-c475e08c1727"
        ,"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"
        , "payee": {
            "partyIdInfo": {
            "partyIdType": "MSISDN"
            , "partyIdentifier": "$payeeMSISDN"
            }
        }
        , "payer": {
            "partyIdInfo": {
                "partyIdType": "MSISDN"
                , "partyIdentifier": "$payerMSISDN"
            }
        },
        "amountType": **"RECEIVE"**
        , "amount": {
            "currency": "$payeeCurrency"
            , "amount": "$payeeReceiveAmount"
        }
        , "validity": "2021-08-25T14:17:09.663+01:00"
    }
end note
!endif
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->>D2:**POST /quotes**
activate D2
!if ($simplified != true)
D2- ->>S1:202 I'll get back to you
deactivate S1
!endif
D2->D2: Let me get a quote to do the conversion
!if ($shortCutSingleFXP != true)


D2->D2:OK, so I will charge $payeeFee $payeeCurrency for this.\nNow I create terms of the transfer and sign the transaction object
D2->>S1:Here's the signed quote
note over D2
    **put /quotes/382987a8-75ce-4037-b500-c475e08c1727**

    {
        "transferAmount": {
            "currency": "$payeeCurrency"
            , "amount": "$targetAmount"
        }
        , "payeeReceiveAmount": {
            "currency": "$payeeCurrency"
            , "amount": "$payeeReceiveAmount"
        },
        "payeeFspFee": {
            "currency": "$payeeCurrency"
            , "amount": "$payeeFee"
        }
        , "expiration": "2021-08-25T14:17:09.663+01:00
        , "transaction": {
            , "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"
            , "quoteId": "382987a8-75ce-4037-b500-c475e08c1727"
            , "payee": {
                "fspId": "$payeeFSPID"
                , "partyIdInfo": {
                    "partyIdType": "MSISDN"
                    , "partyIdentifier": "$payeeMSISDN"
                }
            }
            , "payer": {
                "fspId": "$payerFSPID"
                , "partyIdInfo": {
                    "partyIdType": "MSISDN"
                    , "partyIdentifier": "$payerMSISDN"
                }
            }
            , "amount": {
                "currency": "$payeeCurrency"
                "amount": "$targetAmount"
            }
            , "payeeReceiveAmount": {
                "currency": "$payeeCurrency"
                , "amount": "$payeeReceiveAmount"
            }
            , "converter": "PAYER"
        }
        , "condition": "BfNFPRgfKF8Ke9kpoNAagmcI4/Hya5o/rq9/fq97ZiA="
    }

end note
activate S1
!if ($simplified != true)
S1- ->>D2:200 Gotcha
!endif
deactivate D2
S1->>D1:Here's the signed quote\n**PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727**
activate D1
!if ($simplified != true)
D1- ->>S1:200 Gotcha
!endif
deactivate S1
D1->D1:OK, I can see that there are going to be $payeeFee $payeeCurrency in charges and I need send $targetAmount $payeeCurrency to make this transfer

group Currency Conversion 
D1->D1:Now I need to find out what the exchange rate is
deactivate S1
D1->D1:I'll ask FDH FX to perform my conversion

!if ($shortCutSingleFXP != true)
D1->>S1:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
!else
D1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
!endif
note over D1
    **post /fxQuotes**
    {
    "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9"
    , "conversionTerms": {
        "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
        , "counterPartyFsp": "FDH_FX"
        , "amountType": "RECEIVE"
        , "sourceAmount": {
            "currency": "$payerCurrency"
        }
        , "targetAmount": {
            "currency": "$payeeCurrency"
            , "amount": "$targetAmount"
        }
        , "validity": "2021-08-25T14:17:09.663+01:00"
    }
    }

end note
!if ($shortCutSingleFXP != true)
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
S1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.\n**POST /fxQuote**
activate FXP
!if ($simplified != true)
FXP- ->>S1:202 I'll get back to you
!endif
deactivate S1
!else
!endif
FXP->FXPBackend:Lookup FX rate
FXPBackend- ->FXP:Return FX rate
' !if ($shortCutSingleFXP != true)

note over FXP
    I will add a $fxpChargesSource $payerCurrency fee for undertaking the conversion.
    Now I'll set an expiry time, sign the quotation object,
    create an ILP prepare packet and return it in the intermediary object.

    NOTE: the ILP prepare packet contains the following items, all encoded:
    - The amount being sent (i.e. in the source currency)
    - An expiry time
    - The condition
    - The name of the FXP
    - The content of the conversion terms

    ** PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
    {
        "condition": "bdbcf517cfc7e474392935781cc14043602e53dc2e8e8452826c5241dfd5e7ab"
        , "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b"
            , "initiatingFsp": "$payerFSPID"
            "sourceAmount": {
                "currency": "$payerCurrency",
                "amount": "$fxpSourceAmount"
            }
            , "targetAmount": {
                "currency": "$payeeCurrency"",
                "amount": "$fxpTargetAmount"
            }
            , "charges": [
                {
                    "chargeType": "Conversion fee"
                    , "sourceAmount": {
                        "currency": "$payerCurrency"
                        , "amount": "$fxpChargesSource"
                    }
                    , "targetAmount": {
                        "currency": "$payeeCurrency"
                        , "amount": "$fxpChargesTarget"
                    }
                }
            ]
        , "validity": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
!if ($shortCutSingleFXP != true)
FXP->>S1:Here's the signed conversion object
activate S1
!if ($simplified != true)
S1- ->>FXP:200 Gotcha
!endif
deactivate FXP
S1->>D1:Here's the signed conversion object\n**PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
activate D1
!if ($simplified != true)
D1- ->>S1:Gotcha
!endif
deactivate S1
!else
FXP- ->>D1:Here's the signed conversion object\n**PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
activate D1
!endif

end group

== Sender Confirmation ==

D1->PayerCBS:Here's the quote for the transfer\nIt expires at 2021-08-25T14:17:09.663+01:00
PayerCBS->A1:Hi, $senderName: I can do the transfer.\nIt'll cost you $totalChargesSourceCurrency $payerCurrency in fees\n$fxpSourceAmount $payerCurrency will be deducted from your account,\nand $receiverName will receive\n$payeeReceiveAmount $payeeCurrency.\nLet me know if you want to go ahead
A1- ->PayerCBS:Great! Yes please, go ahead

PayerCBS- ->D1: Payer has accepted the terms please proceed

== Transfer Phase ==
D1->D1:First, activate the conversion
D1->>S1:Please confirm your part of the transfer
note over D1
**POST /fxTransfers**
{
    "commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc"
    , "determiningTransactionId": "d9ce59d4-3598-4396-8630-581bb0551451"
    , "requestingFsp": "$payerFSPID"
    , "respondingFxp": "FDH_FX"
    , "sourceAmount": {
        "currency": "$payerCurrency",
        "amount": "$fxpSourceAmount"
    }
    , "targetAmount": {
        "currency": "$payeeCurrency",
        "amount": "$fxpTargetAmount"
    }
    , "condition": "bdbcf517cfc7e474392935781cc14043602e53dc2e8e8452826c5241dfd5e7ab"
}
end note
activate S1
!if ($simplified != true)
S1- ->>D1:202 I'll get back to you
!endif
deactivate D1
!if ($hideSwitchDetail != true)
S1->S1:OK, so this is an FX confirmation.
S1->S1: Does the sender have an account in this currency?\nYes, it does.
!endif
S1->S1: Liquidity check and reserve on Payer DFSP's account
!if ($hideSwitchDetail != true)
note over S1
Reservations:

**$payerFSPID has a reservation of $fxpSourceAmount $payerCurrency**
end note
!endif
S1->>FXP:Please confirm the currency conversion part of the transfer\n** POST /fxTransfers**
activate FXP
!if ($simplified != true)
FXP- ->>S1:202 I'll get back to you
!endif
deactivate S1
FXP->FXPBackend:Reserve funds for FX conversion
FXPBackend->FXP:Success
FXP->>S1:Confirmed. Here's the fulfilment
note over FXP
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42"
    , "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"
    , "conversionState": "RESERVED"
}
end note
activate S1
!if ($simplified != true)
S1- ->>FXP:200 Gotcha
!endif
deactivate FXP
!if ($simplified != true)
S1->S1:Check fulfilment matches and cancel if not.
alt Conversion failed
S1->FXP:Sorry. Conversion failed
note over FXP
**PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42"
    , "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"
    , "conversionState": "ABORTED"
}
end note
activate FXP
FXP- ->S1:Acknowledged
FXP->FXP:Remove any reservations\nor obligations
deactivate FXP

S1->>D1:Sorry. Conversion failed
note over S1
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc/error**
{
    "errorCode": "9999"
    , "errorDescription": "Whatever the error was"
}
end note
activate D1
else Conversion succeeded
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**

end
!else
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
!endif
activate D1
!if ($simplified != true)
D1- ->S1:200 Gotcha
!endif
deactivate S1
D1->D1:OK, so that's all right\nNow I can send the transfer itself

D1->S1:Please do the transfer **POST /transfers**
!if ($simplified != true)
note over D1
POST /transfers
{
    "transferId": "c720ae14-fc72-4acd-9113-8b601b34ba4d"
    , "payeeFsp": "$payeeFSPID"
    , "payerFsp": "$payerFSPID"
    , "amount": {
        "currency": "$payeeCurrency"
        , "amount": "$targetAmount"
    }
    , "transaction": {
        , "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"
        , "quoteId": "382987a8-75ce-4037-b500-c475e08c1727"
        , "payee": {
            "fspId": "$payeeFSPID"
            , "partyIdInfo": {
                "partyIdType": "MSISDN"
                , "partyIdentifier": "$payeeMSISDN"
            }
        }
        , "payer": {
            "fspId": "$payerFSPID"
            , "partyIdInfo": {
                "partyIdType": "MSISDN"
                , "partyIdentifier": "$payerMSISDN"
            }
        }
    }
}
end note
!endif
activate S1
!if ($simplified != true)
S1- ->D1:202 I'll get back to you
!endif
deactivate D1
!if ($hideSwitchDetail != true)
S1->S1:Is there a dependent transfer? Yes
!endif
S1->S1:Perform liquidity check and reserve funds\nagainst creditor party to dependent transfer
note over S1
Reservations:

$payerFSPID has a reservation of $fxpSourceAmount $payerCurrency
**FDH_FX has a reservation of $targetAmount $payeeCurrency**
end note

S1->D2:Please do the transfer\n**POST /transfers**
activate D2
!if ($simplified != true)
D2- ->S1:202 I'll get back to you
!endif
deactivate S1
D2->D2:Let me check that the terms of the dependent transfer\nare the same as the ones I agreed to\nand that the fulfilment and condition match
D2->D2:Yes, they do. I approve the transfer
D2->PayeeCBS:Please credit $receiverName's account with $payeeReceiveAmount $payeeCurrency
D2->S1:Transfer is confirmed, here's the fulfilment
note over D2
**PUT /transfers/c720ae14-fc72-4acd-9113-8b601b34ba4d**
{
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s"
    , "completedTimestamp": "2021-08-25T14:17:08.227+01:00"
    , "transferState": "COMMITTED"
}
end note
activate S1
!if ($simplified != true)
S1- ->D2:200 Gotcha
!endif
deactivate D2
!if ($hideSwitchDetail != true)
S1->S1:Is there a dependent transfer?\nYes, there is.
S1->S1:Is this dependency against the debtor party to the transfer?\nYes, it is.
S1->S1:Create an obligation from the debtor party to the party named in the dependency (the FXP)
S1->S1:Is the transfer denominated in the currency of the payee receive amount?\nYes, it is.
S1->S1:Create an obligation from the party named in the dependency\nto the creditor party for the transfer
!else
S1->S1:Create obligations from the payer to the FXP and from FXP to the payee
!endif
S1->FXP:The transfer succeeded.\nYou can clear it in your ledgers
note over S1
**PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "fulfilment": "2e6870fb4eda9c2a29ecf376ceb5b05c"
    , "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"
    , "conversionState": "COMMITTED"
}
end note
activate FXP
FXP->FXP:Let's just check: does this match the stuff I sent?
FXP->FXP:It does. Great. I'll clear the conversion
FXP- ->S1:200 Gotcha
deactivate FXP
note over S1
    Ledger positions:
    $payerFSPID has a debit of $fxpSourceAmount $payerCurrency
    FDH_FX has a credit of $fxpSourceAmount $payerCurrency
    FDH_FX has a debit of $fxpTargetAmount $payeeCurrency
    $payeeFSPID has a credit of $targetAmount $payeeCurrency
end note
S1->D1:Transfer is complete\n**PUT /transfers/c720ae14-fc72-4acd-9113-8b601b34ba4d**
activate D1
!if ($simplified != true)
D1- ->S1:200 Gotcha
!endif
deactivate S1
D1->D1:Commit the funds in my ledgers
D1->A1:Transfer was completed successfully
deactivate D1

@enduml

@startuml



title Cross Currency Payment using Mojaloop FX APIs POC\nPayer DFSP requests conversion with RECEIVE amount
actor "Keeya" as A1
box "Payer DFSP" #LightBlue  
  participant "Payer CBS" as PayerCBS
  participant "Payer\nMojaloop\nConnector" as D1
end box

participant "Mojaloop Switch" as S1

box "Discovery Service" #LightYellow
  participant "ALS Oracle" as ALS
end box

box "FX provider"  
  participant "FXP\nConnector" as FXP
  participant "Backend FX API" as FXPBackend
end box

box "Payee DFSP" #LightBlue   
  participant "Payee\nMojaloop\nConnector" as D2
  participant "Payee CBS" as PayeeCBS
end box

actor "Yaro" as A2
autonumber

A1->PayerCBS:I'd like to pay Yaro\n50000 TZS for his latest book, please
PayerCBS->D1: Initiate remittance transfer
== Discovery Phase ==
activate D1
D1->>S1:I want to send to MSISDN 2551234567890\n**GET /parties/MSISDN/2551234567890**
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->ALS:Who owns MSISDN 2551234567890?
activate ALS
ALS- ->S1:It's PayeeFSP
deactivate ALS
S1->>D2:Do you own MSISDN 2551234567890?
activate D2
D2- ->>S1:202 I'll get back to you
D2->D2: Check Sanction list status & trigger a refresh of the status
D2->PayeeCBS: Check account and get currency type
PayeeCBS- ->D2: Result
deactivate S1
D2->>S1:Yes, it's Yaro. He can receive in TZS,\n and I can convert from BWP\n**PUT /parties/MSISDN/2551234567890**
note over D2
    PUT /parties

    "party": {
    "partyIdInfo": {
    "partyIdType": "MSISDN",
    "partyIdentifier": "2551234567890"
    },
    "name": "Yaro",
    "supportedCurrencies":[
    "TZS"
    ],
    "kycInformation": "<Encrypted KYC Data>"
    }
end note
activate S1
S1- ->>D2:200 Gotcha
deactivate D2
S1->>D1:Yes, it's Yaro. He can receive in TZS\n**PUT /parties/MSISDN/2551234567890**
activate D1
D1- ->>S1:200 Gotcha
deactivate S1

D1->D1: I will need to perform currency conversion\n but first I need to calculate how much currency I need.\n Let me find a currency conversion provider before I start.
== Get FX providers ==
D1->>S1:What FXPs do you know about?\n**GET /services/FXP**
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->ALS:What FXPs do you know about?
activate ALS
ALS- ->S1:FDH FX
deactivate ALS
S1->>D1:Here are the available FXPs:FDH FX
note over S1
    PUT /services/FXP

    "fxpProviders": [
    "FDH_FX"
    ]
end note
activate D1
D1- ->>S1:200 Gotcha

D1->D1: I need to get a quote for the transfer from the Payee DFSP

== Agreement Phase ==
D1->>S1:Please quote for a payment of 50000 TZS.\n**POST /quotes**
note left
 This is a standard Mojaloop quote.
 No development required
end note
note over D1
    POST /quotes
    {
        "quoteId": "382987a8-75ce-4037-b500-c475e08c1727"
        ,"transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"
        , "payee": {
            "partyIdInfo": {
            "partyIdType": "MSISDN"
            , "partyIdentifier": "2551234567890"
            }
        }
        , "payer": {
            "partyIdInfo": {
                "partyIdType": "MSISDN"
                , "partyIdentifier": "26787654321"
            }
        },
        "amountType": **"RECEIVE"**
        , "amount": {
            "currency": "TZS"
            , "amount": "50000"
        }
        , "validity": "2021-08-25T14:17:09.663+01:00"
    }
end note
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->>D2:**POST /quotes**
activate D2
D2- ->>S1:202 I'll get back to you
deactivate S1
D2->D2: Let me get a quote to do the conversion


D2->D2:OK, so I will charge 4000 TZS for this.\nNow I create terms of the transfer and sign the transaction object
D2->>S1:Here's the signed quote
note over D2
    **put /quotes/382987a8-75ce-4037-b500-c475e08c1727**

    {
        "transferAmount": {
            "currency": "TZS"
            , "amount": "54000"
        }
        , "payeeReceiveAmount": {
            "currency": "TZS"
            , "amount": "50000"
        },
        "payeeFspFee": {
            "currency": "TZS"
            , "amount": "4000"
        }
        , "expiration": "2021-08-25T14:17:09.663+01:00
        , "transaction": {
            , "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"
            , "quoteId": "382987a8-75ce-4037-b500-c475e08c1727"
            , "payee": {
                "fspId": "PayeeFSP"
                , "partyIdInfo": {
                    "partyIdType": "MSISDN"
                    , "partyIdentifier": "2551234567890"
                }
            }
            , "payer": {
                "fspId": "PayerFSP"
                , "partyIdInfo": {
                    "partyIdType": "MSISDN"
                    , "partyIdentifier": "26787654321"
                }
            }
            , "amount": {
                "currency": "TZS"
                "amount": "54000"
            }
            , "payeeReceiveAmount": {
                "currency": "TZS"
                , "amount": "50000"
            }
            , "converter": "PAYER"
        }
        , "condition": "BfNFPRgfKF8Ke9kpoNAagmcI4/Hya5o/rq9/fq97ZiA="
    }

end note
activate S1
S1- ->>D2:200 Gotcha
deactivate D2
S1->>D1:Here's the signed quote\n**PUT /quotes/382987a8-75ce-4037-b500-c475e08c1727**
activate D1
D1- ->>S1:200 Gotcha
deactivate S1
D1->D1:OK, I can see that there are going to be 4000 TZS in charges and I need send 54000 TZS to make this transfer

group Currency Conversion 
D1->D1:Now I need to find out what the exchange rate is
deactivate S1
D1->D1:I'll ask FDH FX to perform my conversion

D1->>S1:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.
note over D1
    **post /fxQuotes**
    {
    "conversionRequestId": "828cc75f-1654-415e-8fcd-df76cc9329b9"
    , "conversionTerms": {
        "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b",
        , "counterPartyFsp": "FDH_FX"
        , "amountType": "RECEIVE"
        , "sourceAmount": {
            "currency": "BWP"
        }
        , "targetAmount": {
            "currency": "TZS"
            , "amount": "54000"
        }
        , "validity": "2021-08-25T14:17:09.663+01:00"
    }
    }

end note
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->>FXP:Here is the initial version of the transfer.\nPlease quote me for the currency conversion.\n**POST /fxQuote**
activate FXP
FXP- ->>S1:202 I'll get back to you
deactivate S1
FXP->FXPBackend:Lookup FX rate
FXPBackend- ->FXP:Return FX rate

note over FXP
    I will add a 33 BWP fee for undertaking the conversion.
    Now I'll set an expiry time, sign the quotation object,
    create an ILP prepare packet and return it in the intermediary object.

    NOTE: the ILP prepare packet contains the following items, all encoded:
    - The amount being sent (i.e. in the source currency)
    - An expiry time
    - The condition
    - The name of the FXP
    - The content of the conversion terms

    ** PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
    {
        "condition": "bdbcf517cfc7e474392935781cc14043602e53dc2e8e8452826c5241dfd5e7ab"
        , "conversionTerms": {
            "conversionId": "581f68ef-b54f-416f-9161-ac34e889a84b"
            , "initiatingFsp": "PayerFSP"
            "sourceAmount": {
                "currency": "BWP",
                "amount": "330"
            }
            , "targetAmount": {
                "currency": "TZS"",
                "amount": "54000"
            }
            , "charges": [
                {
                    "chargeType": "Conversion fee"
                    , "sourceAmount": {
                        "currency": "BWP"
                        , "amount": "33"
                    }
                    , "targetAmount": {
                        "currency": "TZS"
                        , "amount": "6000"
                    }
                }
            ]
        , "validity": "2021-08-25T14:17:09.663+01:00"
        }
    }
end note
FXP->>S1:Here's the signed conversion object
activate S1
S1- ->>FXP:200 Gotcha
deactivate FXP
S1->>D1:Here's the signed conversion object\n**PUT /fxQuotes/828cc75f-1654-415e-8fcd-df76cc9329b9**
activate D1
D1- ->>S1:Gotcha
deactivate S1

end group

== Sender Confirmation ==

D1->PayerCBS:Here's the quote for the transfer\nIt expires at 2021-08-25T14:17:09.663+01:00
PayerCBS->A1:Hi, Keeya: I can do the transfer.\nIt'll cost you 55 BWP in fees\n330 BWP will be deducted from your account,\nand Yaro will receive\n50000 TZS.\nLet me know if you want to go ahead
A1- ->PayerCBS:Great! Yes please, go ahead

PayerCBS- ->D1: Payer has accepted the terms please proceed

== Transfer Phase ==
D1->D1:First, activate the conversion
D1->>S1:Please confirm your part of the transfer
note over D1
**POST /fxTransfers**
{
    "commitRequestId": "77c9d78d-c26a-4474-8b3c-99b96a814bfc"
    , "determiningTransactionId": "d9ce59d4-3598-4396-8630-581bb0551451"
    , "requestingFsp": "PayerFSP"
    , "respondingFxp": "FDH_FX"
    , "sourceAmount": {
        "currency": "BWP",
        "amount": "330"
    }
    , "targetAmount": {
        "currency": "TZS",
        "amount": "54000"
    }
    , "condition": "bdbcf517cfc7e474392935781cc14043602e53dc2e8e8452826c5241dfd5e7ab"
}
end note
activate S1
S1- ->>D1:202 I'll get back to you
deactivate D1
S1->S1:OK, so this is an FX confirmation.
S1->S1: Does the sender have an account in this currency?\nYes, it does.
S1->S1: Liquidity check and reserve on Payer DFSP's account
note over S1
Reservations:

**PayerFSP has a reservation of 330 BWP**
end note
S1->>FXP:Please confirm the currency conversion part of the transfer\n** POST /fxTransfers**
activate FXP
FXP- ->>S1:202 I'll get back to you
deactivate S1
FXP->FXPBackend:Reserve funds for FX conversion
FXPBackend->FXP:Success
FXP->>S1:Confirmed. Here's the fulfilment
note over FXP
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42"
    , "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"
    , "conversionState": "RESERVED"
}
end note
activate S1
S1- ->>FXP:200 Gotcha
deactivate FXP
S1->S1:Check fulfilment matches and cancel if not.
alt Conversion failed
S1->FXP:Sorry. Conversion failed
note over FXP
**PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "fulfilment": "188909ceb6cd5c35d5c6b394f0a9e5a0571199c332fbd013dc1e6b8a2d5fff42"
    , "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"
    , "conversionState": "ABORTED"
}
end note
activate FXP
FXP- ->S1:Acknowledged
FXP->FXP:Remove any reservations\nor obligations
deactivate FXP

S1->>D1:Sorry. Conversion failed
note over S1
**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc/error**
{
    "errorCode": "9999"
    , "errorDescription": "Whatever the error was"
}
end note
activate D1
else Conversion succeeded
S1->D1:Conversion succeeded subject to transfer success\n**PUT /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**

end
activate D1
D1- ->S1:200 Gotcha
deactivate S1
D1->D1:OK, so that's all right\nNow I can send the transfer itself

D1->S1:Please do the transfer **POST /transfers**
note over D1
POST /transfers
{
    "transferId": "c720ae14-fc72-4acd-9113-8b601b34ba4d"
    , "payeeFsp": "PayeeFSP"
    , "payerFsp": "PayerFSP"
    , "amount": {
        "currency": "TZS"
        , "amount": "54000"
    }
    , "transaction": {
        , "transactionId": "d9ce59d4-3598-4396-8630-581bb0551451"
        , "quoteId": "382987a8-75ce-4037-b500-c475e08c1727"
        , "payee": {
            "fspId": "PayeeFSP"
            , "partyIdInfo": {
                "partyIdType": "MSISDN"
                , "partyIdentifier": "2551234567890"
            }
        }
        , "payer": {
            "fspId": "PayerFSP"
            , "partyIdInfo": {
                "partyIdType": "MSISDN"
                , "partyIdentifier": "26787654321"
            }
        }
    }
}
end note
activate S1
S1- ->D1:202 I'll get back to you
deactivate D1
S1->S1:Is there a dependent transfer? Yes
S1->S1:Perform liquidity check and reserve funds\nagainst creditor party to dependent transfer
note over S1
Reservations:

PayerFSP has a reservation of 330 BWP
**FDH_FX has a reservation of 54000 TZS**
end note

S1->D2:Please do the transfer\n**POST /transfers**
activate D2
D2- ->S1:202 I'll get back to you
deactivate S1
D2->D2:Let me check that the terms of the dependent transfer\nare the same as the ones I agreed to\nand that the fulfilment and condition match
D2->D2:Yes, they do. I approve the transfer
D2->PayeeCBS:Please credit Yaro's account with 50000 TZS
D2->S1:Transfer is confirmed, here's the fulfilment
note over D2
**PUT /transfers/c720ae14-fc72-4acd-9113-8b601b34ba4d**
{
    "fulfilment": "mhPUT9ZAwd-BXLfeSd7-YPh46rBWRNBiTCSWjpku90s"
    , "completedTimestamp": "2021-08-25T14:17:08.227+01:00"
    , "transferState": "COMMITTED"
}
end note
activate S1
S1- ->D2:200 Gotcha
deactivate D2
S1->S1:Is there a dependent transfer?\nYes, there is.
S1->S1:Is this dependency against the debtor party to the transfer?\nYes, it is.
S1->S1:Create an obligation from the debtor party to the party named in the dependency (the FXP)
S1->S1:Is the transfer denominated in the currency of the payee receive amount?\nYes, it is.
S1->S1:Create an obligation from the party named in the dependency\nto the creditor party for the transfer
S1->FXP:The transfer succeeded.\nYou can clear it in your ledgers
note over S1
**PATCH /fxTransfers/77c9d78d-c26a-4474-8b3c-99b96a814bfc**
{
    "fulfilment": "2e6870fb4eda9c2a29ecf376ceb5b05c"
    , "completedTimeStamp": "2021-08-25T14:17:08.175+01:00"
    , "conversionState": "COMMITTED"
}
end note
activate FXP
FXP->FXP:Let's just check: does this match the stuff I sent?
FXP->FXP:It does. Great. I'll clear the conversion
FXP- ->S1:200 Gotcha
deactivate FXP
note over S1
    Ledger positions:
    PayerFSP has a debit of 330 BWP
    FDH_FX has a credit of 330 BWP
    FDH_FX has a debit of 54000 TZS
    PayeeFSP has a credit of 54000 TZS
end note
S1->D1:Transfer is complete\n**PUT /transfers/c720ae14-fc72-4acd-9113-8b601b34ba4d**
activate D1
D1- ->S1:200 Gotcha
deactivate S1
D1->D1:Commit the funds in my ledgers
D1->A1:Transfer was completed successfully
deactivate D1

@enduml

PlantUML version 1.2022.6(Tue Jun 21 18:34:49 BST 2022)
(GPLV2 source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) Client VM
Default Encoding: Cp1252
Language: en
Country: GB
--></g></svg>